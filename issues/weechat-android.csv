repository,state,title,label,body
ubergeek42/weechat-android,open,"""Hot message"" notifications keep repeating since v0.13",[],"Steps to reproduce:
1. receive a ""hot message"" (eg. a highlight)
2. go to buffer in weechat android and read message: notification goes away
3. watch as the same notification for the same message pops up again after a while. Conditions for the notification popup to reappear are unclear: time? ""x"" new messages in buffer? I couldn't determine that precisely.
The only way to make the notifications go completely away is to acknowledge the hot messages directly in the weechat client itself.
I don't remember this from 0.12 or previous versions, but I might be wrong. I'll look for an older apk if I can."
ubergeek42/weechat-android,open,Crash outside app code in InputConnection.closeConnection() when switching theme (recreating activity),"[Label(name=""light-theme"")]","    2018-10-25 16:43:20.681 20592-20592/com.ubergeek42.WeechatAndroid.debug E/AndroidRuntime: FATAL EXCEPTION: main
    Process: com.ubergeek42.WeechatAndroid.debug, PID: 20592
    java.lang.NullPointerException: Attempt to invoke interface method 'void android.view.inputmethod.InputConnection.closeConnection()' on a null object reference
        at android.view.inputmethod.InputConnectionWrapper.closeConnection(InputConnectionWrapper.java:270)
        at com.android.tools.profiler.support.event.InputConnectionWrapper.closeConnection(InputConnectionWrapper.java:49)
        at com.android.internal.view.IInputConnectionWrapper.executeMessage(IInputConnectionWrapper.java:541)
        at com.android.internal.view.IInputConnectionWrapper$MyHandler.handleMessage(IInputConnectionWrapper.java:85)
        at android.os.Handler.dispatchMessage(Handler.java:106)
        at android.os.Looper.loop(Looper.java:164)
        at android.app.ActivityThread.main(ActivityThread.java:6501)
        at java.lang.reflect.Method.invoke(Native Method)
        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:438)
        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:807)"
ubergeek42/weechat-android,open,Reintroduce title in buffer list?,[],"Recently the buffer title was removed from the buffer list, and moved to the top of the scrollback.
However I found very useful the option to show the title in the buffer list, and I would like to know if it can be reintroduced.

Why? Having the title in the buffer list is very useful when using, for example, wee-slack to connect to Slack teams. Slack teams have a default #general channel, and it's now difficult to know which channel belongs to which team without opening it.
I'd be happy to help with testing - I am already enrolled in the beta testing program on the Play Store.
Thanks!"
ubergeek42/weechat-android,closed,Invalid Host,[],"Hello,

when trying to connect to my weechat relay I have an error message saying: 

```
Invalid Host
You are trying to connect to xxx.xxx.... but the certificate is only valid for these hosts: 
(none)
```

When I use Glowing Bear, to be able to connect, I have to visit first in the browser https://xx.xxx.250.120:8000/weechat and only after I can connect to my weechat relay.

But how can I do that in weechat-android ?

Thank you."
ubergeek42/weechat-android,open,App does not work on Pixel 3 XL,[],"Just got my Pixel 3 XL and weechat-android does not work. Just get stuck with the cat as shown here: https://linx.li/selif/vdgnqa95.png

Edit with a tiny bit more information: I tried a few things including reinstalling the app after clearing data and rebooting the phone. I also tried the nightly built with the same result."
ubergeek42/weechat-android,closed,The button to quit the app is missing.,[],
ubergeek42/weechat-android,closed,Can't whitelist own certificate,[],"Hello

Official update via Google Play turned up today. 

It did not connect. 

There is just a popup that says
""Invalid hostname
You are trying to connect to (server address) but the certificate is for (my name)."" 

It is a self signed certificate. There is no way to whitelist it anymore. 

Please add that option. "
ubergeek42/weechat-android,open,crash when connecting to ssl using plain connection,[],"crash when connecting to ssl using plain connection

	09-23 14:00:34.855 17238-17260/com.ubergeek42.WeechatAndroid.debug E/AndroidRuntime: FATAL EXCEPTION: r0
	    Process: com.ubergeek42.WeechatAndroid.debug, PID: 17238
	    java.lang.OutOfMemoryError: Failed to allocate a 1213486176 byte allocation with 1572864 free bytes and 254MB until OOM, max allowed footprint 2998592, growth limit 268435456
	        at com.ubergeek42.weechat.relay.connection.AbstractConnection.enlarge(AbstractConnection.java:179)
	        at com.ubergeek42.weechat.relay.connection.AbstractConnection.readLoop(AbstractConnection.java:153)
	        at com.ubergeek42.weechat.relay.connection.AbstractConnection.access$300(AbstractConnection.java:23)
	        at com.ubergeek42.weechat.relay.connection.AbstractConnection$2.run(AbstractConnection.java:91)
	        at java.lang.Thread.run(Thread.java:764)"
ubergeek42/weechat-android,closed,Cert error in nightly build,[],"![image](https://user-images.githubusercontent.com/3598059/45627088-6443f680-ba91-11e8-8f54-6801c6290e5f.png)

How can I fix this error? 
Using weechat ssl + nightly build.

It works fine in the regular app, but it has started to re-render every 30sec or so which is super annoying. 

"
ubergeek42/weechat-android,open,RFE: Notifications only when away,[],"I'd like to leave weechat-android running all the time but it's annoying to get notifications when I'm right at my computer. I tend to go `/away` when I leave and that's more or less the only time I'm interested in getting mobile notifications.

Could we get an extra switch for ""notify me but only when I'm away""?"
ubergeek42/weechat-android,open,crash while ???,[],"this is only happening on a VERY shaky german internet while traveling by car

idk why AbstractConnection's disconnect() was called
idk why relay number(?) 223 was reused(?)

    08-20 17:15:15.391 2624-2624/? D/ğŸ±: main : MainPagerAdapter: â†’ closeBuffer(name=""irc.free.#python"")
    08-20 17:15:15.407 2624-2624/? V/ğŸ±: main : MainPagerAdapter: â†’ destroyItem(container=android.support.v4.view.ViewPager{87ea02e VFED..... ........ 0,0-720,1136 #7f080063 app:id/main_viewpager}, i=0, object=BufferFragment{44c67cf #1 id=0x7f080063 irc.free.#python}) Â» removing
        main : MainPagerAdapter: â†’ instantiateItem(container=android.support.v4.view.ViewPager{87ea02e VFED..... ........ 0,0-720,1136 #7f080063 app:id/main_viewpager}, i=1) Â» attaching
        main : #pyt : BF: â†’ onVisibilityStateChanged(state=PAGER_FOCUS) Â» proceeding!
        main : #pyt : Buffer: â†’ setWatched(watched=false)
    08-20 17:15:15.408 2624-2624/? V/ğŸ±: main : ##by : BF: â†’ onVisibilityStateChanged(state=PAGER_FOCUS) Â» proceeding!
        main : ##by : Buffer: â†’ setWatched(watched=true)
    08-20 17:15:15.440 2624-2624/? V/ğŸ±: main : #pyt : BF: â†’ onStop()
    08-20 17:15:15.441 2624-2624/? V/ğŸ±: main : #pyt : BF: â†’ detachFromBuffer()
        main : #pyt : BF: â†’ onVisibilityStateChanged(state=ATTACHMENT) Â» proceeding!
        main : #pyt : Buffer: â†’ setBufferEye(bufferEye=null)
    08-20 17:15:15.446 2624-2624/? V/ğŸ±: main : #pyt : BF: â†’ onDetach()
    08-20 17:15:15.447 2624-2624/? V/ğŸ±: main : #mar : BF: â†’ onCreateView(inflater=com.android.internal.policy.PhoneLayoutInflater@53e429c, container=android.support.v4.view.ViewPager{87ea02e VFED..... ......ID 0,0-720,1136 #7f080063 app:id/main_viewpager}, savedInstanceState=null)
    08-20 17:15:15.512 2624-2624/? V/ğŸ±: main : #mar : BF: â†’ onStart()
        main : #mar : BF: â†’ onEvent(event=StateChangedEvent(state=[STARTED, AUTHENTICATED, LISTED]))
        main : #mar : BF: â†’ attachToBuffer()
    08-20 17:15:15.513 2624-2624/? V/ğŸ±: main : #mar : Buffer: â†’ setBufferEye(bufferEye=BufferFragment{82548b7 #4 id=0x7f080063 irc.dal.#marty})
        main : 0    : RelayService: â†’ onEvent(event=SendMessageEvent(message=(21) hdata buffer:0x1d50098/own_lines/last_line(-200)/data date,displayed,prefix,message,highlight,notify,tags_array))
    08-20 17:15:15.514 2624-2624/? V/ğŸ±: main : 0    : RelayService: â†’ onEvent(event=SendMessageEvent(message=(nicklist) nicklist 0x1d50098))
    08-20 17:15:15.543 2624-2624/? V/ğŸ±: main : #mar : BF: â†’ onVisibilityStateChanged(state=ATTACHMENT) Ã—
        main : #pyt : Buffer: â†’ setOpen(open=false)
        main : 0    : RelayService: â†’ onEvent(event=SendMessageEvent(message=desync 0x2381478))
    08-20 17:15:15.544 2624-2624/? V/ğŸ±: main : BLF: â†’ onBuffersChanged()
    08-20 17:15:15.859 2624-10380/? D/OpenGLRenderer: endAllActiveAnimators on 0x9b9c8700 (MenuPopupWindow$MenuDropDownListView) with handle 0x9c439f20
    08-20 17:15:17.699 2624-2624/? D/ğŸ±: main : MainPagerAdapter: â†’ closeBuffer(name=""irc.free.##byzantine"")
    08-20 17:15:17.700 2624-2624/? V/ğŸ±: main : MainPagerAdapter: â†’ destroyItem(container=android.support.v4.view.ViewPager{87ea02e VFED..... .......D 0,0-720,1136 #7f080063 app:id/main_viewpager}, i=0, object=BufferFragment{543755c #2 id=0x7f080063 irc.free.##byzantine}) Â» removing
        main : MainPagerAdapter: â†’ instantiateItem(container=android.support.v4.view.ViewPager{87ea02e VFED..... .......D 0,0-720,1136 #7f080063 app:id/main_viewpager}, i=1) Â» attaching
        main : ##by : BF: â†’ onVisibilityStateChanged(state=PAGER_FOCUS) Â» proceeding!
        main : ##by : Buffer: â†’ setWatched(watched=false)
    08-20 17:15:17.704 2624-2624/? V/ğŸ±: main : #mar : BF: â†’ onVisibilityStateChanged(state=PAGER_FOCUS) Ã—
        main : ##by : BF: â†’ onStop()
        main : ##by : BF: â†’ detachFromBuffer()
        main : ##by : BF: â†’ onVisibilityStateChanged(state=ATTACHMENT) Â» proceeding!
        main : ##by : Buffer: â†’ setBufferEye(bufferEye=null)
    08-20 17:15:17.706 2624-2624/? V/ğŸ±: main : ##by : BF: â†’ onDetach()
    08-20 17:15:17.707 2624-2624/? V/ğŸ±: main : #sUi : BF: â†’ onCreateView(inflater=com.android.internal.policy.PhoneLayoutInflater@c541b87, container=android.support.v4.view.ViewPager{87ea02e VFED..... ......ID 0,0-720,1136 #7f080063 app:id/main_viewpager}, savedInstanceState=null)
    08-20 17:15:17.721 2624-2624/? V/ğŸ±: main : #sUi : BF: â†’ onStart()
        main : #sUi : BF: â†’ onEvent(event=StateChangedEvent(state=[STARTED, AUTHENTICATED, LISTED]))
        main : #sUi : BF: â†’ attachToBuffer()
        main : #Ğ¼ÑƒÑ€ : Buffer: â†’ setBufferEye(bufferEye=BufferFragment{b2c53b6 #3 id=0x7f080063 irc.dal.#sUiCiDe})
    08-20 17:15:17.722 2624-2624/? V/ğŸ±: main : 0    : RelayService: â†’ onEvent(event=SendMessageEvent(message=(22) hdata buffer:0x190cfd8/own_lines/last_line(-200)/data date,displayed,prefix,message,highlight,notify,tags_array))
        main : 0    : RelayService: â†’ onEvent(event=SendMessageEvent(message=(nicklist) nicklist 0x190cfd8))
    08-20 17:15:17.745 2624-2624/? V/ğŸ±: main : #sUi : BF: â†’ onVisibilityStateChanged(state=ATTACHMENT) Ã—
        main : ##by : Buffer: â†’ setOpen(open=false)
    08-20 17:15:17.746 2624-2624/? V/ğŸ±: main : 0    : RelayService: â†’ onEvent(event=SendMessageEvent(message=desync 0x18c2c30))
        main : BLF: â†’ onBuffersChanged()
    08-20 17:15:18.056 2624-10380/? D/OpenGLRenderer: endAllActiveAnimators on 0x9c045480 (MenuPopupWindow$MenuDropDownListView) with handle 0x9c9f6680
    08-20 17:15:22.627 2624-2624/? D/ğŸ±: main : MainPagerAdapter: â†’ closeBuffer(name=""irc.dal.#marty"")
    08-20 17:15:22.628 2624-2624/? V/ğŸ±: main : MainPagerAdapter: â†’ destroyItem(container=android.support.v4.view.ViewPager{87ea02e VFED..... .......D 0,0-720,1136 #7f080063 app:id/main_viewpager}, i=0, object=BufferFragment{82548b7 #4 id=0x7f080063 irc.dal.#marty}) Â» removing
        main : #mar : BF: â†’ onVisibilityStateChanged(state=PAGER_FOCUS) Ã—
    08-20 17:15:22.641 2624-2624/? V/ğŸ±: main : #sUi : BF: â†’ onVisibilityStateChanged(state=PAGER_FOCUS) Ã—
        main : #mar : BF: â†’ onStop()
        main : #mar : BF: â†’ detachFromBuffer()
        main : #mar : BF: â†’ onVisibilityStateChanged(state=ATTACHMENT) Ã—
        main : #mar : Buffer: â†’ setBufferEye(bufferEye=null)
    08-20 17:15:22.644 2624-2624/? V/ğŸ±: main : #mar : BF: â†’ onDetach()
    08-20 17:15:22.681 2624-2624/? V/ğŸ±: main : #mar : Buffer: â†’ setOpen(open=false)
    08-20 17:15:22.690 2624-2624/? V/ğŸ±: main : 0    : RelayService: â†’ onEvent(event=SendMessageEvent(message=desync 0x1d50098))
        main : BLF: â†’ onBuffersChanged()
    08-20 17:15:23.006 2624-10380/? D/OpenGLRenderer: endAllActiveAnimators on 0x9c06d700 (MenuPopupWindow$MenuDropDownListView) with handle 0x9ca97350
    08-20 17:15:23.905 2624-2624/? D/ğŸ±: main : MainPagerAdapter: â†’ closeBuffer(name=""irc.dal.#sUiCiDe"")
    08-20 17:15:23.905 2624-2624/? V/ğŸ±: main : MainPagerAdapter: â†’ destroyItem(container=android.support.v4.view.ViewPager{87ea02e VFED..... ........ 0,0-720,1136 #7f080063 app:id/main_viewpager}, i=0, object=BufferFragment{b2c53b6 #3 id=0x7f080063 irc.dal.#sUiCiDe}) Â» removing
    08-20 17:15:23.964 2624-2624/? V/ğŸ±: main : #sUi : BF: â†’ onStop()
    08-20 17:15:23.965 2624-2624/? V/ğŸ±: main : #sUi : BF: â†’ detachFromBuffer()
        main : #sUi : BF: â†’ onVisibilityStateChanged(state=ATTACHMENT) Ã—
        main : #Ğ¼ÑƒÑ€ : Buffer: â†’ setBufferEye(bufferEye=null)
    08-20 17:15:23.967 2624-2624/? V/ğŸ±: main : #sUi : BF: â†’ onDetach()
    08-20 17:15:24.051 2624-2624/? V/ğŸ±: main : #Ğ¼ÑƒÑ€ : Buffer: â†’ setOpen(open=false)
    08-20 17:15:24.052 2624-2624/? V/ğŸ±: main : 0    : RelayService: â†’ onEvent(event=SendMessageEvent(message=desync 0x190cfd8))
        main : BLF: â†’ onBuffersChanged()
    08-20 17:15:24.401 2624-10380/? D/OpenGLRenderer: endAllActiveAnimators on 0x9c04d800 (MenuPopupWindow$MenuDropDownListView) with handle 0x9b9f8150
    08-20 17:15:25.044 2624-29629/? D/ğŸ¶: Thre : WebSocketConnection WebSocket.onMessage(6122 bytes)
    08-20 17:15:25.046 2624-29629/? D/ğŸ¶: Thre : WebSocketConnection WebSocket.onMessage(345 bytes)
    08-20 17:15:25.092 2624-29631/? V/ğŸ¶: r71  : RelayConnection onMessage(id = 21)
    08-20 17:15:25.092 2624-29631/? V/ğŸ±: r71  : 0    : RelayService: â†’ onMessage(""21"")
    08-20 17:15:25.096 2624-29631/? D/ğŸ¶: r71  : AbstractConnection disconnect()
    08-20 17:15:25.100 2624-2624/? V/ğŸ±: main : WA: â†’ onEvent(event=StateChangedEvent(state=[STOPPED]))
        main : WA: â†’ adjustUI()
    08-20 17:15:25.100 2624-29631/? V/ğŸ±: r71  : BLF: â†’ onEvent(event=StateChangedEvent(state=[STOPPED]))
    08-20 17:15:25.122 2624-29631/? V/ğŸ±: r71  : 0    : RelayService: â†’ goodbye()
    08-20 17:15:25.134 2624-29631/? V/ğŸ±: r71  : P: â†’ saveStuff()
    08-20 17:15:25.226 2624-29631/? V/ğŸ±: r71  : Hotlist: â†’ redraw(connected=false)
    08-20 17:15:25.309 2624-2624/? D/ğŸ±: main : P: â†’ onSharedPreferenceChanged(sharedPreferences=android.app.SharedPreferencesImpl@c31ec9b, key=""sb"")
    08-20 17:15:25.310 2624-2624/? V/ğŸ±: main : 0    : RelayService: â†’ start()
    08-20 17:15:25.311 2624-2624/? V/ğŸ±: main : WA: â†’ onEvent(event=StateChangedEvent(state=[STARTED]))
        main : WA: â†’ adjustUI()
        
        --------- beginning of crash
    08-20 17:15:25.326 2624-29631/? E/AndroidRuntime: FATAL EXCEPTION: r71
        Process: com.ubergeek42.WeechatAndroid.debug, PID: 2624
        java.lang.AssertionError: expected:<INIT> but was:<FETCHING>
            at org.junit.Assert.fail(Assert.java:88)
            at org.junit.Assert.failNotEquals(Assert.java:834)
            at org.junit.Assert.assertEquals(Assert.java:118)
            at org.junit.Assert.assertEquals(Assert.java:144)
            at com.ubergeek42.WeechatAndroid.relay.Lines.addFirst(Lines.java:74)
            at com.ubergeek42.WeechatAndroid.relay.Buffer.addLine_aroundBody8(Buffer.java:197)
            at com.ubergeek42.WeechatAndroid.relay.Buffer$AjcClosure9.run(Buffer.java:1)
            at org.aspectj.runtime.reflect.JoinPointImpl.proceed(JoinPointImpl.java:149)
            at com.ubergeek42.cats.CatAspect.around(CatAspect.java:43)
            at com.ubergeek42.cats.CatAspect.ajc$inlineAccessMethod$com_ubergeek42_cats_CatAspect$com_ubergeek42_cats_CatAspect$around(CatAspect.java:1)
            at com.ubergeek42.cats.CatAspect.aroundCat(CatAspect.java:30)
            at com.ubergeek42.WeechatAndroid.relay.Buffer.addLine(Buffer.java:195)
            at com.ubergeek42.WeechatAndroid.relay.BufferList$BufferLineWatcher.handleMessage_aroundBody2(BufferList.java:366)
            at com.ubergeek42.WeechatAndroid.relay.BufferList$BufferLineWatcher$AjcClosure3.run(BufferList.java:1)
            at org.aspectj.runtime.reflect.JoinPointImpl.proceed(JoinPointImpl.java:149)
            at com.ubergeek42.cats.CatAspect.around(CatAspect.java:40)
            at com.ubergeek42.cats.CatAspect.ajc$inlineAccessMethod$com_ubergeek42_cats_CatAspect$com_ubergeek42_cats_CatAspect$around(CatAspect.java:1)
            at com.ubergeek42.cats.CatAspect.aroundCat(CatAspect.java:30)
            at com.ubergeek42.WeechatAndroid.relay.BufferList$BufferLineWatcher.handleMessage(BufferList.java:355)
            at com.ubergeek42.WeechatAndroid.relay.BufferList.handleMessage(BufferList.java:105)
            at com.ubergeek42.WeechatAndroid.service.RelayService.onMessage(RelayService.java:318)
            at com.ubergeek42.weechat.relay.RelayConnection.onMessage(RelayConnection.java:93)
            at com.ubergeek42.weechat.relay.connection.AbstractConnection.readLoop(AbstractConnection.java:147)
            at com.ubergeek42.weechat.relay.connection.AbstractConnection.access$300(AbstractConnection.java:21)
            at com.ubergeek42.weechat.relay.connection.AbstractConnection$2.run(AbstractConnection.java:83)
            at java.lang.Thread.run(Thread.java:761)
    08-20 17:15:25.350 2624-2624/? V/ğŸ±: main : BLF: â†’ onEvent(event=StateChangedEvent(state=[STARTED]))
        main : 0    : RelayService: â†’ _start()
    08-20 17:15:25.361 2624-2635/? I/art: Background sticky concurrent mark sweep GC freed 54923(1928KB) AllocSpace objects, 8(248KB) LOS objects, 5% free, 14MB/14MB, paused 11.639ms total 258.096ms
    08-20 17:15:25.420 2624-2666/? D/ğŸ¶: do0  : RelayConnection disconnect()
    08-20 17:15:25.421 2624-2666/? D/ğŸ¶: do0  : AbstractConnection disconnect()
    08-20 17:15:25.422 2624-2666/? D/ğŸ¶: do0  : RelayConnection connect()
    08-20 17:15:25.423 2624-2666/? D/ğŸ±: do0  : 0    : RelayService: â†’ connect() â† [3ms] â‡’ POSSIBLE
    08-20 17:15:25.424 2624-30394/? D/ğŸ¶: con7 : AbstractConnection hi
    08-20 17:15:26.054 2624-29629/? D/ğŸ¶: Thre : WebSocketConnection WebSocket.onClose(code=1000, reason=)
    08-20 17:15:26.326 2624-2624/? D/ğŸ±: main : WA: â†’ onStop()
    08-20 17:15:26.326 2624-2624/? V/ğŸ±: main : P: â†’ saveStuff()
    08-20 17:15:26.345 2624-2624/? V/ğŸ±: main : BLF: â†’ onStop()
    08-20 17:15:26.350 2624-2624/? D/ğŸ±: main : WA: â†’ onDestroy()
    08-20 17:15:26.352 2624-2624/? V/ğŸ±: main : BLF: â†’ onDestroyView()

corresponding log from weechat

    181517 <-- [223] we+obj: 6122/37885 bytes (84%, 5.59ms), id: 21
	181521 <-- [222] we+obj: 345/497 bytes (31%, 0.34ms), id: _buffer_line_added
	181521 <-- [223] we+obj: 345/497 bytes (31%, 0.29ms), id: _buffer_line_added
	181523 --> [223] we+(nicklist) nicklist 0x1d50098
	181523 <-- [223] we+obj: 246/507 bytes (52%, 0.31ms), id: nicklist
	181523 --> [223] we+desync 0x2381478
	181523 --> [223] we+(22) hdata buffer:0x190cfd8/own_lines/last_line(-200)/data date,displayed,prefix,message,highlight,notify,tags_array
	181523 <-- [223] we+obj: 7754/50113 bytes (85%, 13.05ms), id: 22
	181523 --> [223] we+(nicklist) nicklist 0x190cfd8
	181523 <-- [223] we+obj: 323/812 bytes (61%, 0.32ms), id: nicklist
	181523 --> [223] we+desync 0x18c2c30
	181525 --> [223] we+desync 0x1d50098
	181525 --> [223] we+desync 0x190cfd8
	181530 --> [223] we+GET /weechat HTTP/1.1
	181530              Upgrade: websocket
	181530              Connection: upgrade
	181530              X-Real-IP: 213.226.141.226
	181530              Host: 127.0.0.1:9000
	181530              Sec-WebSocket-Key: 9WPY9TUizkajmpgVsU8gNQ==
	181530              Sec-WebSocket-Version: 13
	181530
	181530 <-- [223] we+HTTP/1.1 101 Switching Protocols
	181530              Upgrade: websocket
	181530              Connection: Upgrade
	181530              Sec-WebSocket-Accept: jsCKNCxPtRbsyMUMRdhdyCAT9yA=
	181530
	181559 <-- [222] we+obj: 272/401 bytes (33%, 0.32ms), id: _buffer_line_added
	181559 <-- [222] we+obj: 201/281 bytes (29%, 0.28ms), id: _nicklist_diff
	181601 <-- [222] we+obj: 282/417 bytes (33%, 0.32ms), id: _buffer_line_added
	181601 <-- [222] we+obj: 205/284 bytes (28%, 0.16ms), id: _nicklist_diff
	181620 <-- [222] we+obj: 293/406 bytes (28%, 0.33ms), id: _buffer_line_added"
ubergeek42/weechat-android,closed,Fix assertions,[],
ubergeek42/weechat-android,closed,"Play store says my device is incompatible with the nightly version (Pixel XL, Android 9)",[],
ubergeek42/weechat-android,closed,fix socket closed before getting certificate,[],"i'm not sure how this worked in the first place, but it definitely shouldn't have. anyway, the bug it fixes somehow only showed up once i updated to android P."
ubergeek42/weechat-android,open,Possible to hide action bar on-demand?,[],"I don't know if this is possible already, but I'd like it to be an enhancement if not.

I have a very small screen so I'd like a way of turning off the action bar when I don't need it. Perhaps have a feature where you tap on the centre of the screen and have it show/hide?

Perhaps another thing may be to make it smaller. At the moment it seems to be taking 3 lines of text. I have a lot of space above and below the actual text, which makes it larger than I think is necesary."
ubergeek42/weechat-android,closed,App crashes on disconnect,[],"Any time I try to disconnect, the app crashes and restarts (in a connected state).

I'm using 0.13 and using Weechat ssl as the connection type (non-standard port)

"
ubergeek42/weechat-android,closed,Hidden buffers are displayed,[],"On weechat and glowing-bear I use the ""/buffer hide"" to hide secondary channels I don't really follow on a daily basis, but on weechat-android they are still displayed. It would be greate weechat-android don't display buffer names of hidden buffers in the buffer list.

However, a hidden buffer *with* a mention should still appear, and searching for a hidden buffer by name should show it."
ubergeek42/weechat-android,open,Notification sound played twice,[],"Since 0.13-dev the notification sound is played twice. 

I'm using weechat-android on a Nexus 5X with Android 8.1.0."
ubergeek42/weechat-android,open,History and scroll position is lost on reconnect,[],"Considering a user that can move with its phone in bad network conditions (eg. undergroud) or simply switching between carrier and wifi network, it's gonna cause WeeChat to disconnect and then reconnect/resync.

There's no issue on disconnect. However, when Weechat-Android is going to reconnect, all the ""more history"" backlog will disappear and need to be fetched again (which might be impossible under bad network conditions), and it'll also result in loosing the scroll position even when application is on foreground with user reading the channel."
ubergeek42/weechat-android,open,Weechat-Android loose scrolling position on screen rotation,[],"If user rotate the screen while scrolled in the backlog of a chan, then scroll position is lost instead of being saved and repositioned at the same place, this shouldn't be the case (especially user can accidentally rotate the screen)."
ubergeek42/weechat-android,open,Close buffer if double click on name on the top bar,[],"Right now, you need to click the dropdown + close to close a buffer. It will be nice to double click on the name of the open buffer to close it immediately, similar to how you can close a browser tab by middle clicking."
ubergeek42/weechat-android,open,Rejected hostkey,[],"Hi

Which format does the hostkey need to be? I've tried with both the output of `ssh-keyscan -t rsa $server` and `ssh-keyscan $server`, but still can't connect. 

I'm using latest version.

Thanks for your work."
ubergeek42/weechat-android,closed,Tab-completing a nickname at the beginning of a message should activate a single capital,"[Label(name=""wontfix"")]","When user tab-complete a nickname as first word of a message (with colons added at the end), first character after the space should be capitalized as it's most of the time to write a sentence.
This could also be an option the user can configure, preferably defaulting to capitalizing the first letter."
ubergeek42/weechat-android,open,"away status in ""users list"" ?",[],It would be nice if the app showed the away status for users in the users list (like you can see in weechat daemon).
ubergeek42/weechat-android,open,Tab completion for topic changes,[],"Would be nice to be able to tab-complete the current topic, after a `/topic `, just like weechat does. This makes editing an existing (long) topic a lot easier."
ubergeek42/weechat-android,closed,Upgrade dependencies,[],"I was looking for a bug but seems like everything is fine, instead I needed to upgrade dependencies to run the project so I created PR too. List of changes:

Upgraded gradle version for android studio 3.0
Upgraded dependencies to newest support library
Upgraded build tools"
ubergeek42/weechat-android,open,Weechat does not send but discard message,"[Label(name=""enhancement"")]",It sometimes happens that weechat android does not send a message you just typed to IRC but instead the message gets lost. It looks like the app is successfully connected to weechat and weechat is successfully connected to IRC. Clicking on <kbd>disconnect</kbd> and <kbd>connect</kbd> and typing and sending the message again seems to fix the problem.
ubergeek42/weechat-android,open,OrBot - Tor socks5 option,[],"Great app but is missing out on socks5 proxy options to be able to use orbot.
This implementation would be greatly appreciated."
ubergeek42/weechat-android,open,Changed notifications on nightly force the notification to stay in the notification bar,[],"On the stable release on Oreo, the connection notification is hidden and does not appear on the notification bar; but on nightly the icon is always visible. I believe it is because of the addition of a disconnect button."
ubergeek42/weechat-android,open,High battery usage with current nightly build,[],"Hi,

With the current nightly build (v0.11-117-gfcf9439), I've recently seen extremely high CPU usage on two devices running Android 7.1 and 8.0. Settings reports weechat-android using 53% versus the next highest program (Chrome at ~8%). Hopefully something can be done, though I'm not sure where to start debugging this issue.

For reference, I'm using WeeChat SSL on a WeeChat 1.9.1 host."
ubergeek42/weechat-android,open,New release?,[],When is a new release coming? I'd like to suggest making a new release. I guess there are many issues fixed in the development build but it would be nice to get these fixes to F-Droid (and other app stores).
ubergeek42/weechat-android,closed,Fix crash when ping is disabled,[],"Fixes #347. Since changing the setting in the menu does not immediately start the `PingActionReceiver`, checking `P.pingEnabled` is not enough and just catching the exception is the cleaner way."
ubergeek42/weechat-android,open,App running in background persistent notification,[],"Hi,

Starting from Android 8.0 (Oreo), there is [a persistent notification](https://9to5google.com/2017/09/06/how-to-remove-android-oreo-background-app-notification/) for apps running in background. 

There are some ways to remove this notification with [some tricks](https://github.com/iboalali/sysnotifsnooze).

I do not know much about Android dev, but Weechat for Android is the only app I have which is displaying this persistent notification. Apps such as Whatsapp do not display it for example. Then, I am wondering if there is anything that could be done from the app side to remove this persistent notification.

Thanks, and sorry if this is not really an issue and you cannot do anything about it :/"
ubergeek42/weechat-android,open,Bogus allocation when incorrect protocol is selected,[],"If you have a weechat relay using websockets (SSL), but you select Weechat (SSL) as your connection type instead, the app crashes upon connection.

I have reproduced this on 0.11 and 0.12-dev.

From `adb logcat`, the issue appears to be an abnormally large memory allocation (this is approximately 1.23 GB)

> 10-13 03:40:09.614 28640 28667 E AndroidRuntime: FATAL EXCEPTION: r0
10-13 03:40:09.614 28640 28667 E AndroidRuntime: Process: com.ubergeek42.WeechatAndroid.dev, PID: 28640
10-13 03:40:09.614 28640 28667 E AndroidRuntime: java.lang.OutOfMemoryError: Failed to allocate a 1213486176 byte allocation with 1572864 free bytes and 254MB until OOM, max allowed footprint 2770088, growth limit 268435456
10-13 03:40:09.614 28640 28667 E AndroidRuntime: 	at com.ubergeek42.weechat.relay.connection.AbstractConnection.access(AbstractConnection.java:2171)
10-13 03:40:09.614 28640 28667 E AndroidRuntime: 	at com.ubergeek42.weechat.relay.connection.AbstractConnection.run(AbstractConnection.java:83)
10-13 03:40:09.614 28640 28667 E AndroidRuntime: 	at java.lang.Thread.run(Thread.java:764)
10-13 03:40:09.617   935 22531 W ActivityManager:   Force finishing activity com.ubergeek42.WeechatAndroid.dev/com.ubergeek42.WeechatAndroid.WeechatActivity
10-13 03:40:09.647   935  1011 I ActivityManager: Showing crash dialog for package com.ubergeek42.WeechatAndroid.dev u0

This causes crash loops if the app is set to always connect on startup/connect automatically.

In addition to getting the bug fixed, it may be worth exploring temporarily disabling automatic connections if the app is crashing, to prevent crash loops in the future."
ubergeek42/weechat-android,open,Bad failure mode when Websocket path is not set properly,[],"I'm using 0.12-dev, installed through Google Play betas.

I have a websocket relay with nginx termination.

Symptoms:
If you don't set the WebSocket path to ""weechat"" (it's blank by default), it appears like the connection doesn't complete, and there are a variety of undesirable side effects.  It is non-obvious what the issue is.

This is what it looks like from the relay's side:

> relay: reading data on socket for client 3/weechat/127.0.0.1: error 11 (connection closed by peer)
relay: disconnected from client 3/weechat/127.0.0.1
relay: new client on port 9001: 3/weechat/127.0.0.1
relay: reading data on socket for client 3/weechat/127.0.0.1: error 11 (connection closed by peer)
relay: disconnected from client 3/weechat/127.0.0.1  
relay: new client on port 9001: 4/weechat/127.0.0.1
relay: reading data on socket for client 4/weechat/127.0.0.1: error 11 (connection closed by peer)
relay: disconnected from client 4/weechat/127.0.0.1
relay: new client on port 9001: 5/weechat/127.0.0.1
relay: reading data on socket for client 5/weechat/127.0.0.1: error 11 (connection closed by peer)
relay: disconnected from client 5/weechat/127.0.0.1
relay: new client on port 9001: 3/weechat/127.0.0.1

This is what it looks like from nginx's access.log:
> [13/Oct/2017:07:33:15 +0000] ""GET / HTTP/1.1"" 499 0 ""-"" ""-""
[13/Oct/2017:07:33:30 +0000] ""GET / HTTP/1.1"" 499 0 ""-"" ""-""
[13/Oct/2017:07:33:39 +0000] ""init password=censored,compression=zlib"" 400 182 ""-"" ""-""
[13/Oct/2017:07:33:41 +0000] ""init password=censored,compression=zlib"" 400 182 ""-"" ""-""
[13/Oct/2017:07:33:52 +0000] ""init password=censored,compression=zlib"" 400 182 ""-"" ""-""
[13/Oct/2017:07:34:22 +0000] ""init password=censored,compression=zlib"" 400 182 ""-"" ""-""

The password gets leaked into logs.  I wouldn't really call this a security issue, but it's not very hygienic.

I'd suggest making ""weechat"" the default websocket path.  Additionally, I'd hope that there is a better way of handling surfacing this failure mode to the user, but I'm not an expert on the protocols involved so I'm not sure how difficult this failure mode is to detect.
"
ubergeek42/weechat-android,open,"Notification sound plays even though notification sound is set to ""None""",[],"Title about sums it up - I have the Notification Sound setting set to ""None"", yet I still get a notification sound from WeechatAndroid. This does not happen with any other apps.

Build number: v0.11

EDIT: I'm running LineageOS 14.1-20170713-NIGHTLY-oneplus3 on the OnePlus 3T."
ubergeek42/weechat-android,open,"Enable input to search text, insert and input colors ",[],"As describe above there's no other way for me to use those function on Android Weechat Relay. 

Is there any plans to support those functions? 

Thank you."
ubergeek42/weechat-android,open,Fix issue #368 Adaptive Icons,[],Introduces the new [Adaptive Icons](https://developer.android.com/preview/features/adaptive-icons.html) feature of Android O!
ubergeek42/weechat-android,closed,Fix NPE on using invalid uiLines,[],"Crash stacktrace:
> 08-14 13:15:00.572  4023  4023 D AndroidRuntime: Shutting down VM
08-14 13:15:00.579  4023  4023 E AndroidRuntime: FATAL EXCEPTION: main
08-14 13:15:00.579  4023  4023 E AndroidRuntime: Process: com.ubergeek42.WeechatAndroid.dev, PID: 4023
08-14 13:15:00.579  4023  4023 E AndroidRuntime: java.lang.NullPointerException: Attempt to invoke virtual method 'int android.widget.AdapterView.getFirstVisiblePosition()' on a null object reference
08-14 13:15:00.579  4023  4023 E AndroidRuntime: 	at com.ubergeek42.WeechatAndroid.fragments.BufferFragment.onSaveInstanceState(BufferFragment.java:149)
08-14 13:15:00.579  4023  4023 E AndroidRuntime: 	at android.support.v4.app.Fragment.performSaveInstanceState(Fragment.java:2112)
08-14 13:15:00.579  4023  4023 E AndroidRuntime: 	at android.support.v4.app.FragmentManagerImpl.saveAllState(FragmentManager.java:10778)
08-14 13:15:00.579  4023  4023 E AndroidRuntime: 	at android.support.v4.app.FragmentActivity.onSaveInstanceState(FragmentActivity.java:16125)
08-14 13:15:00.579  4023  4023 E AndroidRuntime: 	at android.app.Activity.performSaveInstanceState(Activity.java:1415)
08-14 13:15:00.579  4023  4023 E AndroidRuntime: 	at android.app.Instrumentation.callActivityOnSaveInstanceState(Instrumentation.java:1301)
08-14 13:15:00.579  4023  4023 E AndroidRuntime: 	at android.app.ActivityThread.callCallActivityOnSaveInstanceState(ActivityThread.java:4593)
08-14 13:15:00.579  4023  4023 E AndroidRuntime: 	at android.app.ActivityThread.performStopActivityInner(ActivityThread.java:3908)
08-14 13:15:00.579  4023  4023 E AndroidRuntime: 	at android.app.ActivityThread.handleStopActivity(ActivityThread.java:3967)
08-14 13:15:00.579  4023  4023 E AndroidRuntime: 	at android.app.ActivityThread.-wrap25(ActivityThread.java)
08-14 13:15:00.579  4023  4023 E AndroidRuntime: 	at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1541)
08-14 13:15:00.579  4023  4023 E AndroidRuntime: 	at android.os.Handler.dispatchMessage(Handler.java:102)
08-14 13:15:00.579  4023  4023 E AndroidRuntime: 	at android.os.Looper.loop(Looper.java:154)
08-14 13:15:00.579  4023  4023 E AndroidRuntime: 	at android.app.ActivityThread.main(ActivityThread.java:6236)
08-14 13:15:00.579  4023  4023 E AndroidRuntime: 	at java.lang.reflect.Method.invoke(Native Method)
08-14 13:15:00.579  4023  4023 E AndroidRuntime: 	at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:891)
08-14 13:15:00.579  4023  4023 E AndroidRuntime: 	at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:781)
08-14 13:15:00.584  1128  1228 W ActivityManager:   Force finishing activity com.ubergeek42.WeechatAndroid.dev/com.ubergeek42.WeechatAndroid.WeechatActivity"
ubergeek42/weechat-android,open,Adaptive Icons,[],"Hello,

What do you think about using the new [Adaptive Icons](https://developer.android.com/preview/features/adaptive-icons.html) feature of Android O?

It would be really nice to see them implemented in Weechat Android! Can I help :wink:?

Thank you very much,"
ubergeek42/weechat-android,closed,crashes on connect,[],"When connecting to my relay, the list of buffers is briefly displayed and then the app crashes. This does not happen all the time. It may be related to the contents (or lack thereof) in the weechat.core buffer, as sometimes I can /buffer clear or run a command in that buffer and it stops crashing for awhile.

I apologize for this lackluster bug report. I am a mere user and not an Android developer. This could well be related to some of the other crash issues in the queue."
ubergeek42/weechat-android,open,Disable only the send button when the connection is lost and not the ability to type a message,[],"What do you think, when the internet connection is lost, to only block the send button, and not, as currently, the entire bottom bar and the ability to type a message? It's pretty annoying when you have a bad connection, for example in public transports, to constantly lose access to the keyboard."
ubergeek42/weechat-android,open,Disconnecting causes relay connection to close with error in weechat due to race condition,[],"When disconnect button is pressed then the following happens:
1. `sendMessage(""quit"")` - adds the ""quit"" command to the out queue
2. connection is closed

The problem is that very often (possibly depending on connection type) the connection gets closed before the out queue thread has a chance to write and flush the ""quit"" command to weechat. This means that in weechat core buffer shows an error like
```
=!= relay: reading data on socket for client 1/weechat/127.0.0.1: error 84 (connection closed by peer)
```
as opposed to the client quiting gracefully. It can be confirmed with `/relay raw` that weechat does not receive the ""quit"" command in these cases due to the race condition between the threads handling the connection as described above.

Before closing the connection it should be made sure (by waiting) that the out queue has been all sent to ensure that weechat has been sent the ""quit"" command at all."
ubergeek42/weechat-android,open,Hot message! (message not available),[],"This happens pretty often, with weechat-android 0.11 running on a Moto X. Someone will ping me on IRC and I'll get a ""message not available"" notification in android and on my watch. Opening up weechat-android and tapping the hotlist icon properly displays the message."
ubergeek42/weechat-android,open,Copy with timestamp,[],"The long-press copy now displays two options, the message itself and the message with the nick who sent it.
I'd like to also copy the timestamp with it as a third option."
ubergeek42/weechat-android,closed,Save buffer position on fragment stop to restore it on fragment start,[],Allows the buffer scroll position to be retained when changing activity (eg. click on a link) or state change (eg. screen rotation).
ubergeek42/weechat-android,closed,Offset the content if the toolbar is always shown; fixes #338,[],
ubergeek42/weechat-android,closed,"when â€œhide action barâ€ is off, the button and the text under it is obscured","[Label(name=""duplicate"")]",also change â€œaction barâ€ to â€œtoolbarâ€
ubergeek42/weechat-android,open,Support android wear,[],I'd like to be able to type on my watch and view a channel from android wear;
ubergeek42/weechat-android,closed,Crash connecting to weechat 1.8,[],"I have recently updated my weechat relay to 1.8 from 1.5. This android client now crashes immediately when I connect to the relay (the connection is registered on the relay but is then closed when the app crashes).

What's the easiest way to find out what's going on?"
ubergeek42/weechat-android,open,Update dependencies,[],"Update the gradle configuration to target the latest android sdk.
Also disable building the broken example."
ubergeek42/weechat-android,open,Storage permission not requested to retrieve fonts,[],"Some Android versions ago, the Storage permission needed to be requested at runtime in order for the weechat folder to be viewable to the app for purposes such as using custom fonts. This permission must currently be granted manually under App Info. 

A possible solution would be to request Storage permission when the Change Fonts preference is pressed."
ubergeek42/weechat-android,open,Does is support elliptic curve certificates?,[],"Hi,

I recently tried to use WeeChat Android (WeeChat SSL as connection type) with me EC cert from Let's Encrypt instead of a self-signed RSA cert. But I can't connect with the app (WebSocket from the browser works).

`relay: TLS handshake failed for client 1/ssl.weechat/<ip>: error -12 A TLS fatal alert has been received.`

This is how I create the cert for WeeChat:

`cat {privkey,fullchain}.pem > .weechat/ssl/relay.pem`

Is the app missing support for EC certs or did I something wrong on cert creation?"
ubergeek42/weechat-android,open,Crash when setting button text in BufferFragment,[],"happens on 1f407ca ([line](https://github.com/ubergeek42/weechat-android/blob/1f407caa24899a89d6d5d32460b0b47f442f90a4/weechat-android/src/main/java/com/ubergeek42/WeechatAndroid/fragments/BufferFragment.java#L315))

> 2 Crashes from android 6, 2 on android 7. Oldest crash is from Nov 2016. All on the same hardware, Galaxy S7.

    java.lang.IllegalStateException: Fragment BF [irc.foo.bar] not attached to Activity
        at android.support.v4.app.Fragment.getResources(Fragment.java:642)
        at android.support.v4.app.Fragment.getString(Fragment.java:664)
        at com.ubergeek42.WeechatAndroid.fragments.BufferFragment$3.run(BufferFragment.java:315)
        at android.os.Handler.handleCallback(Handler.java:751)
        at android.os.Handler.dispatchMessage(Handler.java:95)
        at android.os.Looper.loop(Looper.java:154)
        at android.app.ActivityThread.main(ActivityThread.java:6688)
        at java.lang.reflect.Method.invoke(Native Method)
        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1468)
    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1358)"
ubergeek42/weechat-android,open,Crash in Connectivity.isNetworkAvailable(),[],"possibly related to app occasionally thinking there's no interenet?

    04-20 14:26:39.980 D/Â |Â Â Â mainÂ |Â RelayService: onStartCommand(Intent { act=com.ubergeek42.WeechatAndroid.STOP cmp=com.ubergeek42.WeechatAndroid.debug/com.ubergeek42.WeechatAndroid.service.RelayService }, 0, 2)
    04-20 14:26:39.980 D/Â |Â Â Â mainÂ |Â RelayService: stop()
    04-20 14:26:39.981 D/Â |Â Â Â mainÂ |Â BufferListFragment: onEvent(StateChangedEvent: state = [STOPPED])
    04-20 14:26:39.981 D/Â |Â Â Â mainÂ |Â WA: onEvent(StateChangedEvent: state = [STOPPED])
    04-20 14:26:39.981 D/Â |Â Â Â mainÂ |Â WA: adjustUI()
    04-20 14:26:39.981 D/Â |Â Â Â mainÂ |Â WA: setDrawerEnabled(false)
    04-20 14:26:39.983 D/Â |Â Â Â mainÂ |Â P: onSharedPreferenceChanged()
    04-20 14:26:40.018 D/Â |Â Â Â mainÂ |Â RelayService: onDestroy()
    04-20 14:26:40.018 D/Â |Â Â Â mainÂ |Â P: saveStuff()
    04-20 14:26:40.150 D/Â |Â Â Â dogeÂ |Â SSLHandler: Server is trusted by system
    04-20 14:26:40.197 D/Â |Â Â Â dogeÂ |Â RelayConnection: connect()
    04-20 14:26:40.197 D/Â |Â Â Â dogeÂ |Â RelayService: onStateChanged(CONNECTING)
    04-20 14:26:40.199 D/Â |Â Â Â dogeÂ |Â RelayConnection: disconnect()
    04-20 14:26:40.199 D/Â |Â Â Â dogeÂ |Â AbstractConnection: disconnect()
    04-20 14:26:40.199 D/Â |Â Â Â dogeÂ |Â RelayService: onStateChanged(DISCONNECTED)
    04-20 14:26:40.199 D/Â |Â Â Â con2Â |Â AbstractConnection: hi
    04-20 14:26:40.200 D/Â |Â Â Â dogeÂ |Â WebSocketConnection: WebSocket.onClose(code = 1000, reason = force closing)
    04-20 14:26:40.200 D/Â |Â Â Â con2Â |Â AbstractConnection: disconnect()
    04-20 14:26:40.200 D/Â |Â Â Â con2Â |Â AbstractConnection: bye
    04-20 14:26:40.205 E/Â |Â -28617Â |Â WebSocketConnection: WebSocket.onError(IOException: null)
    04-20 14:26:40.726 D/Â |Â Â Â mainÂ |Â WA: connect()
    04-20 14:26:40.729 D/Â |Â Â Â mainÂ |Â RelayService: onCreate()
    04-20 14:26:40.733 D/Â |Â Â Â mainÂ |Â RelayService: onStartCommand(Intent { act=com.ubergeek42.WeechatAndroid.START cmp=com.ubergeek42.WeechatAndroid.debug/com.ubergeek42.WeechatAndroid.service.RelayService }, 0, 1)
    04-20 14:26:40.736 D/Â |Â Â Â mainÂ |Â RelayService: start()
    04-20 14:26:40.736 D/Â |Â Â Â mainÂ |Â BufferListFragment: onEvent(StateChangedEvent: state = [STARTED])
    04-20 14:26:40.737 D/Â |Â Â Â mainÂ |Â WA: onEvent(StateChangedEvent: state = [STARTED])
    04-20 14:26:40.737 D/Â |Â Â Â mainÂ |Â WA: adjustUI()
    04-20 14:26:40.737 D/Â |Â Â Â mainÂ |Â WA: setDrawerEnabled(false)
    04-20 14:26:40.738 D/Â |Â Â Â mainÂ |Â P: onSharedPreferenceChanged()
    04-20 14:26:40.739 D/Â |Â Â Â mainÂ |Â RelayService: _start()
    04-20 14:26:40.739 D/Â |Â Â Â dogeÂ |Â RelayService: start(): not connected; connecting now
    04-20 14:26:40.752 D/Â |Â Â Â dogeÂ |Â RelayService: connect()
    04-20 14:26:41.368 D/Â |Â Â Â dogeÂ |Â SSLHandler: Server is trusted by system
    04-20 14:26:41.410 D/Â |Â Â Â dogeÂ |Â RelayConnection: connect()
    04-20 14:26:41.410 D/Â |Â Â Â dogeÂ |Â RelayService: onStateChanged(CONNECTING)
    04-20 14:26:41.412 D/Â |Â Â Â con3Â |Â AbstractConnection: hi
    04-20 14:26:41.676 D/Â |Â Â Â con3Â |Â RelayService: onStateChanged(CONNECTED)
    04-20 14:26:41.677 D/Â |Â Â Â con3Â |Â AbstractConnection: bye
    04-20 14:26:41.678 D/Â |Â -28620Â |Â WebSocketConnection: WebSocket.onOpen(), readyState = OPEN
    04-20 14:26:41.682 D/Â |Â Â Â Â Â r3Â |Â AbstractConnection: hi
    04-20 14:26:41.990 D/Â |Â Â Â Â Â r3Â |Â RelayConnection: onMessage(id = version)
    04-20 14:26:41.990 I/Â |Â Â Â Â Â r3Â |Â RelayConnection: WeeChat version: 0x1080000
    04-20 14:26:41.990 D/Â |Â Â Â Â Â r3Â |Â RelayService: onStateChanged(AUTHENTICATED)
    04-20 14:26:42.011 D/Â |Â Â Â Â Â r3Â |Â BufferListFragment: onEvent(StateChangedEvent: state = [STARTED, AUTHENTICATED])
    04-20 14:26:42.012 D/Â |Â Â Â Â Â r3Â |Â WA: onEvent(StateChangedEvent: state = [STARTED, AUTHENTICATED])
    04-20 14:26:42.012 D/Â |Â Â Â Â Â r3Â |Â WA: adjustUI()
    04-20 14:26:42.012 D/Â |Â Â Â Â Â r3Â |Â WA: setDrawerEnabled(false)
    04-20 14:26:42.137 D/Â |Â Â Â Â Â r3Â |Â RelayConnection: onMessage(id = listbuffers)
    04-20 14:26:42.143 D/Â |Â Â Â Â Â r3Â |Â RelayService: onStateChanged(BUFFERS_LISTED)
    04-20 14:26:42.144 D/Â |Â Â Â Â Â r3Â |Â BufferListFragment: onEvent(StateChangedEvent: state = [STARTED, AUTHENTICATED, LISTED])
    04-20 14:26:42.144 D/Â |Â Â Â Â Â r3Â |Â WA: onEvent(StateChangedEvent: state = [STARTED, AUTHENTICATED, LISTED])
    04-20 14:26:42.144 D/Â |Â Â Â Â Â r3Â |Â WA: adjustUI()
    04-20 14:26:42.144 D/Â |Â Â Â Â Â r3Â |Â WA: setDrawerEnabled(true)
    04-20 14:26:42.144 D/Â |Â Â Â Â Â r3Â |Â WA: showDrawerIfPagerIsEmpty(): drawerShowing={}
    04-20 14:26:42.146 D/Â |Â Â Â Â Â r3Â |Â RelayConnection: onMessage(id = last_read_lines)
    04-20 14:26:42.147 D/Â |Â Â Â Â Â r3Â |Â RelayConnection: onMessage(id = hotlist)
    04-20 14:26:42.148 D/Â |Â Â Â Â Â r3Â |Â BufferList: notifyHotCountChanged(false), byfEye?=BL
    04-20 14:26:42.156 D/Â |Â Â Â mainÂ |Â WA: ...listed?=true, count=0
    04-20 14:26:42.156 D/Â |Â Â Â mainÂ |Â WA: showDrawer()
    04-20 14:26:42.156 D/Â |Â Â Â mainÂ |Â WA: drawerVisibilityChanged(true)
    04-20 14:26:42.654 D/Â |Â Â Â mainÂ |Â WA: drawerVisibilityChanged(true)
    04-20 14:26:44.642 D/Â |Â Â Â Â Â r3Â |Â RelayConnection: onMessage(id = _buffer_line_added)
    04-20 14:26:44.752 D/Â |Â Â Â Â Â r3Â |Â RelayConnection: onMessage(id = _nicklist_diff)
    04-20 14:26:45.201 D/Â |Â Â Â dogeÂ |Â RelayService: start(): waiting 5 seconds
    04-20 14:26:47.629 D/Â |Â Â Â Â Â r3Â |Â RelayConnection: onMessage(id = _buffer_line_added)
    04-20 14:26:47.654 D/Â |Â Â Â Â Â r3Â |Â RelayConnection: onMessage(id = _nicklist_diff)
    04-20 14:26:50.215 D/Â |Â Â Â dogeÂ |Â RelayService: start(): not connected; connecting now
    04-20 14:26:50.241 D/Â |Â Â Â dogeÂ |Â RelayService: connect()
    04-20 14:26:50.241 D/Â |Â Â Â dogeÂ |Â RelayConnection: disconnect()
    04-20 14:26:50.241 D/Â |Â Â Â dogeÂ |Â AbstractConnection: disconnect()
                                                         
                                                         --------- beginning of crash
    04-20 14:26:50.423 E/AndroidRuntime: FATAL EXCEPTION: doge
                                         Process: com.ubergeek42.WeechatAndroid.debug, PID: 3060
                                         Theme: themes:{default=overlay:com.baranovgroup.nstyle, iconPack:com.baranovgroup.nstyle, fontPkg:com.baranovgroup.nstyle, com.android.systemui=overlay:com.baranovgroup.nstyle, com.android.systemui.navbar=overlay:com.baranovgroup.nstyle}
                                         java.lang.NullPointerException: Attempt to invoke virtual method 'android.net.NetworkInfo android.net.ConnectivityManager.getActiveNetworkInfo()' on a null object reference
                                             at com.ubergeek42.WeechatAndroid.service.Connectivity.isNetworkAvailable(Connectivity.java:36)
                                             at com.ubergeek42.WeechatAndroid.service.RelayService.connect(RelayService.java:221)
                                             at com.ubergeek42.WeechatAndroid.service.RelayService.access$100(RelayService.java:48)
                                             at com.ubergeek42.WeechatAndroid.service.RelayService$1$1.run(RelayService.java:158)
                                             at android.os.Handler.handleCallback(Handler.java:739)
                                             at android.os.Handler.dispatchMessage(Handler.java:95)
                                             at android.os.Looper.loop(Looper.java:148)
                                             at android.os.HandlerThread.run(HandlerThread.java:61)"
ubergeek42/weechat-android,open,Crash somewhere in WebSocket SSL code,[],"happened on a dev release so have no info on the circumstances. perhaps the library is to blame?

    04-12 14:05:52.169 E/AndroidRuntime: FATAL EXCEPTION: WebsocketWriteThread
    Process: com.ubergeek42.WeechatAndroid.dev, PID: 12906
    Theme: themes:{default=overlay:com.baranovgroup.nstyle, iconPack:com.baranovgroup.nstyle, fontPkg:com.baranovgroup.nstyle, com.android.systemui=overlay:com.baranovgroup.nstyle, com.android.systemui.navbar=overlay:com.baranovgroup.nstyle}
    java.lang.IllegalArgumentException: Bad position (limit 37): 18437
     at java.nio.Buffer.positionImpl(Buffer.java:351)
     at java.nio.Buffer.position(Buffer.java:345)
     at libcore.io.Posix.maybeUpdateBufferPosition(Posix.java:278)
     at libcore.io.Posix.sendto(Posix.java:206)
     at libcore.io.BlockGuardOs.sendto(BlockGuardOs.java:270)
     at libcore.io.IoBridge.sendto(IoBridge.java:523)
     at java.nio.SocketChannelImpl.writeImpl(SocketChannelImpl.java:403)
     at java.nio.SocketChannelImpl.write(SocketChannelImpl.java:361)
     at org.java_websocket.SSLSocketChannel2.write(SSLSocketChannel2.java:195)
     at org.java_websocket.SocketChannelIOHelper.writeBlocking(SocketChannelIOHelper.java:76)
     at org.java_websocket.client.WebSocketClient$WebsocketWriteThread.run(WebSocketClient.java:440)
     at java.lang.Thread.run(Thread.java:818)"
ubergeek42/weechat-android,closed,Notifications: added reply button to instant reply to highlights/queries,[],"I spent a few hours tinkering with adding a reply feature to the notifications as known from most of the major messengers.
The code quality of this PR is rather weak IMO. I just post it here to save someone else time if I drop this idea...

I'm not very happy with the code and it feels like we should rework the entire notification architecture.
I was thinking about two modes:
1) the current state (one notification per buffer)
2) one notification per buffer

Any thoughts?
"
ubergeek42/weechat-android,open,Prevent Buffer Filtering in the Sharing Intent,[],"Signed-off-by: Martin Weinelt <hexa@darmstadt.ccc.de>

I'm a a java derp, I tested this in the VM and it worked. Not sure if this is the proper way.

This change prevents buffer filtering to affect the available buffers in the sharing intent.

The filter is only reset in the sharing intent, it is not reset inside the app."
ubergeek42/weechat-android,open,Crash in Line.processMessage(),[],"couldn't reproduce

    E/AndroidRuntime: FATAL EXCEPTION: main
    Process: com.ubergeek42.WeechatAndroid.debug, PID: 17087
    Theme: themes:{default=overlay:com.baranovgroup.nstyle, iconPack:com.baranovgroup.nstyle, fontPkg:com.baranovgroup.nstyle, com.android.systemui=overlay:com.baranovgroup.nstyle, com.android.systemui.navbar=overlay:com.baranovgroup.nstyle}
    java.lang.IndexOutOfBoundsException: setSpan (84 ... 86) ends beyond length 11
        at android.text.SpannableStringInternal.checkRange(SpannableStringInternal.java:352)
        at android.text.SpannableStringInternal.setSpan(SpannableStringInternal.java:79)
        at android.text.SpannableString.setSpan(SpannableString.java:46)
        at com.ubergeek42.WeechatAndroid.relay.Line.processMessage(Line.java:140)
        at com.ubergeek42.WeechatAndroid.relay.Line.processMessageIfNeeded(Line.java:107)
        at com.ubergeek42.WeechatAndroid.relay.Buffer.setOpen(Buffer.java:147)
        at com.ubergeek42.WeechatAndroid.adapters.MainPagerAdapter.openBuffer(MainPagerAdapter.java:55)
        at com.ubergeek42.WeechatAndroid.WeechatActivity.openBuffer(WeechatActivity.java:508)
        at com.ubergeek42.WeechatAndroid.WeechatActivity.openBuffer(WeechatActivity.java:502)
        at com.ubergeek42.WeechatAndroid.fragments.BufferListFragment.onListItemClick(BufferListFragment.java:143)
        at android.support.v4.app.ListFragment$2.onItemClick(ListFragment.java:60)
        at android.widget.AdapterView.performItemClick(AdapterView.java:310)
        at android.widget.AbsListView.performItemClick(AbsListView.java:1145)
        at android.widget.AbsListView$PerformClick.run(AbsListView.java:3066)
        at android.widget.AbsListView$3.run(AbsListView.java:3903)
        at android.os.Handler.handleCallback(Handler.java:739)
        at android.os.Handler.dispatchMessage(Handler.java:95)
        at android.os.Looper.loop(Looper.java:148)
        at android.app.ActivityThread.main(ActivityThread.java:5461)
        at java.lang.reflect.Method.invoke(Native Method)
        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:726)
        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:616)"
ubergeek42/weechat-android,closed,v.0.11 stopped working after nougat update,[],"running on a Huawei P9 lite with latest stock firmware.
(setup ist ssh-tunnel to a server....)
I deinstalled the version 0.11 and installed latest nightly build, (weechat-master-46eed19)
but now i am stuck with this:
![screenshot_20170402-092910](https://cloud.githubusercontent.com/assets/6383246/24585381/47ff18da-1789-11e7-93a8-7b6342595348.png)
I realized the hint with the ssh-keyscan and copy/pasted the exact into the weechat app.
dunno what i am doing wrong. please give me a hint
"
ubergeek42/weechat-android,closed,Occasionally crashes with IllegalArgumentException when ping is disabled,[],"If I disable `Connection -> Ping settings -> Enable Ping`, eventually (takes some hours, maybe even a day or more, but it has happened twice already) weechat-android crashes with this error in logcat:

```
build.board: bullhead
build.bootloader: BHZ11h
build.brand: google
build.cpu_abi: arm64-v8a
build.cpu_abi2: 
build.device: bullhead
build.display: NMF26F
build.fingerprint: google/bullhead/bullhead:7.1.1/NMF26F/3425388:user/release-keys
build.hardware: bullhead
build.host: vpec15.mtv.corp.google.com
build.id: NMF26F
build.manufacturer: LGE
build.model: Nexus 5X
build.product: bullhead
build.radio: M8994F-2.6.36.2.20
build.serial: 012cd1ef8f6e416f
build.tags: release-keys
build.time: 1478024535000
build.type: user
build.user: android-build
version.codename: REL
version.incremental: 3425388
version.release: 7.1.1
version.sdk_int: 25

03-29 15:26:05.469 E/AndroidRuntime(9118): Process: com.ubergeek42.WeechatAndroid.debug, PID: 9118
03-29 15:26:05.469 E/AndroidRuntime(9118): java.lang.IllegalArgumentException: Receiver not registered: com.ubergeek42.WeechatAndroid.service.PingActionReceiver@ac288c1
03-29 15:26:05.469 E/AndroidRuntime(9118): 	at com.ubergeek42.WeechatAndroid.service.PingActionReceiver.unschedulePing(PingActionReceiver.java:91)
03-29 15:26:05.469 E/AndroidRuntime(9118): 	at com.ubergeek42.WeechatAndroid.service.RelayService.goodbye(RelayService.java:294)
03-29 15:26:05.469 E/AndroidRuntime(9118): 	at com.ubergeek42.WeechatAndroid.service.RelayService.onStateChanged(RelayService.java:278)
03-29 15:26:05.469 E/AndroidRuntime(9118): 	at com.ubergeek42.weechat.relay.RelayConnection.onStateChanged(RelayConnection.java:79)
03-29 15:26:05.469 E/AndroidRuntime(9118): 	at com.ubergeek42.weechat.relay.connection.AbstractConnection.disconnect(AbstractConnection.java:64)
03-29 15:26:05.469 E/AndroidRuntime(9118): 	at com.ubergeek42.weechat.relay.connection.AbstractConnection.readLoop(AbstractConnection.java:157)
03-29 15:26:05.469 E/AndroidRuntime(9118): 	at com.ubergeek42.weechat.relay.connection.AbstractConnection.access$300(AbstractConnection.java:21)
03-29 15:26:05.469 E/AndroidRuntime(9118): 	at com.ubergeek42.weechat.relay.connection.AbstractConnection$2.run(AbstractConnection.java:83)
03-29 15:28:08.825 E/AndroidRuntime(20627): Process: com.ubergeek42.WeechatAndroid.debug, PID: 20627
03-29 15:28:08.825 E/AndroidRuntime(20627): java.lang.IllegalArgumentException: Receiver not registered: com.ubergeek42.WeechatAndroid.service.PingActionReceiver@bd6babf
03-29 15:28:08.825 E/AndroidRuntime(20627): 	at com.ubergeek42.WeechatAndroid.service.PingActionReceiver.unschedulePing(PingActionReceiver.java:91)
03-29 15:28:08.825 E/AndroidRuntime(20627): 	at com.ubergeek42.WeechatAndroid.service.RelayService.goodbye(RelayService.java:294)
03-29 15:28:08.825 E/AndroidRuntime(20627): 	at com.ubergeek42.WeechatAndroid.service.RelayService.onStateChanged(RelayService.java:278)
03-29 15:28:08.825 E/AndroidRuntime(20627): 	at com.ubergeek42.weechat.relay.RelayConnection.onStateChanged(RelayConnection.java:79)
03-29 15:28:08.825 E/AndroidRuntime(20627): 	at com.ubergeek42.weechat.relay.connection.AbstractConnection.disconnect(AbstractConnection.java:64)
03-29 15:28:08.825 E/AndroidRuntime(20627): 	at com.ubergeek42.weechat.relay.connection.AbstractConnection.readLoop(AbstractConnection.java:157)
03-29 15:28:08.825 E/AndroidRuntime(20627): 	at com.ubergeek42.weechat.relay.connection.AbstractConnection.access$300(AbstractConnection.java:21)
03-29 15:28:08.825 E/AndroidRuntime(20627): 	at com.ubergeek42.weechat.relay.connection.AbstractConnection$2.run(AbstractConnection.java:83)
03-30 01:07:07.616 V/NotificationService(5008): pkg=com.ubergeek42.WeechatAndroid.debug canInterrupt=false intercept=true
03-30 01:46:33.992 V/NotificationService(5008): pkg=com.ubergeek42.WeechatAndroid.debug canInterrupt=false intercept=true
03-30 02:18:29.240 V/NotificationService(5008): pkg=com.ubergeek42.WeechatAndroid.debug canInterrupt=false intercept=true
03-30 03:14:25.837 V/NotificationService(5008): pkg=com.ubergeek42.WeechatAndroid.debug canInterrupt=false intercept=true
03-30 04:04:53.047 V/NotificationService(5008): pkg=com.ubergeek42.WeechatAndroid.debug canInterrupt=false intercept=true
03-30 05:04:52.705 V/NotificationService(5008): pkg=com.ubergeek42.WeechatAndroid.debug canInterrupt=false intercept=true
03-30 05:32:01.862 V/NotificationService(5008): pkg=com.ubergeek42.WeechatAndroid.debug canInterrupt=false intercept=true
03-30 06:00:06.248 V/NotificationService(5008): pkg=com.ubergeek42.WeechatAndroid.debug canInterrupt=false intercept=true
03-30 06:19:22.587 V/NotificationService(5008): pkg=com.ubergeek42.WeechatAndroid.debug canInterrupt=false intercept=true
03-30 06:29:50.116 V/NotificationService(5008): pkg=com.ubergeek42.WeechatAndroid.debug canInterrupt=false intercept=true
03-30 06:44:41.614 V/NotificationService(5008): pkg=com.ubergeek42.WeechatAndroid.debug canInterrupt=false intercept=true
03-30 07:19:23.300 I/ActivityManager(5008): START u0 {act=android.intent.action.MAIN cat=[android.intent.category.LAUNCHER] flg=0x10200000 cmp=com.ubergeek42.WeechatAndroid.debug/com.ubergeek42.WeechatAndroid.WeechatActivity bnds=[216,982][432,1288] (has extras)} from uid 10078 on display 0
03-30 07:23:22.848 I/ActivityManager(5008): START u0 {act=android.intent.action.MAIN cat=[android.intent.category.LAUNCHER] flg=0x10200000 cmp=com.ubergeek42.WeechatAndroid.debug/com.ubergeek42.WeechatAndroid.WeechatActivity bnds=[216,982][432,1288] (has extras)} from uid 10078 on display 0
03-30 07:31:06.842 V/NotificationService(5008): pkg=com.ubergeek42.WeechatAndroid.debug canInterrupt=false intercept=true
03-30 07:34:37.207 E/AbstractConnection(22688): 	at com.ubergeek42.weechat.relay.connection.AbstractConnection.readAll(AbstractConnection.java:164)
03-30 07:34:37.207 E/AbstractConnection(22688): 	at com.ubergeek42.weechat.relay.connection.AbstractConnection.readLoop(AbstractConnection.java:144)
03-30 07:34:37.207 E/AbstractConnection(22688): 	at com.ubergeek42.weechat.relay.connection.AbstractConnection.access$300(AbstractConnection.java:21)
03-30 07:34:37.207 E/AbstractConnection(22688): 	at com.ubergeek42.weechat.relay.connection.AbstractConnection$2.run(AbstractConnection.java:83)
03-30 07:34:37.228 E/AndroidRuntime(22688): Process: com.ubergeek42.WeechatAndroid.debug, PID: 22688
03-30 07:34:37.228 E/AndroidRuntime(22688): java.lang.IllegalArgumentException: Receiver not registered: com.ubergeek42.WeechatAndroid.service.PingActionReceiver@4ae1a45
03-30 07:34:37.228 E/AndroidRuntime(22688): 	at com.ubergeek42.WeechatAndroid.service.PingActionReceiver.unschedulePing(PingActionReceiver.java:91)
03-30 07:34:37.228 E/AndroidRuntime(22688): 	at com.ubergeek42.WeechatAndroid.service.RelayService.goodbye(RelayService.java:294)
03-30 07:34:37.228 E/AndroidRuntime(22688): 	at com.ubergeek42.WeechatAndroid.service.RelayService.onStateChanged(RelayService.java:278)
03-30 07:34:37.228 E/AndroidRuntime(22688): 	at com.ubergeek42.weechat.relay.RelayConnection.onStateChanged(RelayConnection.java:79)
03-30 07:34:37.228 E/AndroidRuntime(22688): 	at com.ubergeek42.weechat.relay.connection.AbstractConnection.disconnect(AbstractConnection.java:64)
03-30 07:34:37.228 E/AndroidRuntime(22688): 	at com.ubergeek42.weechat.relay.connection.AbstractConnection.readLoop(AbstractConnection.java:157)
03-30 07:34:37.228 E/AndroidRuntime(22688): 	at com.ubergeek42.weechat.relay.connection.AbstractConnection.access$300(AbstractConnection.java:21)
03-30 07:34:37.228 E/AndroidRuntime(22688): 	at com.ubergeek42.weechat.relay.connection.AbstractConnection$2.run(AbstractConnection.java:83)
03-30 07:34:54.888 I/ActivityManager(5008): Killing 22688:com.ubergeek42.WeechatAndroid.debug/u0a224 (adj 200): crash
03-30 07:34:54.890 W/ActivityManager(5008): Scheduling restart of crashed service com.ubergeek42.WeechatAndroid.debug/com.ubergeek42.WeechatAndroid.service.RelayService in 1000ms
03-30 07:34:54.947 I/WindowManager(5008): WIN DEATH: Window{8e0943a u0 com.ubergeek42.WeechatAndroid.debug/com.ubergeek42.WeechatAndroid.WeechatActivity}
```"
ubergeek42/weechat-android,open,Use buffer names instead of pointers to avoid WeeChat crash,[],"I've had WeeChat crashing frequently due to weechat-android sending an invalid pointer in the `desync` relay command. According to @FlashCode, buffer names should be used instead of pointers whenever possible - that way it won't crash if an invalid buffer is given. I've tested this and everything still works correctly.

Closes #345."
ubergeek42/weechat-android,open,'desync' relay command should be sent with a buffer name instead of a pointer to avoid crash,"[Label(name=""bug"")]","I did `/filter toggle` in a channel, and later `/close` in a channel that I parted. Both of these crashed WeeChat because weechat-android sent an invalid pointer as argument to the `desync` relay command. According to @FlashCode, the buffer name should be sent instead (e.g. `irc.freenode.#weechat`). That way it won't crash if the buffer doesn't exist.

Backtraces: https://ptpb.pw/XO-b https://ptpb.pw/8naG

**Edit:** It also just happened while scrolling up the buffers bar in WeeChat with weechat-android connected, but not doing anything from there specifically. https://ptpb.pw/DFVr"
ubergeek42/weechat-android,open,"Badly formatted ""known hosts"" cause cryptic ""invalid base64 data"" error during connection",[],"As titled. Either pasting badly formatted known hosts should not be allowed, or this error should be transformed to something more descriptive.

```
03-12 10:40:48.702  9241 14448 E RelayService: connect(): exception while creating connection
03-12 10:40:48.702  9241 14448 E RelayService: com.jcraft.jsch.JSchException: fromBase64: invalid base64 data
03-12 10:40:48.702  9241 14448 E RelayService: 	at com.jcraft.jsch.Util.fromBase64(Util.java:63)
03-12 10:40:48.702  9241 14448 E RelayService: 	at com.jcraft.jsch.KnownHosts.setKnownHosts(KnownHosts.java:218)
03-12 10:40:48.702  9241 14448 E RelayService: 	at com.ubergeek42.weechat.relay.connection.SSHConnection.<init>(SSHConnection.java:2337)
03-12 10:40:48.702  9241 14448 E RelayService: 	at com.ubergeek42.WeechatAndroid.service.RelayService.connect$12927d31(RelayService.java:229)
03-12 10:40:48.702  9241 14448 E RelayService: 	at com.ubergeek42.WeechatAndroid.service.RelayService.access$100$27b44e36(RelayService.java:48)
03-12 10:40:48.702  9241 14448 E RelayService: 	at com.ubergeek42.WeechatAndroid.service.RelayService$1$1.run(RelayService.java:158)
03-12 10:40:48.702  9241 14448 E RelayService: 	at com.ubergeek42.WeechatAndroid.service.RelayService$1.run(RelayService.java:178)
03-12 10:40:48.702  9241 14448 E RelayService: 	at android.os.Handler.handleCallback(Handler.java:751)
03-12 10:40:48.702  9241 14448 E RelayService: 	at android.os.Handler.dispatchMessage(Handler.java:95)
03-12 10:40:48.702  9241 14448 E RelayService: 	at android.os.Looper.loop(Looper.java:154)
03-12 10:40:48.702  9241 14448 E RelayService: 	at android.os.HandlerThread.run(HandlerThread.java:61)
03-12 10:40:48.702  9241 14448 E RelayService: Caused by: java.lang.ArrayIndexOutOfBoundsException: length=29; index=29
03-12 10:40:48.702  9241 14448 E RelayService: 	at com.jcraft.jsch.Util.fromBase64(Util.java:51)
03-12 10:40:48.702  9241 14448 E RelayService: 	... 10 more
03-12 10:40:48.702  9241 14448 E RelayService: onException(JSchException)
```"
ubergeek42/weechat-android,closed,Breaks with Nougat update,[],"Hi,

after updating to Nougat the application refuses to connect to my server. I have noticed many others having the same issues after upgrading. There are no configuration changes in neither the app nor server side for me.

On a fresh app start, the mascot grabs the balloon but nothing happens. When I press `Disconnect`, a quick popup with `Wrong password` is shown. On subsequent connection tries after this I get the following error popup in the app:

`Error: PortForwardingL: local port 127.0.0.1:22231 cannot be bound.`

I know it's not much to go by, but it's something. :tada: "
ubergeek42/weechat-android,closed,No Buffer after connection,[],"I can see on my server that my client has connected to the server 
`relay: new client on port 9001: 1/weechat/1.2.3.4`
but the app is stuck in the connecting screen."
ubergeek42/weechat-android,open,Option to show server buffers when filtering,"[Label(name=""enhancement"")]","When I filter buffers and there are channels with the same name on different networks, it would be nice if the server buffers would still be displayed above the corresponding channels when filtering. Though this would only work if the channels are already organized below the server buffers in WeeChat, otherwise weechat-android would have to sort them manually, but I already have them sorted in WeeChat."
ubergeek42/weechat-android,open,STATUSMSG prefix displayed incorrectly,"[Label(name=""enhancement"")]","If you send a STATUSMSG (e.g. `/msg +#channel something` - need to be voiced/opped), others would see this in WeeChat:

```
-- Msg:+(someone): something
```

In weechat-android, incoming STATUSMSGs display as:

```
<--> Msg:+(someone): something
```"
ubergeek42/weechat-android,open,Access drawer when disconnected,"[Label(name=""feature request"")]",Could we make the navigation drawer accessible while WA is not connected? This would make switching to buffers with new messages much easier and the gray input should be enough to see that it's disconnected.
ubergeek42/weechat-android,closed,"""fetch more lines"" not visible when ""Hide action bar"" is not selected","[Label(name=""enhancement"")]","Using build ID v0.11-112-g12961f6 (weechat-master-12961f6.apk from the dev builds website)
Phone: i9100g
Android 5.1 (Omnirom)"
ubergeek42/weechat-android,open,Buffer filter for share menu,"[Label(name=""feature request"")]","Currently, there is no buffer filter box in the share menu, which may make it hard to find the desired buffer with a lot of buffers open. Also, if the buffer filter is active in the app, it will be applied to the share menu as well, impossible to turn off without going back to the app first. (Also, I think the filter should clear after swiping away the buffer list, at least add an option for that.)"
ubergeek42/weechat-android,open,Feature request: Notification LED colour from nick,"[Label(name=""feature request"")]","Just an idea: the notification LED could blink in the colour of the nick that caused the highlight. Is this even possible? It wouldn't be very useful either, but it could be a nice touch."
ubergeek42/weechat-android,open,send-button on paste,"[Label(name=""feature request"")]","When I paste e.g. an URL into the chat window without my keyboard showing, I have to first click in the field to make the keyboard show up, and then click ""send"". This feels slow. Could we either have the keyboard show on paste, or just a send button if there's something in the field but no keyboard?"
ubergeek42/weechat-android,open,connection / ipv6 issues,[],"i am trying to use multiple weechat relay clients
glowing-bear and weechat-android
i cannot connect with my phone to the relay from my home network (disabling wifi and using 4g works fine)
i guessed it was the fault of using the same ipv4 address so tried connecting to a ipv6-only address
but it fails resolving the address

is this a bug of weechat-android for not supporting ipv6 ?
or is ipv6 not supported in the weechat protocol ?"
ubergeek42/weechat-android,closed,Connection problem,[],"Hello,

I try to connect to my weechat relay :
- protocol weechat SSL
- port 9001
- firewall disabled & public ip
- correct password

When I show current connections with /relay, I can see my phone connection with 67 bytes received but 0 byte send (I think this is the issue).

On my phone, I have ""connecting now"" on task bar & after a while, I have ""wrong password"" error.

I tried to update weechat from 1.0 to 1.5, use weechat-android-devel and use plain text connection but the issue is still here.

Am I the only one with this issue ?

Thanks in advance,
Max"
ubergeek42/weechat-android,closed,Missing SSH key exchange methods,[],"weechat-android is missing some key exchange methods for SSH.

It could be my phone but when I'm using the terminal on my phone the connection succeeds.

The SSH server is set up with
```
KexAlgorithms curve25519-sha256@libssh.org,diffie-hellman-group-exchange-sha256
Ciphers chacha20-poly1305@openssh.com,aes256-gcm@openssh.com,aes128-gcm@openssh.com,aes256-ctr,aes192-ctr,aes128-ctr
MACs hmac-sha2-512-etm@openssh.com,hmac-sha2-256-etm@openssh.com,hmac-ripemd160-etm@openssh.com,umac-128-etm@openssh.com,hmac-sha2-512,hmac-sha2-256,hmac-ripemd160,umac-128@openssh.com
```
The server log when weechat-android is trying to connect.
```
Jan 24 06:59:17 xxxxxx sshd[15154]: fatal: Unable to negotiate with x.x.x.x port xxxxx: no matching key exchange method found. Their offer: diffie-hellman-group1-sha1,diffie-hellman-group14-sha1,diffie-hellman-group-exchange-sha1 [preauth]
```"
ubergeek42/weechat-android,closed,Fingerprint policy for certificates,[],"https://www.quora.com/Cryptography-Why-are-MD5-and-SHA1-called-broken-algorithms

One should now transition to sha-2 algorithms.

https://commons.apache.org/proper/commons-codec/apidocs/org/apache/commons/codec/digest/DigestUtils.html#sha256%28java.lang.String%29

(note that DigestUtils.sha256Hex could be used instead of converting to Hex afterwards -?-)"
ubergeek42/weechat-android,closed,SSL does not work for self-signed cert with IP address as Common Name,[],"I followed the instructions here http://dev.weechat.org/post/2012/07/27/SSL-in-Relay-plugin to create an SSL relay, with the server's IP address as the Common Name.

However, when trying to connect through the app (I'm using the dev version), I get the error:

```
You are trying to connect to [ip address] but the certificate is only valid for the following hosts:

(none)
```

I am able to connect to the relay using a different client, i.e. glowing bear."
ubergeek42/weechat-android,open,Allow the user to configure the auto-capitalization and auto-correction for chat messages.,[],Adds two preferences to allow the user to disable auto-correction and auto-capitalization on the chat message input EditText. To work around a SwiftKey bug/feature we set multi line mode (InputType.TYPE_TEXT_FLAG_MULTI_LINE) on the ActionEditText but don't actually send it on to the IME itself.
ubergeek42/weechat-android,closed,"update build tools, gradle build tools and gradle version",[],":wave: The versions of various build tools are very out of date. I've updated them so that anyone can take advantage of [instant run](https://developer.android.com/studio/run/index.html#instant-run) and other nice things in the more recent versions. Clean build time for the weechat-android module went down by ~30 seconds for me too :)

I'm not familiar with how Travis works, looks like someone with access will need to update the SDK components on it and accept a licence."
ubergeek42/weechat-android,open,[on hold] Add rename buffer feature in action bar,"[Label(name=""enhancement"")]","Add a new action in the main menu to rename a buffer.

The â€œResetâ€ button can be used to put the *standard* short name, which is the last dot-separated part of the full name. I hope this definition is OK!

![](http://i.imgur.com/Rxv0CVZ.png)
![](http://i.imgur.com/hSeoK3I.png)"
ubergeek42/weechat-android,closed,Escape commas in passwords,[],http://www.weechat.org/files/doc/devel/weechat_relay_protocol.en.html#command_init
ubergeek42/weechat-android,closed,Cannot input in buffers whose full name contains spaces,[],"I use the matrix script for weechat (https://github.com/torhve/weechat-matrix-protocol-script) which creates buffers that can contain spaces in their full name. They work fine from the ncurses interface, but when typing into those buffers from weechatdroid, the text is fully ignored.
When typing `Test` in a room (buffer) called `The Testing Room` I get those debug messages :
``` 
relay: recv from client 1/weechat/127.0.0.1: ""input lua.The Testing Room Test""
relay: invalid buffer pointer in message: ""input lua.The""
```
On a room called `Matrix` (without space), everything works just fine.
Is it possible for weechatdroid to use buffer pointers instead of buffer names ?"
ubergeek42/weechat-android,open,ability to show a tree view based on server->channel,"[Label(name=""feature request"")]","More people are using IRC to deal with the growing number of slack teams that are popping up everywhere. Each slack team has a #general and #random channel. After a couple teams are added, it's really hard to tell which team's general channel a person finds themselves in."
ubergeek42/weechat-android,closed,Add a disconnect / stop connecting action in the main notification.,[],"This is how it looks like:
![screenshot_2016-12-13-19-25-30](https://cloud.githubusercontent.com/assets/341358/21153436/bda3ebf8-c16a-11e6-801e-e6e6b3f2735b.png)
"
ubergeek42/weechat-android,closed,Constantly Waiting for Network,[],"On the Xiaomi Mi 4 the app is constantly ""Waiting for network"", even when the phone is connected to a network. It happens consistently when switching from wifi to mobile and from mobile to wifi, but it also occasionally happens even when there is no network change. Manually stopping the connecting attempt and connecting again fixes the issue until the next time is occurs.

System Details:
Device: Xiaomi Mi 4
OS: MIMU Global 8.0 (Stable) based on Android 6
Weechat Version: 0.12-dev (nightly release on Google Play)"
ubergeek42/weechat-android,closed,Add preference to disable auto-hiding the top action bar,[],Fixes #243.
ubergeek42/weechat-android,closed,Use Java-WebSocket master to add hostname vertification,[],"Follow-up for #266.

- use *jitpack.io* to add dependency to Java-WebSocket [current HEAD](/TooTallNate/Java-WebSocket/commit/58d17786958ec2b629b75de1eed00915b3e4f7c4)
- remove `sslContext`! yay!
- use `sslSocketFactory` to build the websocket socket, now that we can use `setSocket()`
"
ubergeek42/weechat-android,open,Add option to launch intent prior to connecting,"[Label(name=""feature request"")]","I've recently started using Weechat Android, and it's great!  Thanks for your work on it!  I'm using the ssh tunneling option which works beautifully.  The only snag is that I also protect my ssh port with Fwknop (Next generation port knocking), so to connect to weechat, I have to send an fwknop packet from the Android app, Fwknop2, and then switch over to weechat and connect.

I'm actually the author of the Fwknop2 app, and I plan to add intent handling to Fwknop2 in the near future (Tracking it at https://github.com/jp-bennett/Fwknop2/issues/49).  It would be great to get the two apps working together, and would make for a much better user experience for anyone Fwknop to protect their ports.

--Jonathan Bennett"
ubergeek42/weechat-android,closed,"Hostname verification: check before displaying ""untrusted cert"" dialog",[],"@oakkitten reported that displaying the ""invalid hostname"" error **after** the ""accept certificate"" dialog is confusing (and it is).
> mostly it's just super confusing
> i okayed a certificate and then i get this error

This PR does the hostname verification **before** checking the certificate and shows a dedicated dialog with useful details for the user to debug.

<img src=""https://i.imgur.com/oLHOwLS.png"" width=""50%""/>"
ubergeek42/weechat-android,closed,Private keys generated with JuiceSSH fail with a error message about invalid private keys,[],"After asking about this on IRC, I am making an issue to document the problem. 

This is a newly generated RSA 2048 bit private key, generated with JuiceSSH on my LG G3 running Android 5.0.

```
-----BEGIN RSA PRIVATE KEY-----
MIIEowIBAAKCAQEAmlDXv5M0t9zpZf72c+fO0s/PzUNrVGpPjkr6CqqwtUJaZOcu
ZUX8o44pYhUx6iv1Is6NVZk+dtLvZep8EyictYJb4Qi4VSKCds2Z66PnBBymwoAV
OGqNiY0/CwcwvVhqcgDg4TIDjvn1IKLlelC/splasZSa8IuztMlu7b2Le45rsZct
WaqT0DU/ixP3W92P3gW2Ps+w86FtG4jH0Uy3xSiTm9R4FEjS2Gf0MlegkxTd9SqA
6tioNYXYzLsRal5jpzTFbW1VuUz2ZFJF4jfjmof60fAMrSyKcTtxxMPjTfDOFehp
X11jyDh33o3YOTU76GhW8yM3UTdyZpOypmq0cQIDAQABAoIBACDbSbSuoTDsxn1D
FjKDjtPwD2zDCB1HLX08lZSj11AguqJ1XrmNd0dTw5fwr1oO1fj9RbaOFHC0ZOis
TpK9uPAku29krerimCi3iihUE6Iaf582Kk6C0XQSMPQmKciHBNMVQMxyG7PboMe8
J2QtwUNDx727yGmjNTYvFYFlNEewLLG/GaICyKV3biuIg4ddfdjh0y9R/fPfEBQ6
IJC40W627OlzER9UUyxVS+KtCCcaCvL+/WtNRHMmAGVfXQmMqh8G2HHaXHWrTKKg
AuYf5RiA6olqvMdSW34CxPOCski5No6EUHDIY8Plzk6EfTz8A/6tkIyeIiGmFz6r
UZaJ6OkCgYEAytaBUx8Oj/G9T9+3QnF/dM9hDyi6M4cZJyPS+DjGBqm8gQGH4Wfj
BmxrFZZUUFb2YTF1APM3HXviQ1kOGIUwbzbfCcD82VbrXgYmxWrzXi2fhpWfsWeQ
qpLMSmfNwpFXe7khDCLOWGr5eAFWJPFoHaCLW4mCPKCJNENCSvdc80sCgYEAwsK5
xFcTJFY60GPfpBN7CI69rOY3S+3Q9gdft4wGhhzYuXiUYmFMnlx+wVRo+MI5h0ap
7yzlK3cSSrjFZs7EJCTg4Pn90VNg7dyP3PbB/ENyI9ZcNFczQC24hSSJHqfp8n2/
tvcMhVwd039hrjCgJxL2IVlJ0nFraQRW8NdQZbMCgYEArtcllKuhlsxOXco+IkTJ
E7wqMrHthrr+IHHNyW7OqzGmLiFOqiotU/0idPIm7TV4nKDP9SiwqnZ9u4XJE7PC
4yqOKM80ZHd63Io641LkQpra9lyE0Zuu5IkzFTPS9dLocNpMNTTPXwGe1iV4xtFb
6KXZWeb23yGWAvmy7AG7Gm8CgYA0ibDxHQgl4jkFZBu9OCAVY+QY0xWRnvqik8Sn
T9emr/tqtPNaQqMXiR4MawfSKxq3ukE3KuY7PmipzYQ6woY4tdYP+oAUyqg4IiqQ
0ePseAk/T6EZ4XgK1QqUqBFxOpyqdG+WHLi89Od62T7xbV6Wi8/nmR2H7l6qOqh1
Wa/vbwKBgEpMTbISf0XYcvsxsazMpg6vYUhjFeIOjloAtipMxUq1dpzx6smSn3sd
LUmOKuN1wFfbg4St2VVkRfUpv6XFZxKTC3RtquTbAcKN0yfd1Mih3iLevnRBxpiN
Ds+oh18eRJDgm9AYl+zczGn2clpT/cw9/eZ28ZveV/nQFxLDzKfK
-----END RSA PRIVATE KEY-----
```

And the public key:

```
ssh-rsa
AAAAB3NzaC1yc2EAAAADAQABAAABAQCaUNe/kzS33Oll/vZz587Sz8/NQ2tUak+OSvoKqrC1Qlpk5y5lRfyjjiliFTHqK/Uizo1VmT520u9l6nwTKJy1glvhCLhVIoJ2zZnro+cEHKbCgBU4ao2JjT8LBzC9WGpyAODhMgOO+fUgouV6UL+ymVqxlJrwi7O0yW7tvYt7jmuxly1ZqpPQNT+LE/db3Y/eBbY+z7DzoW0biMfRTLfFKJOb1HgUSNLYZ/QyV6CTFN31KoDq2Kg1hdjMuxFqXmOnNMVtbVW5TPZkUkXiN+Oah/rR8AytLIpxO3HEw+NN8M4V6GlfXWPIOHfejdg5NTvoaFbzIzdRN3Jmk7KmarRx
JuiceSSH
```

Don't worry, this was generated for this occasion and is not used anywhere.

I cannot get Weechat-Android to work using this key, neither on the Google Play version, or the latest nightly.

They both fail with ""Error: invalid private key: [B@<more stuff>""

However, this key generated from `ssh-keygen -t rsa -f myfile.key` works just fine

```
-----BEGIN RSA PRIVATE KEY-----
MIIEpAIBAAKCAQEAtHFy/5rNGIJm6LAN/KcYDLbZtc6aWlgLERrKmSW15KCfok9U
rERzRcJa9oYuByGf77b6kv7e8xlHoGHeHOgN/NJVYytRVSsJPDil+XhR7IWQxvTY
MjJDahvVL/H5Gia6n8RzlEiEpDVyekVs772me2XfxzrDlOWTdN397gA3X01SzaXu
CGo3oup0xSYMgk/ASjTlYRAmb1OS2elLoJ+0frtzlFscrrqNlyml3tK1C/AJ5e91
410VOpO5gvojd3BSF+za0Y3RFJ8DNw1vniRI45vGAnBOrhkJUqfdMUYwC7d3JtXD
qSBUPvNa/dNhF6MVBTVdowBuwqvhJlUkjdwPVwIDAQABAoIBAQCjDlnS7LolScFg
x6b8BqrO4nT9u4Lz3NezTziBB/jEbvmSHInxWbGo+iZk23/AZfw3DGyGZNZnaxK0
tXuXN4NcUV1jzgMjKU6hIrepJbcyOshHYX30bkNJIXmWZ9yoaxL9yPKArr9d/AZE
w3PbeM92duqvCEUwyfxkAS6z4XIoJRsqIq2hgSrbumGjR81HcbZkA+cGON2yw/Gm
88bIhwJmahXZY14a/VwnqKNOw7kpY/dAi7tYJHlbos8f2S+4mZ2IyvKPuH29gOWt
MAlrli+REWC2L+FNW2MGP+hRlMlMSaku5N8wTZwtXNXzrN9nSHLLiFaEFKiU49lx
4phUtyshAoGBAO2H/hsrvnoKUxU3PtH53J5v3BJf1zwRnBrtPlIHGGI8zbZwEckt
xdfzgbsqoP3/zNOwsxkvCVIjDin4vSd5awGPZElydms/MgmaTQPlHor0Xj1aRUZy
T6hfecpJHhXY1YypOQxrcrX/xZLgbY+qnsBKZef0OHNWJMxWaTE8zYOpAoGBAMJ5
IZQPjfAvbnc+iCtuxLy6eoc+iUZxCm/YhJCBJjzamt8GhglgUCOCfRVJBVsJsdUt
klmgjk1viBK/uedznmy3N3wv70Sb+48if24wNcnMnrWfqsVLlDC6LTT0basZqxJV
yEwMu6FdFDqPl3s/WjSsKzRxRcDIrXCM0M2HyNr/AoGBAOv3Ki8x0KKKOSkdXbHY
pxtaAmTagwYwdESnpD52v/lvb+iqAnE5oI48YIdf/Nj3UjKGGhWNjZPkMUDu0nIx
g2TkXvs703oNKJcziwiwhxwBUNFgKOunyYx5dJLI+jM32kVHIt48q5MzyMF1ZEHR
fK2H+x5nleC2Fg5MVWnNflgpAoGAYosw6a7sFK5kQoZsR93sUVoJJqkYtJopWL2V
hwf6kVGQsrzChNPKKARCT9vdm+EQvN5Hz6TdFv4SLLX8hP0AZUR+GC7OBq0nzsMD
YZmKWASY053h0fHXWM2uhKvrOo1aM4NGaMr29PCOhJIoh2p10kT/66YOW38U6/hf
AhbxP48CgYAxmpJepkc+dSQc5wZHuXF+YieqL9eI8yOoVXHtDTWm8yWE8WiHXBPH
pB8l6jstn++3s58ebQLXbrlWzVbQcHQQyXb67OYLn+W5vOCp3wqH87Qs3rNBsDnT
ODHuDgbUjd7lZYEW1ryOBx4FXAd18iyOXongcSa5nGhlSF3sYYnS4g==
-----END RSA PRIVATE KEY-----
```

Public key
```
ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQC0cXL/ms0YgmbosA38pxgMttm1zppaWAsRGsqZJbXkoJ+iT1SsRHNFwlr2hi4HIZ/vtvqS/t7zGUegYd4c6A380lVjK1FVKwk8OKX5eFHshZDG9NgyMkNqG9Uv8fkaJrqfxHOUSISkNXJ6RWzvvaZ7Zd/HOsOU5ZN03f3uADdfTVLNpe4Iajei6nTFJgyCT8BKNOVhECZvU5LZ6Uugn7R+u3OUWxyuuo2XKaXe0rUL8Anl73XjXRU6k7mC+iN3cFIX7NrRjdEUnwM3DW+eJEjjm8YCcE6uGQlSp90xRjALt3cm1cOpIFQ+81r902EXoxUFNV2jAG7Cq+EmVSSN3A9X fake@fakeuser.com
```

What makes one work, and not the other? :)


"
ubergeek42/weechat-android,closed,[Dev] Error cannot verify hostname: <IP>,[],"After yesterday's update I can't connect to my relay (ssl.weechat) anymore. I can't be more specific that's the only error i get in the phone.

Oh, just saw this inside weechat...

09:58 weechat     â•¡ relay: new client on port 9001:
                  â•¡ 1/ssl.weechat/123.123.123.124
09:58 weechat     â•¡ relay: new client on port 9001:
                  â•¡ 2/ssl.weechat/123.123.123.124
09:58 weechat  !! â•¡ relay: reading data on socket for client
                  â•¡ 2/ssl.weechat/123.123.123.124: error -110 The TLS
                  â•¡ connection was non-properly terminated.             09:58 weechat     â•¡ relay: disconnected from client
                  â•¡ 2/ssl.weechat/123.123.123.124             

I connect with IP to a VPS.

Also, an option in the dev version for more verbose error messages, perhaps a local ""buffer"".

Sorry for the formatting, my phone"
ubergeek42/weechat-android,closed,Implement hostname verification for connection type â€˜Weechat SSLâ€™,[],"This partially fixes #266. Implementing for SSL WebSockets is not possible unless we use development release that gives access to `setSocket()`.

All the magic resides in the use of Android's `SSLCertificateSocketFactory` which implements hostname verification in its [`createSocket()`](https://developer.android.com/reference/android/net/SSLCertificateSocketFactory.html)."
ubergeek42/weechat-android,closed,Replace launcher logo with high resolution version (and source SVG),[],"The source SVG was recreated from this PNG version:
https://upload.wikimedia.org/wikipedia/commons/a/a3/Weechat_logo.png

I removed the drop shadow.
"
ubergeek42/weechat-android,closed,Add missing translatable array & French translation,[],"Fixup for 06af90a.
"
ubergeek42/weechat-android,closed,Crash during/after Connection,[],"Version: v0.12-git (from F-Droid)

Popup:

`""weechat"" was closed`

Logcat:

```
E/AndroidRuntime(17033): Process: com.ubergeek42.WeechatAndroid, PID: 17033
E/AndroidRuntime(17033): java.lang.NullPointerException: Attempt to invoke virtual method 'java.lang.String[] java.lang.String.split(java.lang.String)' on a null object reference
E/AndroidRuntime(17033):    at com.ubergeek42.weechat.relay.protocol.Data.getHdata(Data.java:173)
E/AndroidRuntime(17033):    at com.ubergeek42.weechat.relay.protocol.Data.getObject(Data.java:273)
E/AndroidRuntime(17033):    at com.ubergeek42.weechat.relay.RelayMessage.<init>(RelayMessage.java:2238)
E/AndroidRuntime(17033):    at com.ubergeek42.weechat.relay.connection.AbstractConnection.access$300(AbstractConnection.java:2147)
E/AndroidRuntime(17033):    at com.ubergeek42.weechat.relay.connection.AbstractConnection$2.run(AbstractConnection.java:83)
E/AndroidRuntime(17033):    at java.lang.Thread.run(Thread.java:818)
```

Weechat: 

```
                      â”‚1910  weechat            ? relay: new client on port 8001: 5/weechat/IPv4-Adress
                      â”‚1910  weechat        =!= ? relay: reading data on socket for client 5/weechat/91.58.254.249: error 104 (connection closed by peer)
                      â”‚1910  weechat            ? relay: disconnected from client 5/weechat/IPv4-Adress

```

I have try, Weechat SSL and Plain Authentification -> (Connection by https://www.glowing-bear.org/# works well)
"
ubergeek42/weechat-android,closed,Tags for versions (F-Droid updates),[],"Hi,

Some users do not have Google Play on their device and rely on third party stores to get apps. Typically, I get most of my apps on F-Droid, including this one.

I think F-Droid relies on tags to check if new versions are available and build the APKs. Although version 0.12 is available, there is no associated tag on Github and (I guess) for this reason F-Droid users are stuck with 0.11.

Would it be possible to see if something can be done to fix this? Also, another option that could be interesting would be to host a third party F-Droid repository to serve Weechat builds directly, without relying on F-Droid compilation mechanism, the same way as it is done on Google Play.

Thanks!
"
ubergeek42/weechat-android,closed,"Add WebSocket path preference, fix URI building",[],"This fixes issue #293.

<img src=""https://i.imgur.com/b4vbKT4.png"" width=""49%""/>
"
ubergeek42/weechat-android,closed,Internationalization: French,[],"Title says all.

There are two sperate commits. The first fixes some hard-coded English strings (and minor changes such as `Weechat` â†’ `WeeChat`, the other adds the French translation file.

_Props to @oakkitten for the various reviews!_
"
ubergeek42/weechat-android,open,Doesn't reconnect upon focus,[],"In the nightly version if one disconnects and hits the back button until the app goes into the background and then again gives focus it does not auto connect.

Only works if the activity is destroyed (eg swiped away in recent)

This is not the case in the old version via the quit button (there it does the right thing)
"
ubergeek42/weechat-android,closed,Separate system & user TrustStores; add cert count in clear cert pref,[],"This fixes the [following TODO](/ubergeek42/weechat-android/blob/master/weechat-android/src/main/java/com/ubergeek42/WeechatAndroid/service/SSLHandler.java#L106):

```
// Copy current certs into our keystore so we can use it...
// TODO: don't actually do this...
```

Implementation summary:
- before: fill a single `Keystore` with all system certificates + all user certificates; check is done by `getTrustManagers()[0]`
- after: create a _system_ `TrustManager` (with system `KeyStore`) and a _user_ `TrustManager` (with user `KeyStore`); check is done by trying to check against the _system_, if that fails, the check is done against the _user_
- add a summary on the _Clear certificates_ preference with the user certificate count
- put hard-coded strings to `strings.xml`

This way, we don't need to copy all ~150 system certificates. Besides, we can now clear only the user certificates.

<img title=""Button settings"" src=""https://i.imgur.com/njaPGnh.png"" width=""49%""/> <img title=""Role selector"" src=""https://i.imgur.com/wE4Z7Tl.png"" width=""49%""/>
"
ubergeek42/weechat-android,open,Network connections not closed sometimes,[],"Hi,

I have a maximum number of connection set to 5 on my Weechat relay. I am only using Weechat for Android as a relay client (version from F-Droid).

Very often, it happens that the connection fails due to ""Connection reset by peer"". When checking the logs, there are a lot of clients still connected, which are actually ghost connections from my Android device with Weechat for Android, not closed by the app.

Actually, I manage to keep a connection open with Weechat for Android, while the app is closed (at least I do not have any permanent notification stating otherwise). I did not yet manage to figure out what exactly is happening, but I guess it has something to do with switching between connections (when I lose data network or when I switch from 3G to Wifi for instance).

I know at least two people having this issue, myself on Android 4.4.2 and F-Droid version, and another one on Android 6 and Google Play version. Anyone else is having such issue?

Thanks!
"
ubergeek42/weechat-android,closed,SSH Tunnel: Show IP of tunnel instead of IP of server.,[],"Currently, when you connect to a tunnel over SSH and use `localhost` as the name, the notification says ""Connected to localhost"". Maybe this could be changed so that it displays the IP address that the connection is being tunneled through if the server IP used is localhost, as that would be more useful information?
"
ubergeek42/weechat-android,open,Option for increasing/decreasing line spacing,"[Label(name=""feature request"")]","I think it can be a little difficult or more stressful to read everything being put in same mess with short line spaces. This is possibly one reason why some ""IRC alternatives"" like Slack/Telegram/Discord get users from IRC and sometimes have option for ""IRC mode"" where everything is in one mess and their default mode is ""relaxed"".

Example screenshots (I don't know if my point goes across though):
- WeeChat on urxvt with `URxvt*lineSpace: 5`
- WeeChat Android
- Riot

![mosh weechat 1 6-rc1 -weechat-android lakka_280](https://cloud.githubusercontent.com/assets/831184/19015413/90eef19e-880c-11e6-9dbb-4913e2dd7eec.png)

![whatsapp image 2016-10-01 at 19 24 37](https://cloud.githubusercontent.com/assets/831184/19015428/dfee13e2-880c-11e6-89c3-82b69111cbac.jpeg)

![whatsapp image 2016-10-01 at 19 24 39](https://cloud.githubusercontent.com/assets/831184/19015430/e51f34e0-880c-11e6-9282-ec0e235e95f2.jpeg)
"
ubergeek42/weechat-android,closed,SSH Tunnel no more working with Nougat 7.0 on Nexus 6p,[],"Got an error when connecting to ssh tunnel. Auth is ok but tunneling is no more working.
Build ID V 0.11

Tryed the nightly dev build 0.12, got problem this time for the authentication, got a ""preauth"" 

Sep 21 22:40:34 gaia sshd[6074]: error: Received disconnect from 127.0.0.1 port 48507:3: com.jcraft.jsch.JSchException: Auth fail [preauth]
Sep 21 22:40:34 gaia sshd[6074]: Disconnected from 127.0.0.1 port 48507 [preauth]
"
ubergeek42/weechat-android,closed,Repeated NullPointerExceptions,[],"I can't quite figure out what is causing these, but once one happens it will continue to happen immediately upon re-connecting for a period of time.  Then all will be well again (for a while), before the cycle repeats.

logcat shows:

```
09-10 21:02:07.106 26881 26902 E AndroidRuntime: FATAL EXCEPTION: r0
09-10 21:02:07.106 26881 26902 E AndroidRuntime: Process: com.ubergeek42.WeechatAndroid, PID: 26881
09-10 21:02:07.106 26881 26902 E AndroidRuntime: java.lang.NullPointerException: Attempt to invoke virtual method 'java.lang.String[] java.lang.String.split(java.lang.String)' on a null object reference
09-10 21:02:07.106 26881 26902 E AndroidRuntime:        at com.ubergeek42.weechat.relay.protocol.Data.getHdata(Data.java:173)
09-10 21:02:07.106 26881 26902 E AndroidRuntime:        at com.ubergeek42.weechat.relay.protocol.Data.getObject(Data.java:273)
09-10 21:02:07.106 26881 26902 E AndroidRuntime:        at com.ubergeek42.weechat.relay.RelayMessage.<init>(RelayMessage.java:2238)
09-10 21:02:07.106 26881 26902 E AndroidRuntime:        at com.ubergeek42.weechat.relay.connection.AbstractConnection.access$300(AbstractConnection.java:2147)
09-10 21:02:07.106 26881 26902 E AndroidRuntime:        at com.ubergeek42.weechat.relay.connection.AbstractConnection$2.run(AbstractConnection.java:83)
09-10 21:02:07.106 26881 26902 E AndroidRuntime:        at java.lang.Thread.run(Thread.java:761)
09-10 21:02:07.108 26881 26902 I Process : Sending signal. PID: 26881 SIG: 9
09-10 21:02:07.144   892   903 I ActivityManager: Process com.ubergeek42.WeechatAndroid (pid 26881) has died
09-10 21:02:07.144   892   903 W ActivityManager: Service crashed 2 times, stopping: ServiceRecord{9e5faf7 u0 com.ubergeek42.WeechatAndroid/.service.RelayService}
```

WeechatAndroid 0.12-git build ID v0.11-83-g9426987
WeeChat 1.6-rc1 (git: v1.6-rc1-15-gce17b2e) [compiled on Sep  7 2016 23:06:39]
"
ubergeek42/weechat-android,closed,Bring back the quit function,[],"Using 0.12-git, I noticed that you have removed the quit function. I know that you can disconnect and close and so forth, but I prefer the quickness of being able to press quit. Can you put it back, please?
"
ubergeek42/weechat-android,closed,Fix ssh for Android N,[],"changes per https://github.com/ubergeek42/weechat-android/issues/279#issuecomment-226423466
"
ubergeek42/weechat-android,closed,Incompatibility with weechat 1.6-dev,[],"15:34 =!= relay: reading data on socket for client 2/ssl.weechat/24.0.96.126: error -9 A TLS packet with unexpected length was received.
15:34 =!= relay: sending data to client 2/ssl.weechat/24.0.96.126: error -10 The specified session has been invalidated for some reason.
15:34 relay: disconnected from client 2/ssl.weechat/24.0.96..126

15:39 relay: new client on port 8999: 2/weechat/24.0.96.126
15:39 =!= relay: reading data on socket for client 2/weechat/24.0.96.126: error 1 (connection closed by peer)  
   15:39 relay: disconnected from client 2/weechat/24.0.96.126
15:41 relay: socket closed for weechat (port 8999)  
   15:41 relay: relay ""weechat"" (port 8999) removed
"
ubergeek42/weechat-android,closed,SSH tunnel cannot handle multiuser,[],"I have a form of dissociative identity disorder. I decided to create a second user account on my phone for my alternate self.

[As defined here,](https://github.com/ubergeek42/weechat-android/blob/fe9bedbad72fa7bc6a982dc5004057b277be09f3/weechat-relay/src/main/java/com/ubergeek42/weechat/relay/connection/SSHConnection.java#L36)

``` java
 final static private int SSH_LOCAL_PORT = 22231;
```

SSH is always forwarded to this port and hence cannot deal with multiple weechat android instances running on the same device (any other instances running on other user accounts fail to bind the port).
"
ubergeek42/weechat-android,open,"[on hold] Implement roles for volume buttons: none, text size, send history",[],"Keeps the default setting to ""text size"" for backwards compatibility. This implements feature request #281.

Change summary:
- preferences: replaces _volume button for text-size_ checkbox with a dropdown with three choices: _do nothing_, _text size_, _navigate send history_
- change implementation in `BufferFragment` to account for the new setting

Note that when the user starts to type something in `uiInput` _then_ decides to navigate history, this draft is stored so they can come back to it by pressing _volume down_ all the way.

<img title=""Button settings"" src=""https://i.imgur.com/zm07Xse.png"" width=""49%""/> <img title=""Role selector"" src=""https://i.imgur.com/3swni8Z.png"" width=""49%""/>
"
ubergeek42/weechat-android,closed,Fix wrong away nick color caused by cache,[],"This is a fixup for 7e89bb5. Android heavy cache makes the adapter ""leak"" the away color to nicknames that are not away as the user scrolls within the list (this recycles holders w/ their color, hence the ""leak"").

To fix that, we cache the default color on first load and then apply it on the textview for both away/online statuses.
## 

Sorry for the two PRs. I should have further tested that feature before submitting.
"
ubergeek42/weechat-android,closed,Distinguish away nicks in nick list using a light blue color,[],"This implements the #269 feature request.

Summary:
- adds a new `style.xml` color (a light blue extracted from Glowing Bear)
- parses the `color` nick attribute that contains `[â€¦].nicklist_away` if user is away
- stores the away status (a bool) into a new attribute of class `Nick`
- modifies the `NickListAdapter` to set the color of away nicks
"
ubergeek42/weechat-android,closed,OTR support,"[Label(name=""feature request"")]","[OTR](https://otr.cypherpunks.ca/) support would be nice to have.

There's a weechat implementation at https://github.com/mmb/weechat-otr.
"
ubergeek42/weechat-android,closed,cannot specify a custom WebSocket path,[],"At the moment, websockets can only be connected to if they're accessible at the root of a domain. Say I have a websocket at:

_wss://my.domain.com:port/path_

Using ""my.domain.com/path/"" as ""Relay host"" and ""port"" as ""Relay port"" causes WeeChat Android to try and connect to:

_wss://my.domain.com/path/:port_

Which obviously fails. I believe an additional ""path"" option would be the most straightforward solution.
"
ubergeek42/weechat-android,closed,Weechat Android crashes as soon as I connect to weechat,[],"Fresh Nexus 6 phone running 6.0.1.  Connecting via ssh tunnel through weechat or direct (using juicessh to provide the ssh tunnel) causes a crash as soon as i connect.  I don't see buffers or anything.

What should I do to debug?
"
ubergeek42/weechat-android,closed,Added plain message content to copy menu,[],"Sometimes it is desireable to only copy the content of a message so you
do not have to strip out the prefix etc..
"
ubergeek42/weechat-android,closed,Make buffer final to fix build,[],
ubergeek42/weechat-android,closed,Remove unused maven repo (Closes: #286),[],
ubergeek42/weechat-android,closed,Use numerical version code again (for F-Droid),[],"Move the git version code handling into travis.yml.
"
ubergeek42/weechat-android,closed,Fix compile,[],"This should fix the compilation for now.

Note that I'm only suppressing some of the errors!
"
ubergeek42/weechat-android,closed,Remove unused maven repo,[],"It seems like there is a unused maven repo setup at https://github.com/ubergeek42/weechat-android/blob/master/build.gradle#L4 -- could you remove this or point me to what dependencies are fetched from it? I just might have the dep in my mavenlocal or gradle cache, so I didnt experience any issues when disabling that repo...
"
ubergeek42/weechat-android,closed,Added share intent,[],"I've tried my best at adding a share intent to the app. Since I've never done anything on android before this might be a little hackish.

I'd like to continue improving this so we can finally have this feature in weechat-android.

Please let me know what needs to be fixed and I'll try to get it done.
"
ubergeek42/weechat-android,open,Allow fetching all buffers instead of just the ones I open and keep them fetched since connect,[],"`2016-05-12 10:19:16+0300 < Mikaela> would it be possible for WA to keep all lines fetched all the time? I hate it when it fetches for lines forever (without anything confirming it even does anything) and it's easier to just check what has happened at Telegram or only talk on the bridges channels there on mobile.`

`2016-05-12 10:19:36+0300 < Mikaela> I have unlimited data.`
"
ubergeek42/weechat-android,closed,Weechat android crashes with an out of memory error,[],"Whenever I try to connect to my server using Weechat SSL the app dies. I've attached log output, which reports an error trying to allocate a 1GiB memory block.
[device_info.txt](https://github.com/ubergeek42/weechat-android/files/259199/device_info.txt)
[logcat.txt](https://github.com/ubergeek42/weechat-android/files/259200/logcat.txt)

This is v0.11 from the Play Store.
"
ubergeek42/weechat-android,open,f-droid update,[],"the current version in f-droid is 0.10 ... how can we get an update for 0.12?
"
ubergeek42/weechat-android,open,Volume keys for Send history,"[Label(name=""feature request"")]","As in Andchat, it would be nice to be able to scroll through the send history for each buffer, or even globally, using the volume keys. This shouldn't be hard to implement, and would function as a third option for the volume keys
"
ubergeek42/weechat-android,closed,"change notification messages from ""Hot"" to ""New""",[],"""Hot message!"" in notification drop down has slightly sexual connotations. If that's the intention, following a particular sense of humor: fine and funny. If not, I am sure I am not the only one who noticed that so that's why I propose a change from ""Hot"" to (neutral) ""New"".
"
ubergeek42/weechat-android,closed,Android N,[],"Didn't had time to diagnose, but I'm trying the Android N beta and Weechat can't connect to my server (yes my server is up, my tablet is still connected). Wait for it, I can't decently write an issue without taking a look at logcat ... Oh nothing interesting in logcat, I may take a more deep look later, I'm just opening this ticket so you're aware of it.
"
ubergeek42/weechat-android,open,SSH does not work with ED25519-Key and will show wrong error message,[],"Using a ED25519-OpenSSH-Key will provoke an error message: ""Error: invalid privatekey:"" + a short string. Although there is text on the key-file option (in the dev-version currently) which lists the possible types of keys, the error message is not helpful.
"
ubergeek42/weechat-android,closed,Cannot connect with Nexus 5X,[],"I'm trying to use a plain connection (not an ssl tunnel) on my local network. Here are the versions of everything I'm using:
- weechat-android: the stable version (0.11) and the nightly build (0.12-dev).
- weechat 1.2
- android 6.0.1

The behavior I'm seeing is the relay client will connect and send 59 bytes, then will close the connection 20-30 seconds later.

I've tried changing between plain connection and web socket, with no luck.
"
ubergeek42/weechat-android,open,An option to disable the readmarker.,"[Label(name=""feature request"")]","I was discussing this in irc at some point. I'd like to have an option to disable the readmarker as I've disabled it on my server's weechat client so I'd like it to also be disabled on this client to match the configuration. 
"
ubergeek42/weechat-android,open,"Crashes when network changes, or manually try to disconnect",[],"If you use ssh tunnel to the machine hosting weechat and connect to the relay on localhost, then any network changes will cause weechat-android to crash: Unfortunately, weechat (dev) has stopped: Report/OK

Going from WLAN to 4G, 4G to WLAN, losing data signal on 4G, disabling WiFi when connected to the relay by WiFi can cause w-a to crash in the background, and manually selecting disconnect from the menu will cause w-a to crash in the foreground. 

This crashing behavior doesn't happen when connected to the same relay using a plain connection.

Details:
Android 4.4.4
Weechat v0.11-50-gfe9bedb
"
ubergeek42/weechat-android,open,Allow temporarily toggling filters per buffer/globally,[],"There isn't need to do it so often, but there are still cases when it's desirable to see everything happening on channel for example:
- checking when netsplit started (no one had talked in 5 minutes so smart filter hid it).
- being op and being requested to ##fix_your_connection -ban user who is hidden by smart filter.
- being op and channel having troll problem with someone on your filter list.
"
ubergeek42/weechat-android,open,No longer auto-connects,[],"Just updated to latest nightly and noticed that the app no longer connects on startup. Could not find a setting either. Is this intentional?
"
ubergeek42/weechat-android,closed,Address family not supported by protocol ,[],"I'm trying to connect to Weechat via ssh tunnel and I get this error:

`Error: recvfrom failed: ECONNRESET (Connection reset by peer)`

Also, this is what I found from auth.log on the server itself:

`Feb 11 14:49:18 irc sshd[19149]: Accepted publickey for perttuim from 88.195.xxx.xx port 60251 ssh2: RSA cf:07:ff:e6:a0:0b:21:60:ee:79:a1:b9:63:8a:c6:fb
Feb 11 14:49:18 irc sshd[19149]: pam_unix(sshd:session): session opened for user perttuim by (uid=0)                                                    
Feb 11 14:49:18 irc sshd[19151]: error: socket: Address family not supported by protocol                                                                
Feb 11 14:49:18 irc sshd[19151]: error: connect_to localhost port 9001: failed.                                                                         
Feb 11 14:49:18 irc sshd[19149]: pam_unix(sshd:session): session closed for user perttuim`                                         

I'm using Google Play nightly builds. Any ideas?
"
ubergeek42/weechat-android,open,Colored navigation bar,[],"The navigation bar is colored a dark grey no matter what theme I use, it's the only app I use that does this and it's jarring because I'm used to those pixels being black/turned off on my amoled panel.
"
ubergeek42/weechat-android,closed,Use only password and public key SSH auth,[],"Removes kerberos build dep and forces password/public key auth
"
ubergeek42/weechat-android,closed,Mark away nicks in roster,[],"I have checking for nicks which are away turned on in weechat, but in this relay client all the nicks in the roster show up the same irregardless of their away status. It doesn't seem to be possible to get this behaviour now with weechat-android, contrary to e.g. Glowing Bear.
"
ubergeek42/weechat-android,open,Provide F-Droid repo for development verions,[],"Hi,

would it be possible to provide a simple F-Droid repository? There is a Howto here: https://f-droid.org/wiki/page/Setup_an_FDroid_App_Repo. This would allow all F-Droid users to get updates automatically. I guess this could be integrated into publish_s3.sh rather easily.

Thanks!
"
ubergeek42/weechat-android,closed,Connection over an SSH tunnel (JuiceSSH) does not succeed,[],"Hello,

I am running weechat-android on my android phone. I am running version
0.11 from google play.

I initiate a SSH tunnel using a different app and then I try to connect
to the tunnel with weechat-android by specifying the address as
127.0.0.1 and providing the appropriate port.

On my weechat client which is running the relay, I see a message that
says ""relay: new client on port 42040: 2/weechat/127.0.0.1"" and I see
the following lines in relay_raw:

```
15:03:12 [2] weechat +| init password=nopassword,compression=zlib
15:03:12              | (checklogin) info version
15:03:12 [2] weechat +| obj: 40 bytes, id: checklogin
15:03:12 [2] weechat +| (listbuffers) hdata buffer:gui_buffers(*)
number,full_name,short_name,type,title,nicklist,local_variables,notify
15:03:12              | (last_read_lines) hdata
buffer:gui_buffers(*)/own_lines/last_read_line/data buffer
15:03:12 [2] weechat +| obj: 3266/9794 bytes (67%, 0.35ms), id: listbuffers
15:03:12 [2] weechat +| obj: 594/1338 bytes (56%, 0.08ms), id:
last_read_lines
15:03:12 [2] weechat +| (hotlist) hdata hotlist:gui_hotlist(*) buffer,count
15:03:12              | sync
15:03:12 [2] weechat +| obj: 356/912 bytes (61%, 0.06ms), id: hotlist
15:03:12 [2] weechat +| obj: 278/398 bytes (31%, 0.05ms), id:
_buffer_line_added
15:03:12 [2] weechat +| obj: 200/280 bytes (29%, 0.04ms), id: _nicklist_diff
15:03:13 [2] weechat +| obj: 253/345 bytes (27%, 0.04ms), id:
_buffer_line_added
```

However, weechat-android does not complete the connection and does not
display the list of buffers. Do you have any idea what could be wrong?

Thanks,
Manas
"
ubergeek42/weechat-android,closed,SSL doesn't validate hostname,"[Label(name=""bug"")]","The hostname on the certificate isn't validated to make sure it matches what we're connecting to. This is bad.

https://op-co.de/blog/posts/java_sslsocket_mitm/
"
ubergeek42/weechat-android,closed,Add some sort of share intent functionality,[],"It would be super nice if weechat-android supported the standard android ""share"" intents.

If I want to share a webpage or a reddit link through text, I just click the share button -> share with signal -> choose my contact -> hit send.

I would imagine that the flow would be similar with weechat-android.
Share button -> share with weechat -> choose channel or already open query -> hit send.
"
ubergeek42/weechat-android,open,Ability to turn off reordering buffers based upon highlights.,[],"I made this suggestion in the irc channel last night, and somone recommended I opened a github issue for it. Would it be possible to implement this as a preference, as I'd prefer the list of buffers to have the same order as my weechat buffers sidebar. 
"
ubergeek42/weechat-android,open,Ability to mute notifications on a per-buffer basis,[],"Hi,

Would it be possible to add a ""mute notification"" toggle button to each buffer in weechat-android? It would work just like the similar feature in google hangouts.

Cheers
"
ubergeek42/weechat-android,closed,Add file chooser for SSH private key selection.,[],"When selecting a SSH private key, you have to type in the full path manually. A file chooser would be better suited.

Cheers
"
ubergeek42/weechat-android,closed,[Feature Request] Buffer history size,[],"When I connect to my weechat I often see highlights in some channels but when I click on those channels I don't see any messages related to me since by the time I open weechat the message log changes significantly and the message with highlight is already long history.

It would be nice to have an option to set the buffer history length that weechat requests from relay and be able to set it to unlimited value or entire buffer log dispayed in running weechat instance
"
ubergeek42/weechat-android,open,RFC 6555 - Happy Eyeballs,[],"- https://tools.ietf.org/html/rfc6555

TL;DR, connect using IPv6 & IPv4 in that order and if v6 fails, fall back to v4.

I am currently at cottage where I have HE tunnel as the ISP is missing IPv6 support. However there is routing issue between the cottage and the server where WeeChat is on on IPv6 so it's inaccessible and WeeChat Android just tries reconnecting again with counting time.

If Happy Eyeballs was implemented, I wouldn't see this.
- Possibly related: https://github.com/ubergeek42/weechat-android/pull/54
- Potential duplicates (which don't say what should be done to fix it):
  - https://github.com/ubergeek42/weechat-android/issues/175
  - https://github.com/ubergeek42/weechat-android/issues/255
"
ubergeek42/weechat-android,open,"Buffer loses scroll position on clicking links, and loading more history",[],"My chat window's reading position tends to get lost or jump while using Weechat-Android; it would be great if it always remembered where you were reading.

For example, if you scroll back, click a link, then return to the channel, the scroll position will be reset to the very end. When scrolling to the top and clicking ""LOAD MORE HISTORY"", the history is prepended to the buffer, but you stay scrolled to the very top, which makes you lose your position.
"
ubergeek42/weechat-android,open,Message dropped due to transient connection failure,[],"Sometimes while I'm in the middle of composing a message, the connection to the server will drop and pick up a second later. At the same time, the screen flashes and the text I was composing vanishes.
A dropped connection should not cause an in-progress message to be lost.
"
ubergeek42/weechat-android,open,Connect/disconnect via Tasker,[],"I'd be nice to be able to connect/disconnect via [Tasker](http://tasker.dinglisch.net/). I think that'd also be possible if it was possible to do so via an Android [intent](https://developer.android.com/reference/android/content/Intent.html).

My usecase is to connect/disconnect via my Pebble smartwatch when my phone is in my pocket (to get notifications, or to stop getting them).
"
ubergeek42/weechat-android,open,Add reply action for notifications,[],"I'm not entirely sure how this is done, but for some notications I can reply to them from my pebble smartwatch. It'd be nice to have that possibility for weechat-android notifications as well.
"
ubergeek42/weechat-android,open,Improve ipv6 support,[],"I recently had an issue where my relay server had an ipv6 address, but it was temporarily unreachable via that address. This manifested as an inability to connect when my phone was on a network with ipv6 connectivity, but normal operation otherwise.
It would be nice to automatically fall back to the ipv4 address (if any) if the ipv6 address is unreachable.
In addition, a toggle to force ipv4/ipv6 would be handy.
"
ubergeek42/weechat-android,open,crash when pinging is disabled,[],"```
java.lang.RuntimeException: Unable to start service com.ubergeek42.WeechatAndroid.service.RelayService@427f5278 with Intent { act=com.ubergeek42.WeechatAndroid.
Caused by: java.lang.IllegalArgumentException: Receiver not registered: com.ubergeek42.WeechatAndroid.service.PingActionReceiver@427f6870
    at com.ubergeek42.WeechatAndroid.service.RelayService.goodbye(RelayService.java:3091)
    at com.ubergeek42.WeechatAndroid.service.RelayService.stop(RelayService.java:190)
    at com.ubergeek42.WeechatAndroid.service.RelayService.onStartCommand(RelayService.java:114)
```
"
ubergeek42/weechat-android,open,Feature: Copy & Paste select just chat text or part of chat text,"[Label(name=""feature request"")]","Hi. Today I wanted to add a new ssh account on my server. Some person gave me the password they wanted. It was complex. I wasn't able to select just the password to copy/paste it into the new password dialog for the user. So my request is, also be able to select sub parts of the line (like just the password, not the complete chatline) and so be able to copy/paste eg. passwords from within the chat into the password dialog.

Thank you! :)
"
ubergeek42/weechat-android,open,Readd quit button,[],"is there any intention behind removing the quit-button?
"
ubergeek42/weechat-android,open,Crash with 0.11,"[Label(name=""google play crash"")]","```
java.lang.NoClassDefFoundError: Failed resolution of: Lorg/ietf/jgss/Oid;
    at com.jcraft.jsch.jgss.GSSContextKrb5.a(Unknown Source)
    at com.jcraft.jsch.UserAuthGSSAPIWithMIC.a(Unknown Source)
    at com.jcraft.jsch.Session.a(Unknown Source)
    at com.ubergeek42.a.a.a.h.run(Unknown Source)
    at java.lang.Thread.run(Thread.java:818)
Caused by: java.lang.ClassNotFoundException: Didn't find class ""org.ietf.jgss.Oid"" on path: DexPathList[[zip file ""/data/app/com.ubergeek42.WeechatAndroid-1/base.apk""],nativeLibraryDirectories=[/vendor/lib, /system/lib]]
    at dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:56)
    at java.lang.ClassLoader.loadClass(ClassLoader.java:511)
    at java.lang.ClassLoader.loadClass(ClassLoader.java:469)
    ... 5 more
    Suppressed: java.lang.ClassNotFoundException: org.ietf.jgss.Oid
        at java.lang.Class.classForName(Native Method)
        at java.lang.BootClassLoader.findClass(ClassLoader.java:781)
        at java.lang.BootClassLoader.loadClass(ClassLoader.java:841)
        at java.lang.ClassLoader.loadClass(ClassLoader.java:504)
        ... 6 more
Caused by: java.lang.NoClassDefFoundError: Class not found using the boot class loader; no stack available
```
"
ubergeek42/weechat-android,closed,Change place of the close button,[],"Hi,  is it possible to change the close button because its'the first when we open the menu...  Can you put it before quit for example? 
thanks. 
Love your app man :) 
"
ubergeek42/weechat-android,closed,Allow reordering of open buffers by swiping name,[],"Fixes #215.

When multiple buffers are open, this PR enables swiping left/right on the buffer name (on top) to move it left or right one place. The same buffer is kept open. Because of the lack of animation, it's a bit unintuitive, but I wanted to get a working version out before tweaking UI. (I believe it only involves modifying updateTextPositions in CutePagerTitleStrip to take into account dragging - tying in the class I added at the bottom, GestureListener)

For example, if the buffers open are (bold means the current buffer):

> chan1 chan2 **chan3** chan4

and the user swipes left on ""chan3"", then the open buffers look like:

> chan1 **chan3** chan2 chan4
"
ubergeek42/weechat-android,closed,0.12 - Unable to connect using SSH,[],"I get ERRCONNRESET (Connection reset by peer) when trying to connect on the latest nightly (g7432c3c).

The connection seems to be successful since I get `relay: reading data on socket for client 3/weechat/127.0.0.1: error 3111 (connection closed by peer)` in WeeChat.

```
16:57:52.474  3558  3930 E AbstractConnection: readLoop(): exception while state == CONNECTED
11-24 16:57:52.474  3558  3930 E AbstractConnection: java.net.SocketException: recvfrom failed: ECONNRESET (Connection reset by peer)
11-24 16:57:52.474  3558  3930 E AbstractConnection:    at libcore.io.IoBridge.maybeThrowAfterRecvfrom(IoBridge.java:588)
11-24 16:57:52.474  3558  3930 E AbstractConnection:    at libcore.io.IoBridge.recvfrom(IoBridge.java:552)
11-24 16:57:52.474  3558  3930 E AbstractConnection:    at java.net.PlainSocketImpl.read(PlainSocketImpl.java:481)
11-24 16:57:52.474  3558  3930 E AbstractConnection:    at java.net.PlainSocketImpl.-wrap0(PlainSocketImpl.java)
11-24 16:57:52.474  3558  3930 E AbstractConnection:    at java.net.PlainSocketImpl$PlainSocketInputStream.read(PlainSocketImpl.java:237)
11-24 16:57:52.474  3558  3930 E AbstractConnection:    at com.ubergeek42.weechat.relay.connection.AbstractConnection.readAll(AbstractConnection.java:164)
11-24 16:57:52.474  3558  3930 E AbstractConnection:    at com.ubergeek42.weechat.relay.connection.AbstractConnection.access$300(AbstractConnection.java:2144)
11-24 16:57:52.474  3558  3930 E AbstractConnection:    at com.ubergeek42.weechat.relay.connection.AbstractConnection$2.run(AbstractConnection.java:83)
11-24 16:57:52.474  3558  3930 E AbstractConnection:    at java.lang.Thread.run(Thread.java:818)
11-24 16:57:52.474  3558  3930 E AbstractConnection: Caused by: android.system.ErrnoException: recvfrom failed: ECONNRESET (Connection reset by peer)
11-24 16:57:52.474  3558  3930 E AbstractConnection:    at libcore.io.Posix.recvfromBytes(Native Method)
11-24 16:57:52.474  3558  3930 E AbstractConnection:    at libcore.io.Posix.recvfrom(Posix.java:189)
11-24 16:57:52.474  3558  3930 E AbstractConnection:    at libcore.io.BlockGuardOs.recvfrom(BlockGuardOs.java:250)
11-24 16:57:52.474  3558  3930 E AbstractConnection:    at libcore.io.IoBridge.recvfrom(IoBridge.java:549)
11-24 16:57:52.474  3558  3930 E AbstractConnection:    ... 7 more
11-24 16:57:52.474  3558  3930 E RelayService: onException(SocketException)
11-24 16:57:52.474  3558  3930 I Jsch    : Disconnecting from <my_address> port 22
11-24 16:57:52.475  3558  3928 I Jsch    : Caught an exception, leaving main loop due to Socket closed
```

Dunno if this is related as well:

```
11-24 16:57:55.550  3872  3908 W a.a.a.ab: Wait for canceled timed out: DNS: connectsdk [/<ip-address-here>] state: canceling 1 task: null
11-24 16:57:55.550  3872  3908 W a.a.a.aj: connectsdkrecover() Could not recover we are Down!
11-24 16:57:58.351   371  1176 D audio_hw_primary: disable_audio_route: reset and update mixer path: low-latency-playback speaker
11-24 16:57:58.353   371  1176 D audio_hw_primary: disable_snd_device: snd_device(2: speaker)
11-24 16:58:05.621  3872  3941 W a.a.a.b.a.a: ServiceResolver(connectsdk).run() exception 
11-24 16:58:05.621  3872  3941 W a.a.a.b.a.a: java.net.SocketException: sendto failed: EPERM (Operation not permitted)
11-24 16:58:05.621  3872  3941 W a.a.a.b.a.a:   at libcore.io.IoBridge.maybeThrowAfterSendto(IoBridge.java:542)
11-24 16:58:05.621  3872  3941 W a.a.a.b.a.a:   at libcore.io.IoBridge.sendto(IoBridge.java:511)
11-24 16:58:05.621  3872  3941 W a.a.a.b.a.a:   at java.net.PlainDatagramSocketImpl.send(PlainDatagramSocketImpl.java:184)
11-24 16:58:05.621  3872  3941 W a.a.a.b.a.a:   at java.net.DatagramSocket.send(DatagramSocket.java:305)
11-24 16:58:05.621  3872  3941 W a.a.a.b.a.a:   at a.a.a.aj.a(SourceFile:1541)
11-24 16:58:05.621  3872  3941 W a.a.a.b.a.a:   at a.a.a.b.a.a.run(SourceFile:74)
11-24 16:58:05.621  3872  3941 W a.a.a.b.a.a:   at java.util.Timer$TimerImpl.run(Timer.java:284)
11-24 16:58:05.621  3872  3941 W a.a.a.b.a.a: Caused by: android.system.ErrnoException: sendto failed: EPERM (Operation not permitted)
11-24 16:58:05.621  3872  3941 W a.a.a.b.a.a:   at libcore.io.Posix.sendtoBytes(Native Method)
11-24 16:58:05.621  3872  3941 W a.a.a.b.a.a:   at libcore.io.Posix.sendto(Posix.java:211)
11-24 16:58:05.621  3872  3941 W a.a.a.b.a.a:   at libcore.io.BlockGuardOs.sendto(BlockGuardOs.java:278)
11-24 16:58:05.621  3872  3941 W a.a.a.b.a.a:   at libcore.io.IoBridge.sendto(IoBridge.java:509)
11-24 16:58:05.621  3872  3941 W a.a.a.b.a.a:   ... 5 more
11-24 16:58:05.622  3872  3943 W a.a.a.aj: RECOVERING
```
"
ubergeek42/weechat-android,closed,Stop notifying filtered messages,[],"As a network admin, i receive lots of basic server notice every minutes. I filtered it but it keeps sending notifications.
It would be interesting to have an option to only notify non-filtered messages.
"
ubergeek42/weechat-android,open,"0.11 says ""Wrong password"" when no password is required",[],"After updating I re-set all my settings as the store page says. However, I still couldn't connect.
I changed my relay password to empty since the client kept saying ""Wrong password"", but it still happens.

I use an SSH tunnel to connect so I can see that the connection to the server itself has succeeded, but the client fails anyway.

**Sony Xperia Z1 Compact (D5503) running 5.1.1.**

On another note (related, but not sure if it should be a separate issue), when connection fails this way the menu item still says ""Disconnect"".
"
ubergeek42/weechat-android,open,Crash with 0.11,"[Label(name=""google play crash"")]","```
java.lang.NumberFormatException: unable to parse '085715328960' as integer
    at java.lang.Integer.parse(Integer.java:388)
    at java.lang.Integer.parseInt(Integer.java:372)
    at java.lang.Integer.parseInt(Integer.java:332)
    at com.ubergeek42.WeechatAndroid.service.s.e(Unknown Source)
    at com.ubergeek42.WeechatAndroid.service.v.run(Unknown Source)
    at com.ubergeek42.WeechatAndroid.service.u.run(Unknown Source)
    at android.os.Handler.handleCallback(Handler.java:587)
    at android.os.Handler.dispatchMessage(Handler.java:92)
    at android.os.Looper.loop(Looper.java:130)
    at android.os.HandlerThread.run(HandlerThread.java:60)
```

I'll have to see if I can get the de-obfuscated version later.

Android 2.3.3
"
ubergeek42/weechat-android,open,0.11 Unable to edit settings,[],"Latest update has somehow stopped me being able to edit settings, the only button in the menu working is about and clear ssl certs :/
"
ubergeek42/weechat-android,closed,Allow setting for hiding menu bar ,[],"Love the new update but hiding the menu bar should be an option since for some people it makes navigation harder (the menus now appear from the top of the screen vs bottom of the menu bar).
When the menu bar was fixed, I could rely on it to navigate faster without having to make gestures to bring it up.
"
ubergeek42/weechat-android,open,Allow seeing full buffer name,[],"Currently I only see the short name (channel name/nick). I would prefer to see the full name as I name all my servers with only the two first letters and it's not impossible for me to have the same channel name or query on multiple networks and it would be easier to see that channel is `fr.#znc` than wondering what networks do the channels above or below it belong to.

```
2015-11-19 11:53:54+0200 All servers:
2015-11-19 11:53:54+0200  * fr [connected], 50 channels, 2 pv
2015-11-19 11:53:54+0200  * pi [connected], 13 channels, 0 pv
2015-11-19 11:53:54+0200  * ch [connected], 4 channels, 0 pv
2015-11-19 11:53:54+0200  * bi [connected], 8 channels, 1 pv
2015-11-19 11:53:54+0200  * vardiera [connected], 0 channels, 0 pv
2015-11-19 11:53:54+0200  * of [connected], 7 channels, 0 pv
```

_Vardiera is secondary ZNC which I don't use so much with WeeChat._
"
ubergeek42/weechat-android,open,Tray icon,[],"I want to know if WA is running at a glance, but I have to pull down the notifications to see it as there is no tray icon.
"
ubergeek42/weechat-android,closed,WeeChat cannot start with a malformed time format string,[],"changed the time format string from `HH:mm:ss` to `HH:mm:ss q` and weechatandroid crashes on startup (also crashed immediately). 

hoping a reinstall fixes, but just wanted to make sure you're aware of this :)
"
ubergeek42/weechat-android,open,.travis.yml: add IRC notifications,[],"Travis status would also be nice to see as there are already commit
notifications.

The channel name is encrypted so forks don't spam the channel if they
enable Travis. See
https://github.com/znc/znc/pull/795#issuecomment-154373366
"
ubergeek42/weechat-android,closed,[feature request] Local relay host,[],"A nice feature that could be added, if anyone is up for it would be a local relay host.

The setting _Relay host_ would still be present, but _Local relay host_ and _Local relay host SSID_ would be added.
This would work as you would imagine - if you're not connected to the Wi-Fi network in _Local relay host SSID_, then use _Relay host_ as normal, otherwise, use _Local relay host_ to connect to weechat. Also, a checkbox to disable local settings might be good for people who only use weechat-android on their local network, where they should just use _Relay host_ as normal.  

I would find this very useful because I wouldn't have to keep changing the _Relay host_ in weechat-android when I have no Internet at home, which is quite frequently.

Example config:

| Relay host | Local relay host SSID | Local relay host |
| :-- | :-- | :-- |
| vps.my_website.com | HOME_WIFI | 192.168.1.15 |

Thanks! Just a suggestion,
Senan
"
ubergeek42/weechat-android,open,app breaks when attempting gssapi-with-mic login,[],"I'm getting a crash with sshtunnel when the ssh server is configured to allow GSSAPIAuthentication.
This is on a Nexus 7 (Android 6.0) running WeechatAndroid 0.10-dev (build ID v0.10-88-g71fb7cf).  I have this same problem on my N5 phone as well.

For now my workaround is to disable this method on the server (`GSSAPIAuthentication=no` in sshd_config) but looking at the adb output it seems like there are missing libraries somewhere:

```
11-04 23:58:05.328 12207-24151/? I/System.out: [Level 1] Authentications that can continue: gssapi-with-mic,publickey,keyboard-interactive,password
11-04 23:58:05.328 12207-24151/? I/System.out: [Level 1] Next authentication method: gssapi-with-mic
11-04 23:58:05.402 12207-24151/? W/art: Unresolved exception class when finding catch block: org.ietf.jgss.GSSException
11-04 23:58:05.403 12207-24151/? E/AndroidRuntime: FATAL EXCEPTION: Thread-649
11-04 23:58:05.403 12207-24151/? E/AndroidRuntime: Process: com.ubergeek42.WeechatAndroid.dev, PID: 12207
11-04 23:58:05.403 12207-24151/? E/AndroidRuntime: java.lang.NoClassDefFoundError: Failed resolution of: Lorg/ietf/jgss/Oid;
11-04 23:58:05.403 12207-24151/? E/AndroidRuntime:     at com.jcraft.jsch.jgss.GSSContextKrb5.a(Unknown Source)
11-04 23:58:05.403 12207-24151/? E/AndroidRuntime:     at com.jcraft.jsch.UserAuthGSSAPIWithMIC.a(Unknown Source)
11-04 23:58:05.403 12207-24151/? E/AndroidRuntime:     at com.jcraft.jsch.Session.a(Unknown Source)
11-04 23:58:05.403 12207-24151/? E/AndroidRuntime:     at com.ubergeek42.a.a.a.h.run(Unknown Source)
11-04 23:58:05.403 12207-24151/? E/AndroidRuntime:     at java.lang.Thread.run(Thread.java:818)
11-04 23:58:05.403 12207-24151/? E/AndroidRuntime:  Caused by: java.lang.ClassNotFoundException: Didn't find class ""org.ietf.jgss.Oid"" on path: DexPathList[[zip file ""/data/app/com.ubergeek42.WeechatAndroid.dev-1/base.apk""],nativeLibraryDirectories=[/data/app/com.ubergeek42.WeechatAndroid.dev-1/lib/arm, /vendor/lib, /system/lib]]
11-04 23:58:05.403 12207-24151/? E/AndroidRuntime:     at dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:56)
11-04 23:58:05.403 12207-24151/? E/AndroidRuntime:     at java.lang.ClassLoader.loadClass(ClassLoader.java:511)
11-04 23:58:05.403 12207-24151/? E/AndroidRuntime:     at java.lang.ClassLoader.loadClass(ClassLoader.java:469)
11-04 23:58:05.403 12207-24151/? E/AndroidRuntime:     at com.jcraft.jsch.jgss.GSSContextKrb5.a(Unknown Source)Â 
11-04 23:58:05.403 12207-24151/? E/AndroidRuntime:     at com.jcraft.jsch.UserAuthGSSAPIWithMIC.a(Unknown Source)Â 
11-04 23:58:05.403 12207-24151/? E/AndroidRuntime:     at com.jcraft.jsch.Session.a(Unknown Source)Â 
11-04 23:58:05.403 12207-24151/? E/AndroidRuntime:     at com.ubergeek42.a.a.a.h.run(Unknown Source)Â 
11-04 23:58:05.403 12207-24151/? E/AndroidRuntime:     at java.lang.Thread.run(Thread.java:818)Â 
11-04 23:58:05.403 12207-24151/? E/AndroidRuntime:  Suppressed: java.lang.ClassNotFoundException: org.ietf.jgss.Oid
11-04 23:58:05.403 12207-24151/? E/AndroidRuntime:     at java.lang.Class.classForName(Native Method)
11-04 23:58:05.403 12207-24151/? E/AndroidRuntime:     at java.lang.BootClassLoader.findClass(ClassLoader.java:781)
11-04 23:58:05.403 12207-24151/? E/AndroidRuntime:     at java.lang.BootClassLoader.loadClass(ClassLoader.java:841)
11-04 23:58:05.403 12207-24151/? E/AndroidRuntime:     at java.lang.ClassLoader.loadClass(ClassLoader.java:504)
11-04 23:58:05.403 12207-24151/? E/AndroidRuntime:          ... 6 more
11-04 23:58:05.403 12207-24151/? E/AndroidRuntime:  Caused by: java.lang.NoClassDefFoundError: Class not found using the boot class loader; no stack trace available
11-04 23:58:05.406 626-3910/? W/ActivityManager:   Force finishing activity com.ubergeek42.WeechatAndroid.dev/com.ubergeek42.WeechatAndroid.WeechatActivity
```
"
ubergeek42/weechat-android,closed,out-message loss when idle,[],"Hello!

Here is situation. Debian GNU/Linux box with weechat (1.0.1) and smartphone (Android 5.1.1) with weechat 0.9-rc1. Both are running and connected. After some idle time when I type a message in smartphone and press enter it just disappears. After it screen is redrawn (due to reconnect to linux host?) and then entered messages going to channels/privates as usual.

Looks like weechat/android must not suffer from outgoing message loss. Resend after reconnect or put it into buffer or something.
"
ubergeek42/weechat-android,closed,Android 6.0 connection issue ,[],"On Android 6.0 on the Nexus 6, the client does not connect. I normally use ssh tunneling but neither ssh tunneling or normal connections establish a connection. I do not get an error message besides the standard messages for time outs. I confirmed the really port was operational and the app was working on another device. 
"
ubergeek42/weechat-android,closed,Android 6.0 connection issue ,[],"On Android 6.0 on the Nexus 6, the client does not connect. I normally use ssh tunneling but neither ssh tunneling or normal connections establish a connection. I do not get an error message besides the standard messages for time outs. I confirmed the really port was operational and the app was working on another device. 
"
ubergeek42/weechat-android,closed,Woah,[],
ubergeek42/weechat-android,open,Enable secure Alogrithms for the use with ssh,"[Label(name=""feature request"")]","In the light of the current Snowden pulibcations (https://www.spiegel.de/international/germany/inside-the-nsa-s-war-on-internet-security-a-1010361.html) it would be nice if the weechat for android app could support more secure Algorythms while using ssh.

[more background info https://stribika.github.io/2015/01/04/secure-secure-shell.html]

In detail it would be nice to at least be able to use one of theese
KexAlgorithms curve25519-sha256@libssh.org,diffie-hellman-group-exchange-sha256
and one of theese
Ciphers chacha20-poly1305@openssh.com,aes256-gcm@openssh.com,aes128-gcm@openssh.com,aes256-ctr,aes192-ctr,aes128-ctr

I didn't quite dig to deep into it, but currently if a ssh server is configured to use only the further mentioned algorihms the app reports ""Error: Algorithm negotiation failed""
"
ubergeek42/weechat-android,closed,[Feature request] Add more line in the buffer,"[Label(name=""duplicate"")]","Hi, Is it possible to implement an option to srt the max length of the buffer? ike to have more than one day of chat,  becasuse it'annoying when you backlog and you can't see all the stuff.  thanks.
"
ubergeek42/weechat-android,closed,Version 0.10 has not been pushed to the stores,[],"I've looked at the Google Play Store and F-Droid and both have the 0.9 version. Can you please propagate the version 0.10?
Thanks a lot :)
"
ubergeek42/weechat-android,closed,Crash when switching buffers,[],"The development version crashes for me when switching to some buffers, but not others. I haven't discerned a pattern which buffers work and which do not. Most buffers work though...

Phone: Nexus 6 with Android 6.0 Preview 3 (Though I noticed the same problem on Android 5)

This is what logcat says about it:

```
09-24 13:33:23.497  1871  4185 E SQLiteDatabase: Error inserting context_name=6 end_time=1443094403466 context_family=1 module_id=com.google.android.contextmanager.module.DetectedActivityProducer version=1 sync_state_mod_time_millis=1443094403492 start_time=1443094394979 sync_state=0 context_id=ebd4438d-3eee-4de2-b582-49b2dfd294c9 time_type=3 proto_blob=[B@698aa0a
09-24 13:33:23.497  1871  4185 E SQLiteDatabase: android.database.sqlite.SQLiteConstraintException: UNIQUE constraint failed: context.context_id (code 2067)
09-24 13:33:23.497  1871  4185 E SQLiteDatabase:    at android.database.sqlite.SQLiteConnection.nativeExecuteForLastInsertedRowId(Native Method)
09-24 13:33:23.497  1871  4185 E SQLiteDatabase:    at android.database.sqlite.SQLiteConnection.executeForLastInsertedRowId(SQLiteConnection.java:780)
09-24 13:33:23.497  1871  4185 E SQLiteDatabase:    at android.database.sqlite.SQLiteSession.executeForLastInsertedRowId(SQLiteSession.java:788)
09-24 13:33:23.497  1871  4185 E SQLiteDatabase:    at android.database.sqlite.SQLiteStatement.executeInsert(SQLiteStatement.java:86)
09-24 13:33:23.497  1871  4185 E SQLiteDatabase:    at android.database.sqlite.SQLiteDatabase.insertWithOnConflict(SQLiteDatabase.java:1471)
09-24 13:33:23.497  1871  4185 E SQLiteDatabase:    at android.database.sqlite.SQLiteDatabase.insert(SQLiteDatabase.java:1341)
09-24 13:33:23.497  1871  4185 E SQLiteDatabase:    at com.google.android.contextmanager.q.al.a(SourceFile:408)
09-24 13:33:23.497  1871  4185 E SQLiteDatabase:    at com.google.android.contextmanager.q.al.b(SourceFile:383)
09-24 13:33:23.497  1871  4185 E SQLiteDatabase:    at com.google.android.contextmanager.q.al.a(SourceFile:349)
09-24 13:33:23.497  1871  4185 E SQLiteDatabase:    at com.google.android.contextmanager.q.al.b(SourceFile:376)
09-24 13:33:23.497  1871  4185 E SQLiteDatabase:    at com.google.android.contextmanager.g.a.j.a(SourceFile:58)
09-24 13:33:23.497  1871  4185 E SQLiteDatabase:    at com.google.android.contextmanager.g.a.a.run(SourceFile:52)
09-24 13:33:23.497  1871  4185 E SQLiteDatabase:    at com.google.android.contextmanager.g.i.handleMessage(SourceFile:215)
09-24 13:33:23.497  1871  4185 E SQLiteDatabase:    at android.os.Handler.dispatchMessage(Handler.java:102)
09-24 13:33:23.497  1871  4185 E SQLiteDatabase:    at android.os.Looper.loop(Looper.java:148)
09-24 13:33:23.497  1871  4185 E SQLiteDatabase:    at android.os.HandlerThread.run(HandlerThread.java:61)
09-24 13:33:23.518   382  1290 D audio_hw_primary: out_set_parameters: enter: usecase(1: low-latency-playback) kvpairs: routing=2
09-24 13:33:23.522  2109  2109 I Keyboard.Facilitator: onFinishInput()
09-24 13:33:23.578  1871  4185 E SQLiteDatabase: Error inserting context_name=6 end_time=1443094403552 context_family=1 module_id=com.google.android.contextmanager.module.DetectedActivityProducer version=1 sync_state_mod_time_millis=1443094403576 start_time=1443094403466 sync_state=0 context_id=c21935cf-911f-4471-8d18-d510f65cebae time_type=3 proto_blob=[B@d17d898
09-24 13:33:23.578  1871  4185 E SQLiteDatabase: android.database.sqlite.SQLiteConstraintException: UNIQUE constraint failed: context.context_id (code 2067)
09-24 13:33:23.578  1871  4185 E SQLiteDatabase:    at android.database.sqlite.SQLiteConnection.nativeExecuteForLastInsertedRowId(Native Method)
09-24 13:33:23.578  1871  4185 E SQLiteDatabase:    at android.database.sqlite.SQLiteConnection.executeForLastInsertedRowId(SQLiteConnection.java:780)
09-24 13:33:23.578  1871  4185 E SQLiteDatabase:    at android.database.sqlite.SQLiteSession.executeForLastInsertedRowId(SQLiteSession.java:788)
09-24 13:33:23.578  1871  4185 E SQLiteDatabase:    at android.database.sqlite.SQLiteStatement.executeInsert(SQLiteStatement.java:86)
09-24 13:33:23.578  1871  4185 E SQLiteDatabase:    at android.database.sqlite.SQLiteDatabase.insertWithOnConflict(SQLiteDatabase.java:1471)
09-24 13:33:23.578  1871  4185 E SQLiteDatabase:    at android.database.sqlite.SQLiteDatabase.insert(SQLiteDatabase.java:1341)
09-24 13:33:23.578  1871  4185 E SQLiteDatabase:    at com.google.android.contextmanager.q.al.a(SourceFile:408)
09-24 13:33:23.578  1871  4185 E SQLiteDatabase:    at com.google.android.contextmanager.q.al.b(SourceFile:383)
09-24 13:33:23.578  1871  4185 E SQLiteDatabase:    at com.google.android.contextmanager.q.al.a(SourceFile:349)
09-24 13:33:23.578  1871  4185 E SQLiteDatabase:    at com.google.android.contextmanager.q.al.b(SourceFile:376)
09-24 13:33:23.578  1871  4185 E SQLiteDatabase:    at com.google.android.contextmanager.g.a.j.a(SourceFile:58)
09-24 13:33:23.578  1871  4185 E SQLiteDatabase:    at com.google.android.contextmanager.g.a.a.run(SourceFile:52)
09-24 13:33:23.578  1871  4185 E SQLiteDatabase:    at com.google.android.contextmanager.g.i.handleMessage(SourceFile:215)
09-24 13:33:23.578  1871  4185 E SQLiteDatabase:    at android.os.Handler.dispatchMessage(Handler.java:102)
09-24 13:33:23.578  1871  4185 E SQLiteDatabase:    at android.os.Looper.loop(Looper.java:148)
09-24 13:33:23.578  1871  4185 E SQLiteDatabase:    at android.os.HandlerThread.run(HandlerThread.java:61)
09-24 13:33:23.594  2109  2109 I Keyboard.Facilitator: onFinishInput()
09-24 13:33:23.597 27579 27599 E AndroidRuntime: FATAL EXCEPTION: Thread-1758
09-24 13:33:23.597 27579 27599 E AndroidRuntime: Process: com.ubergeek42.WeechatAndroid.dev, PID: 27579
09-24 13:33:23.597 27579 27599 E AndroidRuntime: java.lang.ArrayIndexOutOfBoundsException: length=256; index=99999
09-24 13:33:23.597 27579 27599 E AndroidRuntime:    at com.ubergeek42.a.c.a(Unknown Source)
09-24 13:33:23.597 27579 27599 E AndroidRuntime:    at com.ubergeek42.a.a.b(Unknown Source)
09-24 13:33:23.597 27579 27599 E AndroidRuntime:    at com.ubergeek42.a.a.b(Unknown Source)
09-24 13:33:23.597 27579 27599 E AndroidRuntime:    at com.ubergeek42.a.a.a(Unknown Source)
09-24 13:33:23.597 27579 27599 E AndroidRuntime:    at com.ubergeek42.WeechatAndroid.service.d.a(Unknown Source)
09-24 13:33:23.597 27579 27599 E AndroidRuntime:    at com.ubergeek42.WeechatAndroid.service.a.a(Unknown Source)
09-24 13:33:23.597 27579 27599 E AndroidRuntime:    at com.ubergeek42.WeechatAndroid.service.m.a(Unknown Source)
09-24 13:33:23.597 27579 27599 E AndroidRuntime:    at com.ubergeek42.a.a.b.a(Unknown Source)
09-24 13:33:23.597 27579 27599 E AndroidRuntime:    at com.ubergeek42.a.a.d.run(Unknown Source)
09-24 13:33:23.597 27579 27599 E AndroidRuntime:    at java.lang.Thread.run(Thread.java:818)
09-24 13:33:23.598   983  4733 W ActivityManager:   Force finishing activity com.ubergeek42.WeechatAndroid.dev/com.ubergeek42.WeechatAndroid.WeechatActivity
```

Thoughts?
"
ubergeek42/weechat-android,closed,new url handling,[],"use own linkifier & URL regex; show toast on unknown activity; remove backports
"
ubergeek42/weechat-android,closed,slowed the alert blink to be similar to samsung blink.,[],
ubergeek42/weechat-android,open,implement hierarchical buffer list (order by server) ,[],"Currently the weechat buffer list is sorted by the index from the weechat relay. This is definitely the easiest way and follows with how weechat-ncurses sorts buffers, but it makes it difficult to know what buffers are attached to irc servers. Would it be possible to implement the hierarchical buffer list that glowing-bear uses?

screenshot: https://4z2.de/images/gb-desktop.png
github repo: https://github.com/glowing-bear/glowing-bear
"
ubergeek42/weechat-android,closed,Be specific about hash type in certificate details,[],"When presenting the certificate details to be verified, make known to the user _which_ fingerprint is being shown.
"
ubergeek42/weechat-android,closed,"Error when connecting to secure WebSocket ""boolean a.b.e.a.c(java.lang.String)","[Label(name=""bug"")]","When I try to connect to a TLS secured WebSocket with Version 0.10, I get the following Error message:

```
Error: Attempt to invoke interface method 'boolean a.b.e.a.c(java.lang.String)' on a null object reference.
```

Interestingly the menu already shows a ""Disconnect"" option.

A CAcert certificate is used, and the CAcert root certificate is in the trust store (https connections via the browser are working).
"
ubergeek42/weechat-android,closed,DNS solve error just says error: null,"[Label(name=""bug"")]","Hi, would it be possible to have DNS errors give more specific info? Currently just displays error : null
"
ubergeek42/weechat-android,closed,Backlog not loading when system language is Arabic,[],"On Android 4.4.2 and Weechat Android v0.10, when the system language is set to Arabic only the most recently sent message appears when opening a buffer. None of the rest of the backlog shows up. 

When the system is set to any other language (I've tested it with English, Spanish, Russian, Korean, Japanese, Chinese, and had a friend on a Nexus 5 test it with Hebrew), or when the ""force RTL"" option is used, everything works normally.
"
ubergeek42/weechat-android,closed,Sort the nick list by 005 PREFIXES,[],"Currently, the nick sorting system is broken on networks with more than just `@+`, with prefixes sorted like `~@+&%`, instead of `~&@%+` for a `+qaohv` network.
"
ubergeek42/weechat-android,open,[Feature Request] Option to display buffer in highlight notification,[],"It would be nice to have an option to display which buffer a highlight was in in the notification. I am not sure if this is even possible with the relay protocol.
"
ubergeek42/weechat-android,closed,Allow customising colour scheme for IRC view,[],"Many of the colours I have for nicks and their messages are too dark with the black background in WeeChat-Android. On Linux I have a colour scheme with a slightly lighter background and slightly more pale colours, making the colours easier to distinguish there. 

Allowing users to customise the colour scheme, while obviously a pretty difficult task, would go a long way towards improving the readability of some WeeChat configurations. 
"
ubergeek42/weechat-android,closed,Sanitize hostname input,[],"I just got some confusing errors when trying to connect that stemmed from my keyboard putting a space at the end of my hostname due to it being in my dictionary.

Handling illegal characters in hostnames should be a rather simple fix.
"
ubergeek42/weechat-android,closed,Error: null when connecting.,[],"Connecting through a plain connection on the default port to my server that has the relay set up and responds properly to netcat probing just pops up a toast notification with ""Error: null"" on the android client.

Version (client): v0.9-rc1
Version (server): 1.2 [compiled on May 11 2015 22:11:28]
Android 4.3
"
ubergeek42/weechat-android,closed,Feat/refactoring variables to camel case,[],"done:
- refactored all variable names to camelCase to be more java-like 
- upgraded gradle from properties from 2.2.1 to 2.4
- changed generics to use diamond operator `<>`
- added printing exceptions to the use Log
"
ubergeek42/weechat-android,open,"Order tabs(top) as listed, not as they are opened",[],"I would love an option to do this, i dont use the tabs enough for it to be a MAJOR annyoance or anything, but it'd be nice to switch between two i expect to be next to eachother and nkt have to manually tap each buffer in order.
"
ubergeek42/weechat-android,open,Update the wiki,[],"https://github.com/ubergeek42/weechat-android/wiki/Getting-started-with-the-code

Eclipse? Who uses that anymore. Android studio all the way. Development should be easy for anyone to get started!
"
ubergeek42/weechat-android,closed,"Save proguard files for ""nightly"" builds",[],"Copy the mapping.txt files from proguard so we can figure out what bug reports are actually referring to.

Or just disable proguard for the nightlies.
"
ubergeek42/weechat-android,closed,App Crashes Upon Connecting,[],"When I try to connect to my relay, the app crashes with the following stack trace:

```
java.lang.OutOfMemoryError: Failed to allocate a 1013478521 byte allocation with 14818168 free bytes and 170MB until OOM
    at com.ubergeek42.a.c.a (Unknown Source)
    at com.ubergeek42.a.a.d.run (Unknown Source)
    at java.lang.Thread.run (Thread.java:818)
```

I'm on a Nexus 5 running a CyanogenMod 12.1-20150629-NIGHTLY-hammerhead (Android 5.1.1). I can gladly provide more information if needed.
"
ubergeek42/weechat-android,open,[Feature Request] Tab Completion of Buffer Names (useful for Channels) and Commands,[],"Discussed in IRC, putting up on here as a note for @charafau 
"
ubergeek42/weechat-android,closed,Feat/volume buttons font size option,[],"changes:
*refactored big if else block to switch (since we're using java7 now it's possible)
*added option to disable volume text size control
screenshot for reference:

link to the issue:

Issue #173 

![screenshot_2015-06-04-03-39-31](https://cloud.githubusercontent.com/assets/1143994/7968466/03077712-0a6c-11e5-83da-0f9df3ba4fee.png)
"
ubergeek42/weechat-android,closed,"""Ghost"" private messages / highlights","[Label(name=""wontfix"")]","Hi,

It seems that this app is keeping track of which messages / buffers where read. However, when changing IP (I think, as it happens often when I move from 3G to wifi), it loses the buffers status.

Moreover, I often have ""ghost"" hilights or private messages. This means that if I have some private messages, read them, close the app, sometimes it will show up a non-zero unread count when restarted, even before having successfully connected to the weechat relay.
"
ubergeek42/weechat-android,open,Crash when losing connection while connecting,[],"Hi,

When connecting to a Weechat relay and internet connection is lost on the phone, the app will crash and restart.
"
ubergeek42/weechat-android,closed,libraries update,[],"### changed included

updated libraries to newest versions
migrated from appsherlock to appcompat
updated gradle plugin to newest version
### current apk

https://drive.google.com/open?id=0B_YtUG54omUBOUc3WXQzcUhXaHM&authuser=0
### screenshot:

![screenshot may 30 2015 1-37-22 am](https://cloud.githubusercontent.com/assets/1143994/7887527/ac85be92-066c-11e5-8714-c8160108ed70.png)
"
ubergeek42/weechat-android,closed,last read line is always at last line,[],"Since https://github.com/ubergeek42/weechat-android/commit/a17d36c71030e1ed6add80a3a44a0123018d1bc5 red the last read line is always at the bottom and it doesn't scroll back to the last read line.
"
ubergeek42/weechat-android,open,[Feature Request] No Notifications when Status isn't Away,[],"How about a configuration option to only listen for notifications when you are marked as away - this would be extremely handy in conjunction with Auto_Away or Tmux_Away in WeeChat
"
ubergeek42/weechat-android,closed,[Feature Request] Allow Changing of LED Speed,[],"The App is currently making my phone pulse the LED at around 3Hz which just looks weird. Configurable would be best.
"
ubergeek42/weechat-android,closed,[Feature request] ability to connect to server by touching on title screen icon,[],"it would be nice if there was an optional ability to connect to server by touching on title screen icon
"
ubergeek42/weechat-android,closed,add timestamp prefix alignment,"[Label(name=""enhancement""), Label(name=""feature request"")]","Please consider adding timestamp alignment,  the text will wrap from the right side of the time stamp to the right side of the screen.

To me timestamp alignment is more readable than no alignment at all, and very condensed allowing largish fonts to be used on smaller screens.
"
ubergeek42/weechat-android,open,Implement better certificate acceptance,"[Label(name=""enhancement"")]","Maybe use this library: https://github.com/ge0rg/MemorizingTrustManager/
"
ubergeek42/weechat-android,open,Error: length=805; index=805,[],"App seems to work fine if I open up iptables on my server, even using SSL seems to work fine, so weechat relay seems to be setup correctly.

If I try to use a known working ssh key ([rsync4android](http://android.kowalczuk.eu/rsync4android/) works fine using this key) to tunnel the SSH Connection, I get the rather cryptic message, ""Error: length=805; index=805""

Willing to help troubleshoot the best I can with very limited Java knowledge (and frankly, limited android knowledge)â€”great app, really want to get it working!
## General Info
- Moto X (2nd Generation)
- Android 5.0.2
- Host port: 22
- Relay ports tried: 8001, 9001
- SSH host and relay host are the same
- Tried with weechat ssl and without
- SSH private key file: /storage/emulated/0/.ssh/android.key
"
ubergeek42/weechat-android,closed,remove ability to control text size using volume buttons (fixes #173),[],"I'm not an Android dev, so I did my best to update the docs for `notifyOpenBuffersMustBeProcessed`.
"
ubergeek42/weechat-android,closed,Add support for disabling hot message notifications and disabling hot message notification vibration,[],"Everything here should work but it's only compile-tested currently (and it does compile). 
"
ubergeek42/weechat-android,closed,Make notifications optional,[],"I feel hot message notifications should be optional and in an optimal world, should offer options to inhibit sound, vibration and hot message notifications themselves.
"
ubergeek42/weechat-android,closed,Enter key send,[],"Maybe im doing something wrong, but i have totap the send button in the input bar to send anything, enter key only adds a new line. Doesnt seem to make sense that this would be how it works if you have the option to remove the send button.
"
ubergeek42/weechat-android,closed,New configuration key: notifications make the phone vibrate. Closes #182...,[],"....
- added 'pref_notification_vibrate' key to preferences (default:
  false).
"
ubergeek42/weechat-android,closed,High battery usage (higher than the screen!),[],"I've been building the master branch of weechat-android and running it on my phone for the last couple of months. For some reason, it uses a lot of battery when idling. 

My battery stats from today say: **33% Weechat**, 6% Screen, 5% Google Services, etc... and I didn't use weechat android at all today!

Is there an easy way to profile weechat's performance and power saving states?
"
ubergeek42/weechat-android,closed,New TLDs are not being linkified,[],"Links like http://nic.moe are not being detected by the Linkify class.
https://github.com/ubergeek42/weechat-android/blob/a49c6e88b0b3ce24559636bf25c9bee70cd77da3/weechat-android/src/main/java/com/ubergeek42/WeechatAndroid/service/Buffer.java#L625

Apparently it has been fixed in android 5, but devices using older versions will not linkify these TLDs.
https://code.google.com/p/android/issues/detail?id=66032
"
ubergeek42/weechat-android,open,Connect option is ambiguous,[],"Hello,

The user interface does not guide new users to settings when Connect is clicked. 
## WA

Weechat Android v0.9
## Problem

When I click the three dots on the upper right a drop-down menu containing menu items: Connect, Settings, Close, About, and Quit appears.

When I click on Connect, the drop-down menu fades away but nothing else happens.
## Solution

When a new user clicks Connect and no remote server is configured, prompt the user to enter a server before connecting.
"
ubergeek42/weechat-android,open,Notification disappears without being checked regardless of whether the notification tray has been opened.,[],"I notice this a lot. I get a lot of PMs which show up in the top bar, then when I pull down to look at them I sometimes see them disappearing before I get to look at them, or disappearing after I've closed the pull down tray. Sometimes they behave and stay put, but usually they disappear too in less than a minute.

I think they disappear without extending the notification area, but I only notice this when I turn the screen on to check notifications, so they're displayed anyhow.
"
ubergeek42/weechat-android,open,Unicode buffer names aren't displayed correctly,[],"I'm in a channel called `#â˜ƒ`, but it shows up as just `#` in the buffer list.
"
ubergeek42/weechat-android,open,Mention-Option in Buffer ContextMenu,[],"Hi!

It would be great if the Buffer Contextmenu could offer the option to mention the user that wrote the currently selected message, prefixing the current message with ""nick:"" (nickname, followed by a colon).

This is great when interacting with bitlbee, which needs this to address other users.
"
ubergeek42/weechat-android,open,Crash when connecting to non-relay port,[],"When connecting to e.g. port 22 and the remote end is running SSH, weechat-android will crash. We should handle this gracefully.
"
ubergeek42/weechat-android,open,Crash when entering buffer with opened channel with many users,[],"When entering buffer with opened channel which has many users like #debian or #ubuntu weechat-android crashes immediately.
Hardware: Samsung S3, operating system: CM11M12
"
ubergeek42/weechat-android,open,Ability to search scrollback,[],"Is this feature a possibility in future versions?
"
ubergeek42/weechat-android,open,Allow closing buffers without focusing on them,[],"I like reading backlog, but if it becomes too much I want to bail the buffer on WA so I don't accidentally lose my unread marker, but I have to switch to it just to close the buffer.

Perhaps long pressing in the buffer in the side list or swiping it to the right again could just close it without claiming I've read everything.
"
ubergeek42/weechat-android,open,Add an option to adjust the scrollback size,[],"In especially active channels, 200 lines might be only a few hours. It'd be useful to be able to either request more than 200 lines when opening buffers, or keep more than 200 lines locally.
"
ubergeek42/weechat-android,closed,Notify user if relay password is wrong,[],"The app now displays a simple toast when it is assumed that the password is wrong. The logic is the same as in glowing bear, assuming the wrong password was the reason for the disconnect. Weechat relay terminates the connection right after checking the init command if the password was bad.
"
ubergeek42/weechat-android,closed,Disable notification vibration,[],"I'd like to be able to have truly silent notifications. We can already set sound to ""None"", I think an option to also disable vibration would be nice.
"
ubergeek42/weechat-android,closed,Dark blue buffer text is incredibly hard to read on a dark background.,[],"Each user has a different text color in the buffer. Sometimes a user has a dark blue color and with the dark background of the app it makes it nearly impossible to read. Dark text colors shouldn't show up on dark backgrounds.
"
ubergeek42/weechat-android,closed,"Lightened the ""Dark blue"" color so that blue nicks are visible",[],"Hey there!

When nick coloring is enabled, the dark blue nicks are invisible on my phone. This image illustrates the problem, and the improved blue:

![color comparison](http://i.imgur.com/dPekqE2.png)
"
ubergeek42/weechat-android,open,repeated synchronization issues,[],"this will be only interesting to contributors

``` java
synchronized public void updateHighlightsAndUnreads(int highlights, int unreads) {
    if (is_watched) {                                           // Z
        total_read_unreads = unreads;
        total_read_highlights = highlights;
    } else {
        final boolean full_update = wants_full_hotlist_update ||
                (total_read_unreads > unreads) ||
                (total_read_highlights > highlights);
        if (full_update) {                                      // X
            this.unreads = unreads;
            this.highlights = highlights;
            total_read_unreads = total_read_highlights = 0;
        } else {                                                // Y
            this.unreads = unreads - total_read_unreads;
            this.highlights = highlights - total_read_highlights;
        }

        int hots = this.highlights;
        if (type == PRIVATE) hots += this.unreads;
        BufferList.adjustHotMessagesForBuffer(this, hots);
    }
}
```

this code runs repeatedly to update the hotlist for both full and partial sync modes. `wants_full_hotlist_update` is determined by quering the last read line data in weechat, which is done every time before this function gets called. there are two problems with this code.

first, say in partial sync mode we have unopened buffer B that, according to w-a, has 5 unreads.
then it gets 2 more messages in weechat, and user opens it in w-a.
now, w-a sees the 7 unread messages but thinks that only 5 of them are unread, so it remembers that user read 5 messages.
now, if sync happens, and user is not watching the buffer (and branch Z is not run), branch Y will make w-a think 2 messages are unread, whereas the number should in fact be 0.
this will happen no matter the buffer is still open or not.

second, in any mode, user opeas buffer B in both w-a and weechat, and then
- receives a message in buffer B (1)
- switches to buffer C in weechat
- receives 1 highlight in buffer B
- navigates from buffer B in w-a
  at this point, 1 message is unread in weechat, and 0 messages are unread in w-a. now, update happens.
  event (1) results in `wants_full_hotlist_update` being set to true. branch X is run.
  now buffer B in w-a shows 1, whereas the number should be 0.

every solution to this problem i can think of, when i do, is ugly ugly ugly. halp.
"
ubergeek42/weechat-android,open,crash when tapping on the bell,"[Label(name=""bug"")]","reported by an user of the store version on android 5.0 / weechat 1.0, when buffer list had numerous buffers and the bell showed some highlights

futher information wanted
reward: hugs
"
ubergeek42/weechat-android,closed,"synchronize hot list periodically, also synchronize buffer list changes in partial sync mode",[],"makes partial synchronization actually usable at last!

(problem: when in partial synchronization mode user opens and closes a buffer between synchronization events, the buffer might not hold the correct number of unread/hot messages, and the next update can erroneously show some meassages as unread/hot. not sure how deal with it. we only can update the whole buffer list when opening the channel. should we do this?)
"
ubergeek42/weechat-android,open,Connection preferences not accepted,[],"I upgraded to WA v0.9 and could no longer connect.   I had configured the previous version (not sure which one) to use SSH tunnel for the connection settings.  When trying to connect, it says ""Click to edit your preferences and connect"".  I checked my connection settings and they were fine.  So, I went into settings and cleared data/cache for WA and tried again.  It still is saying I need to configure my connection settings. I'm using SSH password, no private key file set.
"
ubergeek42/weechat-android,open,Try multiple DNS records when connecting,[],"Hi!

First off, I want to say that weechat-android is a great product and I'm happily using it for a while now. The new version was a huge improvement as well, the interface looks really slick now.

Due to problems with my network setup at home (NAT, broken modem, IPv4, you probably know what the problem is), I need to connect to my external IP address when not at home and to my internal IP address when I'm at home. Alternatively, if I have IPv6 connectivity I can just connect to the IPv6 address from anywhere, except that at home IPv6 is flakey on my phone due to a combination of Android versions and Modem firmwares (a problem not related to weechat-android at all).

My problem would be fixed with implementing multiple relays, as in: #160 #83. But I think these are difficult to solve quickly. I have an alternative solution and I'm curious if you are interested in that one.

I have a separate hostname for my weechat client, resolving both to the external IPv4, as well as the internal IPv4 address (and also the IPv6 address). I noticed that the source code uses http://docs.oracle.com/javase/6/docs/api/java/net/InetSocketAddress.html#InetSocketAddress(java.lang.String,%20int) to resolve the hostname, but that just takes the IPv6 or any of the IPv4 records, whichever comes first I guess. It does not try all of them.

Would you consider changing the code so it tries all IP-addresses, connecting to the first one that works (and retrying other records until it finds one)? I think this can be done with InetAddress.getAllByName (http://www.java2s.com/Code/JavaAPI/java.net/InetAddressgetAllByNameStringname.htm), but it requires more code to loop through all of them + more error handling.

Please let me know if you would consider making this.

Thanks in advance!
"
ubergeek42/weechat-android,closed,Respect the keyboard's auto-capitalization preference,"[Label(name=""enhancement"")]","Since I've started using it, the relay app has never auto-capitalized. _I_ want it to, but I guess there are some that don't. Really, it should just use the keyboard's preference.

(Thanks for fixing the autocorrect, by the way!)
"
ubergeek42/weechat-android,open,"(Optionally) make the volume keys change the volume, not the text size",[],"Some of us don't change the text size all that often!
"
ubergeek42/weechat-android,open,Make the buffer list more like weechat's hotlist,[],"Not sure if this is possible, but it'd be nice if the relay's buffer list was ordered like it is in `weechat` proper (according to `weechat.look.hotlist_sort`), displayed new-message counts the same way (according to `weechat.look.hotlist_count_max`, `weechat.look.hotlist_count_min_msg`, etc.), and maybe even used the same coloration for the badges with the counts on them.
"
ubergeek42/weechat-android,open,Notification options,[],"Please add an option to notify the user of new highlights in all buffers, open buffers only, or not at all (and a separate but similar option for private messages).
"
ubergeek42/weechat-android,open,"When moving a buffer, other buffers' indexes don't update","[Label(name=""wontfix"")]","Currently, [if the _only sync open buffers_ option is set](https://github.com/ubergeek42/weechat-android/issues/167), and a buffer is moved to a point later in the list, the indexes of the buffers between the moved buffer's old and new positions will not be updated in the relay's buffer list.
"
ubergeek42/weechat-android,open,Quit properly when removed from app list,"[Label(name=""wontfix"")]","Currently, removing the relay from Android's list of open apps doesn't seem to do anything. Please at least add an option to make this trigger the same behavior as selecting _quit_ from the menu.
"
ubergeek42/weechat-android,open,Allow users to set a maximum or fixed prefix width,"[Label(name=""enhancement"")]","Since the 0.9 update, the _maximum width of prefix_ option sets a fixed width for the prefix. Please add an option to make this a _maximum_ instead, returning to the previous behavior of keeping the prefix width for each buffer at the minimum necessary to display the longest nick, or the maximum width specified, whichever is less.
"
ubergeek42/weechat-android,closed,Always sync buffer list changes,[],"Currently, if the _only sync open buffers_ option is set, the relay will not notice if a buffer is opened, moved, or closed in weechat, unless that buffer was open in the relay. It seems to me that events such as these that pertain to the buffer list should always be synced.
"
ubergeek42/weechat-android,closed,Consumes a lot of data,"[Label(name=""wontfix"")]","I am not completely sure of what the cause is but this app used approximately 150MB of data in about 20 days.  That seems excessive for a text-based chat client/remote.

WeechatAndroid v0.9
Build Identifier: v0.9-rc1
"
ubergeek42/weechat-android,open,option request: light theme,"[Label(name=""feature request"")]","an option to have a light theme would be nice, people would probably stop looking at my phone when i have the app open and call me 'hacker'...
"
ubergeek42/weechat-android,open,Feature request: Option to hide the buffer list in landscape mode,[],"In landscape mode the buffer list on the left takes quite a lot of screen space. It would be nice if there was an option to toggle it (hide/show).
"
ubergeek42/weechat-android,closed,Respect weechat notification levels,[],"I get hot list notifications where i set '/buffer notify none'.
This should not be the case.
"
ubergeek42/weechat-android,open,"""Tab"" complete",[],"The tab-complete button on the input bar works as intended, but pressing tab key on the keyboard (physical or virtual) results in a tab character being inserted instead of triggering autocomplete.
"
ubergeek42/weechat-android,closed,Feature request: Toggle keyboard smiley button,[],"My understanding is that you declare the input as a chat input and the keyboard adjusts as such, replacing the return/send key by a smiley button. I wish there was a way to have the send key on the keyboard and hide it from the input bar, leaving more room for input.

It is a non-issue with keyboards able to force hide the emoji button such as Kii, but using a third party keyboard is a workaround at best.
"
ubergeek42/weechat-android,open,feature request: ability to have multiple relays open at once,[],"I have no doubt this will be a terrifying feat. Sorry in advance. 
"
ubergeek42/weechat-android,closed,Buffers list not updated,"[Label(name=""bug"")]","If I join a new channel in weechat, it's buffer is not visible in the app, until re-connection.
I think an auto (or manual) buffers list refresh could do the trick.
Thanks for this cool app!

Using weechat 1.0
"
ubergeek42/weechat-android,open,Toggle timestamps easier,"[Label(name=""feature request"")]","From a google play review. Not sure if there is a good way to do this. Maybe double tap on a timestamp to hide? But then how to bring them back?

> If we only could show/hide timestamps without leaving conversation window, it would make this program a perfect
"
ubergeek42/weechat-android,open,Menu on left hand side doesn't do anything on first launch ,"[Label(name=""bug"")]","I don't think this is consistent with the current Android design guidelines 
"
ubergeek42/weechat-android,open,Feature request: make your email address in the about screen a mailto link,[],
ubergeek42/weechat-android,closed,Crash on invalid date format,"[Label(name=""bug"")]","App should use a default dateformat if the user enters something invalid. And maybe pop up a toast or something saying they entered an invalid dateformat.

From the crash report:

> accidentally put lower case 'e' instead of 'E' into timestamp format. instant uncaught exception after I saved the format & every time I try to restart the app.

```
java.lang.RuntimeException: Unable to create service com.ubergeek42.WeechatAndroid.service.RelayService: java.lang.IllegalArgumentException: Unknown pattern character 'e'
at android.app.ActivityThread.handleCreateService(ActivityThread.java:2595)
at android.app.ActivityThread.access$1800(ActivityThread.java:139)
at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1292)
at android.os.Handler.dispatchMessage(Handler.java:102)
at android.os.Looper.loop(Looper.java:136)
at android.app.ActivityThread.main(ActivityThread.java:5097)
at java.lang.reflect.Method.invokeNative(Native Method)
at java.lang.reflect.Method.invoke(Method.java:515)
at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:785)
at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:601)
at dalvik.system.NativeStart.main(Native Method)
Caused by: java.lang.IllegalArgumentException: Unknown pattern character 'e'
at java.text.SimpleDateFormat.validatePatternCharacter(SimpleDateFormat.java:314)
at java.text.SimpleDateFormat.validatePattern(SimpleDateFormat.java:296)
at java.text.SimpleDateFormat.<init>(SimpleDateFormat.java:356)
at java.text.SimpleDateFormat.<init>(SimpleDateFormat.java:249)
at com.ubergeek42.WeechatAndroid.service.RelayService.k(Unknown Source)
at com.ubergeek42.WeechatAndroid.service.RelayService.onCreate(Unknown Source)
at android.app.ActivityThread.handleCreateService(ActivityThread.java:2585)
... 10 more
```
"
ubergeek42/weechat-android,closed,"Crash report from google play version(prefixlength = """")","[Label(name=""bug"")]","Looks like a bad preference setting(prefix length = """"), but it prevents the app from running I think. This is all the details I have.

```
java.lang.RuntimeException: Unable to create service com.ubergeek42.WeechatAndroid.service.RelayService: java.lang.NumberFormatException: Invalid int: """"
at android.app.ActivityThread.handleCreateService(ActivityThread.java:2568)
at android.app.ActivityThread.access$1800(ActivityThread.java:135)
at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1278)
at android.os.Handler.dispatchMessage(Handler.java:102)
at android.os.Looper.loop(Looper.java:136)
at android.app.ActivityThread.main(ActivityThread.java:5001)
at java.lang.reflect.Method.invokeNative(Native Method)
at java.lang.reflect.Method.invoke(Method.java:515)
at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:785)
at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:601)
at dalvik.system.NativeStart.main(Native Method)
Caused by: java.lang.NumberFormatException: Invalid int: """"
at java.lang.Integer.invalidInt(Integer.java:137)
at java.lang.Integer.parseInt(Integer.java:358)
at java.lang.Integer.parseInt(Integer.java:331)
at com.ubergeek42.WeechatAndroid.service.RelayService.onCreate(Unknown Source)
at android.app.ActivityThread.handleCreateService(ActivityThread.java:2558)
... 10 more
```
"
ubergeek42/weechat-android,open,Window/buffer close behavior,[],"I noticed some odd behavior with closing the buffer.
- Selecting the 'Close' on the app doesn't really close the buffer it merely hides the Tab as the Server side buffer remains open. I think this should be renamed to hide.
- doing '/close' on the app it seems to close the server buffer and also remove the tab which is more like desired behavior. I would add this in the menu as 'Close'.

It would be useful to be able to close buffers from the buffer list directly e.g. by swiping them off screen.
"
ubergeek42/weechat-android,closed,Enter button on keyboard to send message,[],"Hi.

Is it possible to use the enter button on the keyboard to send a message? Currently it just brings up the emoji section of the keyboard.
"
ubergeek42/weechat-android,closed,Fix align_right when enclose_nick is enabled,[],"Fixes colouring of &lt; &gt; and alignment/padding.
"
ubergeek42/weechat-android,closed,Weechat crashes when closing a buffer that has been closed in weechat in relay,"[Label(name=""bug"")]","mostly takes place when ""Only sync open buffers"" is on
"
ubergeek42/weechat-android,closed,"Auto-scroll to last unread hot message, if any, whenever buffer becomes visible",[],"this makes things more consistent, user will (probably) never miss a message this way.
also, 6c894e7 (hopefully) fixes some silly bug when the bell icon fails to update
"
ubergeek42/weechat-android,open,Implement rotation lock option,"[Label(name=""feature request"")]",
ubergeek42/weechat-android,closed,Fix compability with L,[],"as of now everything looks fine in the emulator
"
ubergeek42/weechat-android,closed,opening nicklist destroys nick completion order,"[Label(name=""bug"")]",
ubergeek42/weechat-android,open,notification on channel,"[Label(name=""enhancement"")]","Is it possible to get  a notification as you would with a highlight but on all messages from a certain channel or server?
"
ubergeek42/weechat-android,closed,Implement Ping Command,[],"WIP, but works for me.

Ideally we'd only send a ping when we haven't sent or received anything in a defined interval (as was done with TCP keepalives), but that's difficult.

The ping count mostly works but there's some race condition where it doesn't. I think `RelayConnection.pingWriter` also gets started multiple times, and I'm not quite sure how `PongHandler.failedPings` gets initialized to 0 on reconnect, but it does.
"
ubergeek42/weechat-android,closed,forget lines & nicks when closing a buffer if are not getting updates for closed buffers,[],
ubergeek42/weechat-android,closed,Compare buffer names in both lowercase and uppercase,[],"This appears to have the most liberal behaviour in both German and
Turkish.

Fixes issue #140.
"
ubergeek42/weechat-android,closed,Don't crash on startup with the Turkish locale,[],
ubergeek42/weechat-android,closed,Buffer filter only works with lowercase input,[],"The buffer filter only works with lowercase input (the comparison is performed case sensitively against the lowercase version of the buffer name).

(Reported by azizLIGHT on IRC)
"
ubergeek42/weechat-android,closed,weechat-android now won't run because I set maximum nick size to blank,"[Label(name=""bug"")]","I wasn't sure how to disable maximum nick length (I wanted to see the whole nickname), so I set the value to blank. Weechat saved the setting, crashed, and now crashes immediately whenever I try to run it.

(Currently using the latest nightly dev version)
"
ubergeek42/weechat-android,closed,Add TCP keepalive,[],"Fixes issue #103 (on Linux devices)

Preferences don't include realtime updates to the current connection,
although that would be possible.
"
ubergeek42/weechat-android,closed,List on Amazon App Store for Blackberry devices,[],"I have installed the current development *.apk and it works great on my BlackBerry Z10. Please consider listing the app on the Amazon App Store so that it is available to all BlackBerry phones. You do not need to make any changes to the app.
"
ubergeek42/weechat-android,closed,user-friendly error messages,[],"print exception text instead of ""unknown error""
"
ubergeek42/weechat-android,closed,Drawer,[],"buffer list -> navigation drawer
"
ubergeek42/weechat-android,closed,Allow nicknames to be enclosed in < and >,[],"Also fixes an issue with irc_notice messages and
messages from people named ""*action"" were being
handled as actions in notifications.
"
ubergeek42/weechat-android,closed,Input may contain multiple lines (if pasted),[],"This splits the input up by newline and then processes it all separately, ignoring empty lines.
"
ubergeek42/weechat-android,closed,Fixes and improvements for RelayConnection,[],"This fixes issue #98 and makes RelayConnection read/write more efficient.
"
ubergeek42/weechat-android,open,Make about page data selectable and actionable ,"[Label(name=""enhancement"")]","The about page has a email address listed for contacting about bugs or feature requests. There is no way to select this email address: long press does nothing. There is no way to act on this email address: regular click does nothing. There is no way to use this email address besides writing it manually in your email client.

There is also a build number listed in the about page. There is also no way to copy this information. You would have to type this manually, if you want to refer to this build is, and it's very easy to misspell this piece of information. 
"
ubergeek42/weechat-android,open,Duplicate buffer numbers after moving buffer with /buffer move #,"[Label(name=""wontfix"")]","This is unrelated to merged buffers AFAIK. 

When a buffer #weechat is moved using /buffer move 4,  and assuming ##linux is already at buffer 4, Weechat-Android considers both buffers to be at 4, as seen in the buffer list. 

Weechat itself adjusts appropriately: it moves ##linux to 5 and places #weechat to 4.

I have ""settings -  connection settThe s -  only sync open buffers"" turned off

The issue is compounded when additional /buffer move commands are issued. Weechat-Android moves the buffers to correct numbers but neglects updating the position of all other buffers. 

The issue is fixed when I quit and restart Weechat-Android. 
"
ubergeek42/weechat-android,open,More detail in notifications about hot message/highlights,[],"It would be nice if it said more than the nick and text. Maybe a buffer number? Maybe a buffer name 

Something like what highmon.pl does:
72:freenode#weechat <singalaut> azizLIGHT: read_marker
"
ubergeek42/weechat-android,closed,Unnecessary full screen surface updates,[],"If we turn on settings -  developer tools - drawing -  show surface updates, we can see a lot of screen updates in Weechat-Android that seem like full screen updates. 

We see them in the buffer list page even when there are no visual changes. We see them in every buffer because of the blinking cursor. 

I'm not sure if there should be a full screen surface update flashing when there are no discernable visual changes, like in the case of the buffer list view. 

I understand that the full screen surface updates in buffers themselves are the result of the blinking cursor in the text input area. Maybe this is something that should be changed or talked about, in order to reduce the amount of full screen surface updates. 
"
ubergeek42/weechat-android,closed,Implement read_marker,"[Label(name=""enhancement"")]","It will be nice if we can see where we last stopped reading a buffer, after we switched from it and then returned back to it again. A horizontal line indicating this would be ideal. 
"
ubergeek42/weechat-android,closed,"""No hot buffers for now"" when looking at a filtered buffer list","[Label(name=""bug"")]","If you type something to filter the buffer list, and click ""Show hot message""  button at the top, it will say that ""There are no hot buffers for now"" 

What is happening is that it is searching for a hot buffer in the filtered buffer list. Is this intentional? I can understand that it is consistent and could be expected behavior but at the same time it can interfere in normal situations. 

For example:
I have a lot of buffers and I'm trying to to open # weechat to say hello there. I type ""weechat""  to filter the buffer list and see the filtered results and then I click through to open the #weechat buffer. 
Now I receive a hot message on buffer ##linux. I click the show hot message button, but guess what, it says I have no hot buffers for now 

Why? Because buffer list is still filtered by #weechat and ##linux is not part of the results to find a hot message on 

So either you can make the action to show hot messages work on all buffers, regardless of filtered buffer list views, or make it so that after filtering buffer list and changing to a buffer resets the buffer list filter upon a change to a buffer (so that show hot message works on the now unfiltered buffer list) 

Maybe there is another solution? 
"
ubergeek42/weechat-android,closed,Add an option to disable connection state notifications,[],
ubergeek42/weechat-android,closed,Open query on nick click in list,[],
ubergeek42/weechat-android,closed,don't try connecting multiple times,[],"might fix some other connection-related problems
"
ubergeek42/weechat-android,closed,Add option to start app on android start,[],"Needs new permition RECEIVE_BOOT_COMPLETED
"
ubergeek42/weechat-android,closed,Add LED lights support,[],
ubergeek42/weechat-android,closed,Notifications,[],"multi-line notifications. might fix other issues as well
hopefully
"
ubergeek42/weechat-android,closed,Visuals,[],"visual fixes
"
ubergeek42/weechat-android,closed,"UI improvements, connection tweaks, general refactoring",[],"Lots of improvements from @oakkitten. Merged with the latest master and tested on my Nexus 5.

There were a few merge conflicts and I did my best to resolve them. There are probably broken things, but I've been running @oakkitten's fork as a daily driver for a few days and it's been stable.

Opening this PR to get more eyes on this code and hopefully get this merged before we diverge any further.
"
ubergeek42/weechat-android,closed,Highlight notifications,[],"Here is the correct pull request.
Sorry for the typo in the last one.

I also fixes the order of the HLs in the notification
"
ubergeek42/weechat-android,closed,Highlight notification improvement,[],"Highlight notification is now shown with InboxStyle if needed (more than one highlight).
The previous highlights are stored until the user clears the notification or opens the app.
"
ubergeek42/weechat-android,closed,Better notifications,[],"Better notification management.
Main notification is now PRIORITY_MIN so it isn't shown in the StatusBar
Highlight notification is now a separate one, so it can be viewed in the new L lockscreen and on Android Wear devices.
"
ubergeek42/weechat-android,open,WebSocket Disconnect/Reconnect Fails,"[Label(name=""bug"")]","The library we are using for WebSocket support apparently doesn't deal well with disconnects at all(it never times out so the app never knows we lost the connection).

Upstream issue here: https://github.com/TooTallNate/Java-WebSocket/issues/180
"
ubergeek42/weechat-android,closed,[FEATURE] Add button to hide completely the buffer list,[],"I have the nexus 7 tablet and while in landscape mode the app looks fine, in portrait mode i find that the left buffer list get's in the way.
I have already removed seconds from timestamps in an effort to increase chat space.
1/3 of the screen is wasted https://dl.dropboxusercontent.com/u/1987095/2014_08_08_16.29.36.png

A simple button to hide/show the buffer list should suffice or maybe a swipe from the left screen to show it. (if you want to be fancy)
"
ubergeek42/weechat-android,closed,"Cannot connect anymore, instant disconnects",[],"I used the app for many months but since upgrading my nexus 7 (2013 wifi) to 4.4.3 i think, it stopped working.
Either the application crashes instantly when trying to connect and retries continuously (btw with auto-reconnect it's hard to stop this cycle) or you get no feedback at all. (as if you didn't press connect)
But weechat-relay window reveals that the app is trying to connect http://i.imgur.com/Te8ohow.png
I have tried with store version and the latest one from the commit 12 hours ago.
Here is a logcat of the latest try on android L developer preview (but same thing as 4.4.3 as i said). https://dl.dropboxusercontent.com/u/1987095/2014-08-08-14-40-39.txt
I really want to be able to use the app again, ssh is not that great.
"
ubergeek42/weechat-android,closed,Only load buffer from intent when bundle has key,[],"- Android 4.4.4 sends a bundle when launching weechat-android from the homescreen and the app is already running.
"
ubergeek42/weechat-android,closed,add connection type ssl proxy,[],"Hi,
I run my weechat relay behind an nginx, set up as a websocket proxy. This works great with ""Glowing Bear"" and is my prefered solution for webbrowsers. However, i can not find a way to connect weechat-android through the nginx proxy.
"
ubergeek42/weechat-android,closed,Update the version on f-droid,[],"Hi,

I am not sure wether this issue should be put here or directly addressed to F-Droid. The latest version available on F-Droid is called 0.8-dev-b5 and was added on 2013-04-09.

It seems that weechat-android was very active recently, and that many changes have been made since this version.

Moreover, F-Droid is one of the reference repo for opensource applications on Android, and many users who do not install Google Apps (and thus Google Play Store) only rely on F-Droid to find apps.

So I propose to update the version on the F-Droid repo, although I am not sure wether you should do it or wether it should be addressed to F-Droid staff.

Thanks
"
ubergeek42/weechat-android,closed,Support mosh tunnel instead/in addition to ssh,[],"For persistent connections
"
ubergeek42/weechat-android,closed,Add Buffer #'s to Buffer List,[],"There might be users who have memorized what buffer number on their weechat client leads to what channel/query/server buffer. Right now we cannot see those buffer numbers on the main screen of the buffer list. It would provide a faster way to pick a buffer for those who don't use the ""Sort bufferlist"" option in the settings. Ideally the buffer number should prefix the buffer name to enable faster picking of buffers in a large buffer list.

I made a mockup using a screenshot of the old version from google play. It's showing a total of 112 buffers in the title, and shows buffers 74-77 in the buffer list: People who know they want buffer 74 because they know its #weechat should be able to search 74 in the filter too and get to #weechat fast
![image](https://cloud.githubusercontent.com/assets/8013867/3594299/e18d5dc6-0c98-11e4-912f-8a91b5088f40.png)
"
ubergeek42/weechat-android,closed,Unread Buffer count doesn't update upon reading buffer,"[Label(name=""wontfix"")]","Currently, buffer 'unread' count doesn't reset (mark as read) after reading the buffer.  

Per IRC, this could be addressed by sending the buffer command:

lorenzh     | the way glowing bear does this is by sending a ""/buffer"" command to weechat  
ubergeek42  | well, i take that back. you could probably '/buffer #' from the app, but it'd be manual process  
"
ubergeek42/weechat-android,closed,Opening links always reuses the same browser tab,[],"Hi there!

I'm having a problem with how links are opened in Chrome tabs.

If I open a link from weechat-android, then go back to weechat and open a second link, the second link will overwrite the tab for the first link. Even worse, the back button history is also cleared, so I can't get back to the first link without opening the browser history.

Essentially, every link is using the same browser tab.

This behaviour reminds me of the `<a target='name'>` property, which lets you open links in a specific named window. Is something like that happening?

Thanks for your time!
"
ubergeek42/weechat-android,closed,a number of corrections and improvements related to software keyboard and tab completion,[],"except build.gradle updateâ€”i've got no idea if i can remove it from this pull request
"
ubergeek42/weechat-android,closed,Feature request: Use the `ping` verb to keep the connection alive.,[],"Currently, the app will randomly disconnect after a period of time I have not been able to determine any rhyme nor reason to. This disconnection is invisible to the user until they attempt to send a message, at which point they will realize that the disconnection has occurred because the message will never appear. Reconnecting solves the issue.

References:
[`ping` verb usage](http://www.weechat.org/files/doc/devel/weechat_relay_protocol.en.html#command_ping)
"
ubergeek42/weechat-android,closed,Feature Request: Voice input button,[],"First of all, phenomenal app! Thanks for all the hard work!

I've been using this with openVPN and have only recently realized I could use voice input on android. How difficult might it be to use a physical button on the device to begin/end voice input?
"
ubergeek42/weechat-android,open,set ip to internal address when connected to home router,"[Label(name=""feature request"")]","Something like how transdroid does it:  http://www.transdroid.org/download/using-deluge-on-ubuntu/ (see the section titled, ""Local Wifi Network Access"")
Would save me the effort of changing the ip address everytime I want to connect while at home!
"
ubergeek42/weechat-android,closed,& is not displayed well in settings menu,[],"Just a minor bug: in the settings menu i see: ""look &amp; feel""
"
ubergeek42/weechat-android,closed,Nickname prefix/suffix is no longer sent by WeeChat,[],"The nickname prefix/suffix is no longer sent by WeeChat, so messages that used to be displayed as ""12:34:56 &lt;example&gt; hello"" are now ""12:34:56 example hello"".
"
ubergeek42/weechat-android,closed,"AbstractConnection's ""sock"", ""in_stream"" and ""out_stream"" can become null while a RelayConnection's threads are still executing",[],"RelayConnection's ""outstream"" can become null while a sendMsg() Thread is still executing, causing a NPE:

02-09 18:37:37.617 W/System.err(18160): javax.net.ssl.SSLException: Write error: ssl=0x774d37b0: I/O error during system call, Connection reset by peer
02-09 18:37:37.617 W/System.err(18160):     at com.android.org.conscrypt.NativeCrypto.SSL_write(Native Method)
02-09 18:37:37.617 W/System.err(18160):     at com.android.org.conscrypt.OpenSSLSocketImpl$SSLOutputStream.write(OpenSSLSocketImpl.java:731)
02-09 18:37:37.617 W/System.err(18160):     at java.io.OutputStream.write(OutputStream.java:82)
02-09 18:37:37.617 W/System.err(18160):     at com.ubergeek42.weechat.relay.RelayConnection$1.run(RelayConnection.java:229)
02-09 18:37:37.617 W/System.err(18160):     at java.lang.Thread.run(Thread.java:841)
02-09 18:37:37.627 W/dalvikvm(18160): threadid=18: thread exiting with uncaught exception (group=0x417adba8)

02-09 18:37:37.827 E/ACRA    (18160): java.lang.NullPointerException
02-09 18:37:37.827 E/ACRA    (18160):   at com.ubergeek42.weechat.relay.RelayConnection$1.run(RelayConnection.java:229)
02-09 18:37:37.827 E/ACRA    (18160):   at java.lang.Thread.run(Thread.java:841)
"
ubergeek42/weechat-android,closed,RelayConnection should use a non-blocking socket instead of a thread per message,[],"RelayConnection should use a non-blocking socket instead of a thread per message. If the blocking socket buffer fills up then outstanding messages could be sent interleaved or out of sequence.

If it's not practical to set a large enough send buffer on a non-blocking socket, then use a ThreadPoolExecutorService with a single thread to queue the messages.
"
ubergeek42/weechat-android,open,weechat-android cannot access ssh private keys under Kitkat,[],"After updating to Kitkat, weechat-android can no longer access my ssh private keys. When trying to connect the client displays following error:

```
Error: java.io.FileNotFoundException: /storage/emulated/0/secret.key: open failed: EACCES (Permission denied)
```

I am pretty sure the path I have entered is correct, since it worked under previous version of android and I don't think this is a device dependent issue since I have faced the same issue with two of my devices.
"
ubergeek42/weechat-android,closed,[Suggestion] Add an option to launch a command after connecting,[],"Hi,

Would it be possible to add an option to launch a command in a buffer, right after the connection. This could be used to change away status (for instance) and notify other users that you are currently on your mobile phone and thus may not answer as quickly as if you were on your computer.

What do you think about this ?

Thanks
"
ubergeek42/weechat-android,open,certificate pinning,[],"I'd like to request certificate pinning for WeechatSSL.
This could be as simple as checking the thumbprint or it could be CA pinning.
"
ubergeek42/weechat-android,open,[Suggestion] Prompt for password,"[Label(name=""enhancement"")]","Hi,

I've been using this interface for a few days now and I'm really happy with it. But I have some security concerns concerning the password handling... I don't have enough knowledge to dig into the code and see how it is handled in the back.

My concern is that I have to store my password in weechat-android configuration if I want it to work. And, if this password is not strongly protected, anyone could potentially read it (including evil apps).

I'm not a big fan of storing passwords on a pocket mobile device, and I was wondering if there could be a way to add a prompt for the password in a future version ?

Thanks
"
ubergeek42/weechat-android,closed,FIX #85,[],"Request READ_EXTERNAL_STORAGE for key access

just a change to permissions
"
ubergeek42/weechat-android,closed,Fix crash when completing nick with 'tab' button.  Fixes #57,[],
ubergeek42/weechat-android,closed,Perform default action when back is pressed while on buffer list.,[],"Fixes #66
"
ubergeek42/weechat-android,closed,Crash on closed buffer,[],"The following will crash weechat (segfault):
1. Connect to weechat relay using weechat-android
2. In weechat: `/buffer relay.relay.list`, then `/close`
3. Click relay list in weechat android.
"
ubergeek42/weechat-android,closed,Fix ubergeek42#85,[],"just had to change permissions
"
ubergeek42/weechat-android,closed,Separation of weechat-relay and weechat-android,[],"so i modified your code a lot. I test all but stunnel. so should you decide to merge, i would ask that you check stunnel. if not let me know and ill install stunnel and check this.

everything else works the same. 

my main goal, as to make weechat-relay function more like a library, and in weechat-android could exist methods to increase functionality. its just that weechat relay protocol only supports ssl and plaintext. this way it should be easier to separate the issues between the two
"
ubergeek42/weechat-android,closed,Fixed the crash on opening a buffer,[],
ubergeek42/weechat-android,closed,Request READ_EXTERNAL_STORAGE for key access,[],"As of API level 19 (KitKat), applications can't read from external storage unless they request `android.permission.READ_EXTERNAL_STORAGE`.  Since weechat-android doesn't request this, when it attempts to access an SSH key or Stunnel certificate stored on external storage, it fails with a ""Permission denied"" error.  This is rather unfortunate, since external storage is the only place a user can put these files (assuming they're not rooted).
"
ubergeek42/weechat-android,closed,Show certificate fingerprint,[],"When connecting to a SSL-relay with a certificate that is not trusted, only the CN, Issuer Name and Serial are shown. This is not appropriate to verify the certificate. I propose displaying the certificate fingerprint as well.

Thanks!
"
ubergeek42/weechat-android,open,allow multiple simultanious relay connections,[],"Hi,

I just started using your great app, thanks! I have irc servers both on company intranet (not open to internet) and also use the normal irc servers in internet. I would like to connect to both of the worlds via singe gui (as in xchat + irssiproxy). Here would be the userstory:

As a user I want to connect simultaneously to both weechat in intranet (via separately arranged VPN) and the internet connected weechat relay and see all the channels in one gui.

This would require to save multiple relay connections in preferences, and maintain the connections selected active. All the channels would be visible in the channel menu, and perhaps separated by relay name. Comparable to xchat.
"
ubergeek42/weechat-android,open,Use file chooser dialog,[],"Some dialogs, like choosing an SSL key, should use a file chooser instead of a plain text input.
"
ubergeek42/weechat-android,closed,user list should open/switch to query,[],"If I click someone in the users list nothing happens. Is this intended? Wouldnâ€™t it be more convenient if a query was opened?
"
ubergeek42/weechat-android,closed,query windows don't show up automatically,[],"Iâ€™m using the version from the play store. Whenever I query someone (using `/query nick`) the window does not get opened nor does it show up in the buffer list. This also happens for channel joins. Only after reconnecting to the server I am able to open that buffer.
"
ubergeek42/weechat-android,closed,Development builds are not installable,[],"Seems like there is still a problem in the cloudbees build. Installing errors with INSTALL_PARSE_FAILED_NO_CERTIFICATE. Compiling it locally works fine though, as commented in #78.
"
ubergeek42/weechat-android,closed,Update android-maven-plugin version to 3.6.0,[],"Fixes compilation with r17 SDK, see: 
https://code.google.com/p/maven-android-plugin/issues/detail?id=377
"
ubergeek42/weechat-android,closed,Replace WeeChat logo by the new one,[],
ubergeek42/weechat-android,closed,Nothing happens after connecting to weechat server,[],"This may be related to #69, but I can't tell from here.

I installed the Weechat Android client (build identifier v0.08-dev-b5-dirty 2013-02-03 17:52) and used the quickstart guide to get started.  I set up an SSH tunnel with private keys, using localhost as my relay host.  I set up the relay on the desktop client.

When I connect from the phone, things appear to start working.  I see 'Connected to localhost' in my notification bar, a new relay is announced in my weechat window and in the relay list window, and the ""Press Menu->Connect to get started"" message goes away.

Unfortunately, that's where things stop.  I do not get a buffer list (this is why I think it might be related to #69), but I also don't get anything in the relay raw window on the desktop client.  This happens when I have correct and incorrect passwords.  Help?
"
ubergeek42/weechat-android,closed,Message text doesn't support background colors,"[Label(name=""bug"")]","Background colors aren't supported in the message text.  This breaks highlights with the colorize_lines script.
"
ubergeek42/weechat-android,closed,Messages sent with /prism on channel with mode +c are sent to next open buffer,[],"Messages sent with /prism command (or all containing color codes?) on channel with mode +c are sent to next open buffer.
"
ubergeek42/weechat-android,closed,User enabled background notification system,[],"If user quits the program a (some kind of) daemon stays in the background to receive hilights and private messages and will display a notification for them. If notification is clicked it'll lauch WeeChat Andoid and the daemon quits. This as a user selectable feature. ... also one might not need notifications while a) not set away b) when any client is connected to WeeChat curses. Could be user selectable? Those options should be set in the script to avoid useless notification data sent and just ignoring it.

Of course this needs some script to be made for WeeChat curses that only sends those hilights and MSGs to the daemon. To make it work propely (on low resources) it should be implemented using push notification feature.

I got this idea from https://github.com/murgo/IrssiNotifier

I think integrating this push notification feature straight in to WeeChat Android makes the whole notification feature setup more user friendly.
"
ubergeek42/weechat-android,open,Offer to do things with a selected nick in nick list,[],"It would be nice to choose from several actions, when a nickname from the nicklist is selected (clicked on). Things that comes to mind are:
- kick/ban
- insert at inputline
- open query
- do a whois
"
ubergeek42/weechat-android,closed,error -9 TLS Packet of unexected length,[],"```
roughnecks | ubergeek42: i am using the weechat android app from a few days and every now and then i am getting this error: errore -9 A TLS packet with unexpected length was received. Whet that 
           | happens, client disconnects and reconnects                          
roughnecks | i also had a crash and sent the report by phone              
ubergeek42 | roughnecks: that error shows up in weechat? or in the client?
roughnecks | weechat
roughnecks | in the core buffer
roughnecks | while in relay.list i can see the disconnections
```
"
ubergeek42/weechat-android,open,Onscreen Keyboard doesn't always show up,[],"```
I have trouble getting the keyboard to show up when I select the input box on weechat for andoird.
what android os version? ive not seen any issues like this before
2.3.7
I can long hold menu and get the keyboard to come up, but it doesn't actually type in the input box.
If I hit back, and long hold menu again it will work.
```
"
ubergeek42/weechat-android,closed,Buffers don't show up when connecting to new server,[],"Apparently when connecting to a new server, the bufferlist doesn't update.  Will have to test to see what the problem might be here.

Reported via email.
"
ubergeek42/weechat-android,closed,Extract all strings into strings.xml,[],"I should at least attempt to make it localization friendly.
"
ubergeek42/weechat-android,open,returning to client after opening web link,[],"On occasion I get an error: ""Weechat has stopped running unexpectedly"" after opening a link and then pressing the back button to go back to the client.

Steps to reproduce:
Click on a web link in a buffer, the page opens in my browser just fine. Upon hitting the back button to close the browser and get back to client, the client stops running.

The client is still in task bar, but has disconnected from weechat.

This only happens on occasion.

Running android 4.0.3 on an HTC One V.
"
ubergeek42/weechat-android,closed,Using the back button on device,[],"If I'm in a buffer and then press the back button the client acts as if I pressed the home button. The app closes dropping me to the homescreen. The app is still running and listed in the task bar at the top. Running Android 4.0.3 on an HTC One V.

Previously when I would press the back button on my Motorola Droid 1 running Android 2.\* I would be brought back to the buffer list.

Desired result when pressing back button: close the buffer as if I had chosen ""close"" from the drop down menu in the client moving me to the buffer to the left or back to the buffer list.
"
ubergeek42/weechat-android,closed,closing a buffer in the middle of a group leads to weird issues,[],"Open multiple buffers.  Close one that isn't at the end.  Observe weird behavior with content/titles of buffers.  It basically acts as if you closed the rightmost buffer, and the titles shift left.
"
ubergeek42/weechat-android,closed,switching buffers doesn't update the title,[],"Fix this.
"
ubergeek42/weechat-android,closed,Switch buffers in weechat to mark things as read,[],"There should be an setting to switch buffers on the weechat side to mark things as read when a buffer is opened/switched to.  This would keep the hotlist from always coming back when you reconnect.
"
ubergeek42/weechat-android,open,Set relay host to localhost if connection type is ssh tunnel,"[Label(name=""enhancement"")]","Most people going through an ssh tunnel will probably be connecting to localhost, so we should default to this most f the time.  Or at least make the suggestion when selecting ssh tunnel to set it to that.
"
ubergeek42/weechat-android,closed,Don't constantly fetch nicklist updates,"[Label(name=""bug"")]","It should only really fetch the nicklist when you have a buffer open, not while just viewing the buffer list.

This bug should also cover reducing network usage in all cases, so if just sitting at the buffer list nothing should really be happening.

Example of badness:
http://imgur.com/ZFXhqAb
"
ubergeek42/weechat-android,closed,Allow copying of links in chat,"[Label(name=""feature request"")]","Possibly tap and hold to copy links in a message or some other method to copy them.

Requested by Zucca in #weechat.

```
Zucca      | ubergeek42: Have you implemented copy link -function in weechat-android?
ubergeek42 | Zucca: what do you mean by that? links are clickable in the client, but you cant ""copy"" them easily
ubergeek42 | Zucca: feel free to submit a request for that on the github issues page though
Zucca      | Yeah. Copying youtube links is a bit hard.
Zucca      | Since Android opens them in yt player.
Zucca      | I tried tap and hold. It felt natural. I'll dend feature request tomorrow. If only I can remember. ;-)
```
"
ubergeek42/weechat-android,open,SSH Tunnel: local port cannot be bount,[],"I used weechat-android for some weeks with ssh tunnel for some weeks (Its totally awesome!). Then i tried the latest dev version from github, and ssh stopped to work, so i downgraded to the stable version, but the problem remains. Whenever i try to connect i get this message:

Error: PortforwardingL: local port 127.0.0.1:22231 cannot be bound.

The strange thing is, i use port 9001. I tried to remove the app and reinstall, reboot the device, tested other settings (using plain connection and connectbot to make port forwarding works), other ports, restarted weechat, everything i could come up with.

It just wont work anymore.
"
ubergeek42/weechat-android,closed,Add option to hide titles in buffer list,"[Label(name=""feature request"")]","Provide an option to hide the titles for channels in the buffer list.  This will allow for more buffers to be shown.(Requested by 'monty')
"
ubergeek42/weechat-android,open,Crash on nick completion,"[Label(name=""bug"")]","Sometimes the app crashes with 2 letter nick completion.  Investigate what might be the cause of this.

It would also be cool if there was a preference to add a colon and a space after completion, since that's typically what you intend to do.
"
ubergeek42/weechat-android,closed,onClick nickname insert,[],"hey keith,

i added some functionality i was missing.

also mentioned a bug to you on irc, which i was not yet able to find...

oh, and the .gitignore thing was vital to me, to not track unneeded files...
"
ubergeek42/weechat-android,closed,Force Close bug,[],"Hey, i set up 0.7 client correctly, but when i join some of my channels, the app crashes. somes others are working. It also crashes with 0.8-dev from todays date.

a logcat of the crash can be found here: http://paste.org/55889

I am running cyanogenmod 10 / android 4.1.2 build from source. 
"
ubergeek42/weechat-android,closed,Let the OS determine whether to use IPv6 or IPv4,[],"InetAddress.getByName will return an IPv6 address if a AAAA record
exists regardless of whether or not the OS supports IPv6. Instead, let
the Socket figure out which address to use.

Fixes a crash when a AAAA record exists for the host but the device
does not have IPv6 connectivity.
"
ubergeek42/weechat-android,closed,Disconnect asynchronously on quit,[],"Fixes an issue on Android 3.0+ when a networking operation occurs on the main thread.
"
ubergeek42/weechat-android,closed,Weechat SSL relay,[],"I'm having issues getting the Weechat SSL relay working.  When I set up weechat and weechat-android, I get the following messages in weechat:

```
16:33  weechat     | relay: new client on port 9001:
                   | 4/ssl.weechat/216.220.101.98
16:33  weechat =!= | relay: reading data on socket for client
                   | 4/ssl.weechat/216.220.101.98: error -9 A TLS packet with
                   | unexpected length was received.
16:33  weechat     | relay: disconnected from client
                   | 4/ssl.weechat/216.220.101.98   
```

I get a notice to accept the certificate on my device, which I do, however I then get this message, and am prompted to accept the certificate again.

I also noticed that weechat-android crashes when attempting to connect to an invalid host.  I noticed this when switching from the SSH relay to SSL relay and not changing the host.

```
D/WeechatActivity(29693): onError:failed to connect to localhost/127.0.0.1 (port 9001): connect failed: ECONNREFUSED (Connection refused)
W/dalvikvm(29693): threadid=17: thread exiting with uncaught exception (group=0x413fa300)
E/AndroidRuntime(29693): FATAL EXCEPTION: Thread-2869
E/AndroidRuntime(29693): java.lang.ClassCastException: java.net.ConnectException cannot be cast to javax.net.ssl.SSLException
E/AndroidRuntime(29693):    at com.ubergeek42.WeechatAndroid.WeechatActivity.onError(WeechatActivity.java:206)
E/AndroidRuntime(29693):    at com.ubergeek42.WeechatAndroid.service.RelayService.onError(RelayService.java:431)
E/AndroidRuntime(29693):    at com.ubergeek42.weechat.relay.RelayConnection$3.run(RelayConnection.java:341)
E/AndroidRuntime(29693):    at java.lang.Thread.run(Thread.java:856)
W/ActivityManager(  307):   Force finishing activity com.ubergeek42.WeechatAndroid/.WeechatActivity
```
"
ubergeek42/weechat-android,closed,Filterable buffer list,[],"When having a lot of buffers open, it can be tedious to find the one you are looking for. A simple input bar that does incremental filtering of the list would be of huge help.
"
ubergeek42/weechat-android,closed,Change the notification icon on highlights,[],"Because weechat-android displays a permanent notification icon (presumably to avoid getting killed in case of OOM), it's not possible to just look at the notification bar to determine if a highlight has occurred or not.

I'm suggesting changing the icon when an actual notification occurred. Maybe an overlaid exclamation mark or envelop or something along those lines.
"
ubergeek42/weechat-android,closed,SSH Tunnel Port does not update,[],"When updating the SSH tunnel port setting, the value displayed in the settings is not updated until I close the settings and open them again.

Client: v0.07-139-gf2d12c2 2012-07-29 20:27 (that's a bit odd, I downloaded http://repository-ubergeek42.forge.cloudbees.com/release/weechat-f2d12c2.apk and on the top it says v0.08-dev) running on Android 4.1.1 (Cyanogenmod 10-20120825-EXPERIMENTAL-i9100-BEANPEELER)
"
ubergeek42/weechat-android,closed,NullPointerException when using /wc,[],"When trying to close a buffer, that's what I get:

```
D/c*.u*.W*.WeechatActivi*(22475): onBufferSelected() buffer:irc.rizon.pokAlexisDJ
D/c*.u*.W*.f*.BufferFrag*(22475): Bufferfragment onserviceconnected
W/dalvikvm(22475): threadid=15: thread exiting with uncaught exception (group=0x414a8300)
E/AndroidRuntime(22475): FATAL EXCEPTION: Thread-610
E/AndroidRuntime(22475): java.lang.NullPointerException
E/AndroidRuntime(22475):    at com.ubergeek42.WeechatAndroid.fragments.BufferFragment.onBufferClosed(BufferFragment.java:234)
E/AndroidRuntime(22475):    at com.ubergeek42.weechat.Buffer.destroy(Buffer.java:264)
E/AndroidRuntime(22475):    at com.ubergeek42.weechat.relay.messagehandler.BufferManager.handleMessage(BufferManager.java:202)
E/AndroidRuntime(22475):    at com.ubergeek42.weechat.relay.RelayConnection.handleMessage(RelayConnection.java:567)
E/AndroidRuntime(22475):    at com.ubergeek42.weechat.relay.RelayConnection.access$1600(RelayConnection.java:56)
E/AndroidRuntime(22475):    at com.ubergeek42.weechat.relay.RelayConnection$5.run(RelayConnection.java:507)
E/AndroidRuntime(22475):    at java.lang.Thread.run(Thread.java:856)
W/ActivityManager( 2082):   Force finishing activity com.ubergeek42.WeechatAndroid/.WeechatActivity
```

Client: v0.07-139-gf2d12c2 2012-07-29 20:27 (that's a bit odd, I downloaded http://repository-ubergeek42.forge.cloudbees.com/release/weechat-f2d12c2.apk and on the top it says v0.08-dev) running on Android 4.1.1 (Cyanogenmod 10-20120825-EXPERIMENTAL-i9100-BEANPEELER)

Server: weechat 0.3.9-dev (compiled today) on Archlinux

Connecting via an SSH tunnel.

If I can do anything else to help you tracking this down, let me know.
"
ubergeek42/weechat-android,closed,Tracking bugs in the fragment_wip branch,[],"This exists only to track known issues with the fragment_wip branch.  Add a comment for any new issues/or comment if they've been fixed.

Current List:
- <del>If you receive a notification, even after clicking on it, clicking the ongoing notification takes you back to the same buffer(e.g. if you get highlighted in #weechat, click the notification and then leave, but come back to weechat through the notification bar, you will be taken back to #weechat, instead of the buffer list).</del> - fixed as of 7/26/2012
- <del>The Hotlist dialog has a grey background on my phone, and the text color is white, which makes it impossible to read.</del>
- <del>Counts for unread/highlights sometimes show negative.</del>
- <del>the back button doesn't get you to the buffer list from inside a buffer. This is a regression.</del>
  - re-implemented for now, but not sure this will be the final behavior.
- <del>when I quit without disconnecting, I get a crash notice. Disconnecting before quitting works fine.</del>
  - was a bug with 3.0+. Fixed in latest
- <del>sometimes the ActionBar shows the last active channel instead of Weechat when returning to the buffer list.</del>
"
ubergeek42/weechat-android,open,Add Tab-complete for commands,[],"Specifically for /query and other ""default"" or basic commands, a tab-complete for ""/?"" where ? is a letter would be nice.
"
ubergeek42/weechat-android,closed,SSH Key Support,"[Label(name=""enhancement"")]","Support using a key instead of a password when connecting with ssh.

A key would be much better on a mobile device, since it can be revoked easily if the device were lost.  Passwords are a bit harder to deal with.
"
ubergeek42/weechat-android,closed,Don't scroll buffers automatically on new messages,[],"When reading a channel backlog, it's annoying to lose your place when the view scrolls automatically to the bottom on a new message.
"
ubergeek42/weechat-android,closed,Tab complete broken with soft keyboards,[],"Some soft keyboards don't send keyevents for the tab key(Swype for example).  This means I have no way to detect that tab was pressed, and no way to complete it.

No elegant workarounds seem to exist either.

Filing this as an issue so I remember the problem if it comes up again.
"
ubergeek42/weechat-android,closed,Add preference for datetime format. Fixes #24,[],
ubergeek42/weechat-android,closed,excessive communication,"[Label(name=""bug"")]","The current version subscribes to _nicklist notifications(I think for all buffers).  This causes excessive communication, and may be the reason battery life suffers now since it can't ever sleep(If you have busy channels/etc, the nicklists will always be changing).

Additionally, large channels send the entire nicklist, which may be problematic due to the size.
"
ubergeek42/weechat-android,closed,let volume keys handle font resize,[],
ubergeek42/weechat-android,closed,Don't close socket when WeeChat is upgrading,[],"I noticed that socket is closed when WeeChat is upgrading (with /upgrade), I think this is not needed.
In QWeeChat, I do that:
- on signal ""_upgrade"", I desync from WeeChat: command ""desync""
- on signal ""_upgrade_ended"", I resync with WeeChat: same commands as sent on startup (except ""init"" which is not needed), ie: listbuffers, listlines, nicklist, sync.
"
ubergeek42/weechat-android,closed,Add sorting,[],"Fixes #35
"
ubergeek42/weechat-android,closed,Incorrect / Bad Color Choice,"[Label(name=""bug"")]","I notice that when I check ""use colors in chat"" that a lot of the colors are.. grey.  Dark grey, darker grey, etc.  It makes it really hard to read.  I am fine with mine being light grey / white, but when one girl who shows up as orange in weechat-curses shows up as the same white/grey that I do.. it's unexpected and weird.  Some other users display in their same color as weechat-curses, but others get all messed up.  If I can figure out how to attach a picture, I'll show ya what I mean.
"
ubergeek42/weechat-android,closed,Buffer list scroll status,[],"The buffer list should remember its scrolled position when you go in and out of buffers. It's very painful to navigate right now if you have many buffers.
"
ubergeek42/weechat-android,closed,Buffer sorting,[],"Options to sort bufferlist more like hotlist, or actually make a hotlist. I want my buffers with highlight and messages first.
If not that, make a hotlist-button (alt-a).
"
ubergeek42/weechat-android,closed,Added ViewHolder pattern to Adapters,[],"This improves scrolling performance as it caches and reuses the TextView's.
(also ran IDEA's auto-formatting, so sorry about some ugly diffs)
"
ubergeek42/weechat-android,closed,Handling of special 0x0F mIRC color reset attribute,[],"Due to performance reasons, this also gets stripped in the WeeChat stripColors() method. Note added in both unit test and Color class.
"
ubergeek42/weechat-android,closed,Fixed a javadoc error in BufferManager,[],"@param pointer should be @param bufferName
"
ubergeek42/weechat-android,closed,Fix for #25 - Colors in topic titles (updated pull request),[],"From this discussion: https://github.com/ubergeek42/weechat-android/pull/29
"
ubergeek42/weechat-android,closed,License,[],"Probably a good idea to add some kind of a license to this project. 

Suggestions:

Apache2 License
BSD
GPL
"
ubergeek42/weechat-android,closed,Fix for #25 - Colors in topic titles,[],"Changed BufferListAdapter to use Color.stripColors instead of Color.stripIRCColors, this seems to strip colors and attributes as it should.
Added some javadoc for Color class
Added unit test for the iset case.
"
ubergeek42/weechat-android,open,unread count for highlights is wrong,"[Label(name=""bug"")]","```
 R1cochet | ubergeek42: about the lastline count. working great, except for highlights. if the last line read in a channel in the android client is a highlight, and you back out to  
          | the buffers list, the highlight shows as an unread line.
```

This is because the HotlistHandler has _buffer_line_added hooked, which probably occurs after the onLineAdded() call in the Chatview activity that resets the highlight.
Fix is maybe for the HostlistHandler to detect if you have the activity in focus?(maybe add a ""currentbufferinfoucus"" variable or similar)
"
ubergeek42/weechat-android,closed,SSH Tunnel Support,"[Label(name=""enhancement"")]","See if it is possible to integrate SSH tunneling for connecting(To keep from having to open additional ports).
"
ubergeek42/weechat-android,open,Wizard on first run/Tips,"[Label(name=""enhancement"")]","Add a simple wizard on first run to get the basic settings configured and offer a few tips.

Add tips that popup at various times(indicating tab completion/filtering/etc)
"
ubergeek42/weechat-android,closed,Colors in topic titles,"[Label(name=""bug"")]","It's currently on stripping foreground colors, not background colors...see the iset buffer for an example of something that's broken.
"
ubergeek42/weechat-android,closed,Custom timestamp format,"[Label(name=""enhancement"")]","Would be nice if the timestamp format could be chosen(so we could hide the seconds display; or simply format it according to our tastes)
"
ubergeek42/weechat-android,closed,Auto Reconnecting,"[Label(name=""bug"")]","It'd be nice to have an option to keep reconnection every n seconds or at least multiple times
"
ubergeek42/weechat-android,closed,UI refresh for ICS devices,[],"First off, weechat-android is totally awesome. However, the UI feels very clunky on ICS devices. Employment of an action bar, elimination of menu actions, and use of new UI elements would make this client rock.

I've left a few comments elsewhere, but in testing out weechat-android I also gave AndChat a shot, connected to irssi-proxy. I'm not actually a weechat convert yet, but if the UI of weechat-android comes anywhere close to AndChat, I'll jump ship in a heartbeat.
"
ubergeek42/weechat-android,closed,Display values in list of settings,"[Label(name=""enhancement"")]","In list of settings, it would be nice to display values below options, for options with text value: host, port, password (for password, display only stars).
So that we can see current value without clicking on the down arrow on the right to edit option.
"
ubergeek42/weechat-android,closed,Crash when connecting without network enabled on device,"[Label(name=""bug"")]","If network is not enabled on device (wifi off), when I try to connect, the application crashes.

OS: Android 2.2
Reproductible: always.

Steps:
1. turn wifi off (and all other data connections)
2. run weechat, setup relay host/port/passord
3. connect
=> crash
"
ubergeek42/weechat-android,closed,Buffer switch on swipe,"[Label(name=""feature request"")]","I would like to be able to switch buffers by doing a left/right swipe on the screen instead of backing out to the buffers list window.
"
ubergeek42/weechat-android,open,Topic in Buffer Title,"[Label(name=""feature request"")]","Hi

Please add the topic to the buffer title.

Thanks
"
ubergeek42/weechat-android,closed,nick completion,"[Label(name=""duplicate"")]","tab-feature for nick completion would be nice too
"
ubergeek42/weechat-android,closed,nick list,"[Label(name=""feature request"")]","adding the nick list as an option would be nice (useful on big screens f.e. tablets)
"
ubergeek42/weechat-android,closed,font size,"[Label(name=""feature request"")]","it'd be nice to able to set the font size (as for different screen resolutions 
"
ubergeek42/weechat-android,closed,handle _upgrade server messages,"[Label(name=""bug"")]","New weechat(as of 5/17/2012) sends a signal when it upgrades.  The client must resync as all pointers change during an upgrade.

Easiest fix on this end is to just force a reconnect.
"
ubergeek42/weechat-android,closed,Better connection/disconnection handling,"[Label(name=""duplicate"")]","Sometimes when using the app weechat shows the relay client as disconnected, but the app doesn't notice.  Maybe have the app periodically ""ping"" weechat(every 5 minutes?) and reconnect if it can't get a response(probably bad for battery life).  Or just have better handling for the connection stuff.

Sometimes app losing connection causes weechat to hang(badly for multiple minutes)
"
ubergeek42/weechat-android,open,Merged buffer support,"[Label(name=""feature request"")]","At the very least for the status/server buffers.  A few possibilities:
- An item representing the merged buffers, that when clicked shows the individual buffers.  In this mode the lines wouldn't be merged together.
- A psuedo buffer that collects lines for all buffers, but tags them accordingly.  I think this might actually be the way to go(merge according to buffer number).

I like the second method best, and creating a psuedobuffer for the merged contents seems relatively simple.
"
ubergeek42/weechat-android,closed,Tab complete nicks,"[Label(name=""feature request"")]","Nick completion with tab would be cool.  Can use hackers keyboard since it has an actual tab key.  For other devices, maybe do android style completion?  Not sure.
"
ubergeek42/weechat-android,closed,dont strip spaces from beginning of command,"[Label(name=""bug"")]","If I write ""  /close"" on client, it sends ""/close"" which then closes my buffer.  Stop stripping leading whitespace.
"
ubergeek42/weechat-android,open,Command support,"[Label(name=""feature request"")]","Specifically /clear would be nice to clear the droid app, without sending it to weechat.
"
ubergeek42/weechat-android,closed,Don't get lines from all buffers to begin with,"[Label(name=""enhancement"")]","On first connect, do not download lines for all buffers; do it when the buffer is opened.
"
ubergeek42/weechat-android,closed,Custom notification options,"[Label(name=""feature request"")]","It'd be nice if I could select my own notification ringtone and volume to be used when notifications are enabled.  Also a setting for the notification led would be cool too.
"
ubergeek42/weechat-android,closed,Clickable links in chat,"[Label(name=""feature request"")]","User suggested on irc making links in chat be clickable.  Should be as simple as adding a property to the textview and letting android do the work.
"
ubergeek42/weechat-android,closed,Bring back quick toggles,"[Label(name=""feature request"")]","In the chat view, bring back menu->toggle timestamps, and menu->toggle filters.  Its annoying to go into the menu to change them.

I'd even consider adding a button near the top for each to toggle these two, as I find it quite common to be toggling them on/off.

Maybe a preference for ""show quick toggles"" so people who don't want them can maximize the space.
"
ubergeek42/weechat-android,open,Own messages add to unread count,"[Label(name=""bug"")]","Sending a message(through the actual weechat interface) counts as an unread message on the android app, and shows the status for a channel in yellow with a number equal to how many lines I wrote.  This shouldn't happen, as I don't usually care that I wrote something was added to a channel when I'm on the android app.
"
ubergeek42/weechat-android,closed,Performance Improvements,"[Label(name=""enhancement"")]","1. Performance in a chatview is quite poor.  This could likely be improved by switching to a listview instead of the tableview, as then only the visible items need to be rendered.
2. Less object creation/more object reuse.  I can probably get away with a single Data object in RelayConnection.  Data can also be switched to use the java.nio.bytebuffer for some things, which may improve performance as well.
3. Maybe write custom textview that renders text in color based on the weechat color codes, rather than converting it to html and using the spannable stuff.  This should save a lot of silly computations.
"
ubergeek42/weechat-android,closed,Suggested features,"[Label(name=""feature request"")]","I was hoping it would be possible to add an align option similar to ""weechat.look.prefix_align"". As is, it seems to be right justified. I prefer no justification of prefixes.

Was also wondering if it would be possible to include a tab complete nickname feature. Not sure if this would even be possible.

Not sure if this is necessary, but maybe for the relay password option have the password hidden.

Also, I like to keep my status buffers merged into one. Would be nice to have option to merge status buffers with core in the ap.

Thank you for this great ap!
"
ubergeek42/weechat-android,closed,Norwegian characters (UTF-8 support),"[Label(name=""bug"")]","Hi,

It seems like weechat-android is missing UTF-8 support. It does not show our norwegian characters Ã¦, Ã¸ and Ã¥ correctly.

![Screenshot](http://pics.blurry-eyes.net/Screenshot_2012-04-19-11-45-35.png)
"
